const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./browserAll-T8jTBuZT.js","./webworkerAll-DnEntE3c.js","./colorToUniform-DmtBy-2V.js","./WebGPURenderer-Br4UIckV.js","./SharedSystems-B6ERBYKV.js","./WebGLRenderer-KZR-fQf5.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Lp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ac={exports:{}},ka={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Ex(){if(mg)return ka;mg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return ka.Fragment=t,ka.jsx=n,ka.jsxs=n,ka}var gg;function Rx(){return gg||(gg=1,ac.exports=Ex()),ac.exports}var Ri=Rx(),rc={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Bx(){if(pg)return ht;pg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(M,j,W){this.props=M,this.context=j,this.refs=T,this.updater=W||x}A.prototype.isReactComponent={},A.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},A.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function R(){}R.prototype=A.prototype;function E(M,j,W){this.props=M,this.context=j,this.refs=T,this.updater=W||x}var B=E.prototype=new R;B.constructor=E,S(B,A.prototype),B.isPureReactComponent=!0;var U=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function N(M,j,W,I,it,mt){return W=mt.ref,{$$typeof:s,type:M,key:j,ref:W!==void 0?W:null,props:mt}}function K(M,j){return N(M.type,j,void 0,void 0,void 0,M.props)}function Q(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function F(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return j[W]})}var Z=/\/+/g;function ut(M,j){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):j.toString(36)}function st(){}function kt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(st,st):(M.status="pending",M.then(function(j){M.status==="pending"&&(M.status="fulfilled",M.value=j)},function(j){M.status==="pending"&&(M.status="rejected",M.reason=j)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ht(M,j,W,I,it){var mt=typeof M;(mt==="undefined"||mt==="boolean")&&(M=null);var lt=!1;if(M===null)lt=!0;else switch(mt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(M.$$typeof){case s:case t:lt=!0;break;case p:return lt=M._init,Ht(lt(M._payload),j,W,I,it)}}if(lt)return it=it(M),lt=I===""?"."+ut(M,0):I,U(it)?(W="",lt!=null&&(W=lt.replace(Z,"$&/")+"/"),Ht(it,j,W,"",function(Se){return Se})):it!=null&&(Q(it)&&(it=K(it,W+(it.key==null||M&&M.key===it.key?"":(""+it.key).replace(Z,"$&/")+"/")+lt)),j.push(it)),1;lt=0;var ue=I===""?".":I+":";if(U(M))for(var Bt=0;Bt<M.length;Bt++)I=M[Bt],mt=ue+ut(I,Bt),lt+=Ht(I,j,W,mt,it);else if(Bt=b(M),typeof Bt=="function")for(M=Bt.call(M),Bt=0;!(I=M.next()).done;)I=I.value,mt=ue+ut(I,Bt++),lt+=Ht(I,j,W,mt,it);else if(mt==="object"){if(typeof M.then=="function")return Ht(kt(M),j,W,I,it);throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return lt}function O(M,j,W){if(M==null)return M;var I=[],it=0;return Ht(M,I,"","",function(mt){return j.call(W,mt,it++)}),I}function X(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var at=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function nt(){}return ht.Children={map:O,forEach:function(M,j,W){O(M,function(){j.apply(this,arguments)},W)},count:function(M){var j=0;return O(M,function(){j++}),j},toArray:function(M){return O(M,function(j){return j})||[]},only:function(M){if(!Q(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ht.Component=A,ht.Fragment=n,ht.Profiler=o,ht.PureComponent=E,ht.StrictMode=r,ht.Suspense=m,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ht.__COMPILER_RUNTIME={__proto__:null,c:function(M){return q.H.useMemoCache(M)}},ht.cache=function(M){return function(){return M.apply(null,arguments)}},ht.cloneElement=function(M,j,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var I=S({},M.props),it=M.key,mt=void 0;if(j!=null)for(lt in j.ref!==void 0&&(mt=void 0),j.key!==void 0&&(it=""+j.key),j)!L.call(j,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&j.ref===void 0||(I[lt]=j[lt]);var lt=arguments.length-2;if(lt===1)I.children=W;else if(1<lt){for(var ue=Array(lt),Bt=0;Bt<lt;Bt++)ue[Bt]=arguments[Bt+2];I.children=ue}return N(M.type,it,void 0,void 0,mt,I)},ht.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ht.createElement=function(M,j,W){var I,it={},mt=null;if(j!=null)for(I in j.key!==void 0&&(mt=""+j.key),j)L.call(j,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(it[I]=j[I]);var lt=arguments.length-2;if(lt===1)it.children=W;else if(1<lt){for(var ue=Array(lt),Bt=0;Bt<lt;Bt++)ue[Bt]=arguments[Bt+2];it.children=ue}if(M&&M.defaultProps)for(I in lt=M.defaultProps,lt)it[I]===void 0&&(it[I]=lt[I]);return N(M,mt,void 0,void 0,null,it)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(M){return{$$typeof:f,render:M}},ht.isValidElement=Q,ht.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:X}},ht.memo=function(M,j){return{$$typeof:g,type:M,compare:j===void 0?null:j}},ht.startTransition=function(M){var j=q.T,W={};q.T=W;try{var I=M(),it=q.S;it!==null&&it(W,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(nt,at)}catch(mt){at(mt)}finally{q.T=j}},ht.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ht.use=function(M){return q.H.use(M)},ht.useActionState=function(M,j,W){return q.H.useActionState(M,j,W)},ht.useCallback=function(M,j){return q.H.useCallback(M,j)},ht.useContext=function(M){return q.H.useContext(M)},ht.useDebugValue=function(){},ht.useDeferredValue=function(M,j){return q.H.useDeferredValue(M,j)},ht.useEffect=function(M,j,W){var I=q.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(M,j)},ht.useId=function(){return q.H.useId()},ht.useImperativeHandle=function(M,j,W){return q.H.useImperativeHandle(M,j,W)},ht.useInsertionEffect=function(M,j){return q.H.useInsertionEffect(M,j)},ht.useLayoutEffect=function(M,j){return q.H.useLayoutEffect(M,j)},ht.useMemo=function(M,j){return q.H.useMemo(M,j)},ht.useOptimistic=function(M,j){return q.H.useOptimistic(M,j)},ht.useReducer=function(M,j,W){return q.H.useReducer(M,j,W)},ht.useRef=function(M){return q.H.useRef(M)},ht.useState=function(M){return q.H.useState(M)},ht.useSyncExternalStore=function(M,j,W){return q.H.useSyncExternalStore(M,j,W)},ht.useTransition=function(){return q.H.useTransition()},ht.version="19.1.1",ht}var yg;function rh(){return yg||(yg=1,rc.exports=Bx()),rc.exports}var zn=rh(),lc={exports:{}},Ha={},oc={exports:{}},uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function zx(){return _g||(_g=1,(function(s){function t(O,X){var at=O.length;O.push(X);t:for(;0<at;){var nt=at-1>>>1,M=O[nt];if(0<o(M,X))O[nt]=X,O[at]=M,at=nt;else break t}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var X=O[0],at=O.pop();if(at!==X){O[0]=at;t:for(var nt=0,M=O.length,j=M>>>1;nt<j;){var W=2*(nt+1)-1,I=O[W],it=W+1,mt=O[it];if(0>o(I,at))it<M&&0>o(mt,I)?(O[nt]=mt,O[it]=at,nt=it):(O[nt]=I,O[W]=at,nt=W);else if(it<M&&0>o(mt,at))O[nt]=mt,O[it]=at,nt=it;else break t}}return X}function o(O,X){var at=O.sortIndex-X.sortIndex;return at!==0?at:O.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var m=[],g=[],p=1,y=null,b=3,x=!1,S=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function U(O){for(var X=n(g);X!==null;){if(X.callback===null)r(g);else if(X.startTime<=O)r(g),X.sortIndex=X.expirationTime,t(m,X);else break;X=n(g)}}function q(O){if(T=!1,U(O),!S)if(n(m)!==null)S=!0,L||(L=!0,ut());else{var X=n(g);X!==null&&Ht(q,X.startTime-O)}}var L=!1,N=-1,K=5,Q=-1;function F(){return A?!0:!(s.unstable_now()-Q<K)}function Z(){if(A=!1,L){var O=s.unstable_now();Q=O;var X=!0;try{t:{S=!1,T&&(T=!1,E(N),N=-1),x=!0;var at=b;try{e:{for(U(O),y=n(m);y!==null&&!(y.expirationTime>O&&F());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,b=y.priorityLevel;var M=nt(y.expirationTime<=O);if(O=s.unstable_now(),typeof M=="function"){y.callback=M,U(O),X=!0;break e}y===n(m)&&r(m),U(O)}else r(m);y=n(m)}if(y!==null)X=!0;else{var j=n(g);j!==null&&Ht(q,j.startTime-O),X=!1}}break t}finally{y=null,b=at,x=!1}X=void 0}}finally{X?ut():L=!1}}}var ut;if(typeof B=="function")ut=function(){B(Z)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,kt=st.port2;st.port1.onmessage=Z,ut=function(){kt.postMessage(null)}}else ut=function(){R(Z,0)};function Ht(O,X){N=R(function(){O(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var at=b;b=X;try{return O()}finally{b=at}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(O,X){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var at=b;b=O;try{return X()}finally{b=at}},s.unstable_scheduleCallback=function(O,X,at){var nt=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?nt+at:nt):at=nt,O){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=at+M,O={id:p++,callback:X,priorityLevel:O,startTime:at,expirationTime:M,sortIndex:-1},at>nt?(O.sortIndex=at,t(g,O),n(m)===null&&O===n(g)&&(T?(E(N),N=-1):T=!0,Ht(q,at-nt))):(O.sortIndex=M,t(m,O),S||x||(S=!0,L||(L=!0,ut()))),O},s.unstable_shouldYield=F,s.unstable_wrapCallback=function(O){var X=b;return function(){var at=b;b=X;try{return O.apply(this,arguments)}finally{b=at}}}})(uc)),uc}var xg;function Ox(){return xg||(xg=1,oc.exports=zx()),oc.exports}var cc={exports:{}},fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function Dx(){if(bg)return fe;bg=1;var s=rh();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:g,implementation:p}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fe.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,p)},fe.flushSync=function(m){var g=c.T,p=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=p,r.d.f()}},fe.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},fe.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},fe.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,y=f(p,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):p==="script"&&r.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fe.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=f(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},fe.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=f(p,g.crossOrigin);r.d.L(m,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fe.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=f(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},fe.requestFormReset=function(m){r.d.r(m)},fe.unstable_batchedUpdates=function(m,g){return m(g)},fe.useFormState=function(m,g,p){return c.H.useFormState(m,g,p)},fe.useFormStatus=function(){return c.H.useHostTransitionStatus()},fe.version="19.1.1",fe}var vg;function Ux(){if(vg)return cc.exports;vg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),cc.exports=Dx(),cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function Gx(){if(Sg)return Ha;Sg=1;var s=Ox(),t=rh(),n=Ux();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return f(h),e;if(d===l)return f(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,v=h.child;v;){if(v===a){_=!0,a=h,l=d;break}if(v===l){_=!0,l=h,a=d;break}v=v.sibling}if(!_){for(v=d.child;v;){if(v===a){_=!0,a=d,l=h;break}if(v===l){_=!0,l=d,a=h;break}v=v.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),B=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ut(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var st=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===st?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case B:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case U:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:kt(e.type)||"Memo";case K:i=e._payload,e=e._init;try{return kt(e(i))}catch{}}return null}var Ht=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},nt=[],M=-1;function j(e){return{current:e}}function W(e){0>M||(e.current=nt[M],nt[M]=null,M--)}function I(e,i){M++,nt[M]=e.current,e.current=i}var it=j(null),mt=j(null),lt=j(null),ue=j(null);function Bt(e,i){switch(I(lt,i),I(mt,e),I(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Xm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Xm(i),e=Vm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(it),I(it,e)}function Se(){W(it),W(mt),W(lt)}function Gi(e){e.memoizedState!==null&&I(ue,e);var i=it.current,a=Vm(i,e.type);i!==a&&(I(mt,e),I(it,a))}function ki(e){mt.current===e&&(W(it),W(mt)),ue.current===e&&(W(ue),za._currentValue=at)}var Fe=Object.prototype.hasOwnProperty,Qe=s.unstable_scheduleCallback,Ze=s.unstable_cancelCallback,fi=s.unstable_shouldYield,ql=s.unstable_requestPaint,Ae=s.unstable_now,jl=s.unstable_getCurrentPriorityLevel,Fl=s.unstable_ImmediatePriority,Sh=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,u0=s.unstable_LowPriority,Ah=s.unstable_IdlePriority,c0=s.log,h0=s.unstable_setDisableYieldValue,Ls=null,we=null;function Hi(e){if(typeof c0=="function"&&h0(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Ls,e)}catch{}}var Te=Math.clz32?Math.clz32:m0,f0=Math.log,d0=Math.LN2;function m0(e){return e>>>=0,e===0?32:31-(f0(e)/d0|0)|0}var nr=256,sr=4194304;function hn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ar(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?h=hn(l):(_&=v,_!==0?h=hn(_):a||(a=v&~e,a!==0&&(h=hn(a))))):(v=l&~d,v!==0?h=hn(v):_!==0?h=hn(_):a||(a=l&~e,a!==0&&(h=hn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ys(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function g0(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wh(){var e=nr;return nr<<=1,(nr&4194048)===0&&(nr=256),e}function Th(){var e=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),e}function Ql(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ps(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function p0(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,G=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-Te(a),V=1<<Y;v[Y]=0,w[Y]=-1;var k=G[Y];if(k!==null)for(G[Y]=null,Y=0;Y<k.length;Y++){var H=k[Y];H!==null&&(H.lane&=-536870913)}a&=~V}l!==0&&Mh(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Mh(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Te(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ch(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Te(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Zl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Il(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eh(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:og(e.type))}function y0(e,i){var a=X.p;try{return X.p=e,i()}finally{X.p=a}}var Ni=Math.random().toString(36).slice(2),ce="__reactFiber$"+Ni,pe="__reactProps$"+Ni,Pn="__reactContainer$"+Ni,Wl="__reactEvents$"+Ni,_0="__reactListeners$"+Ni,x0="__reactHandles$"+Ni,Rh="__reactResources$"+Ni,Xs="__reactMarker$"+Ni;function Kl(e){delete e[ce],delete e[pe],delete e[Wl],delete e[_0],delete e[x0]}function Xn(e){var i=e[ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Pn]||a[ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Qm(e);e!==null;){if(a=e[ce])return a;e=Qm(e)}return i}e=a,a=e.parentNode}return null}function Vn(e){if(e=e[ce]||e[Pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Vs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function qn(e){var i=e[Rh];return i||(i=e[Rh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(e){e[Xs]=!0}var Bh=new Set,zh={};function fn(e,i){jn(e,i),jn(e+"Capture",i)}function jn(e,i){for(zh[e]=i,e=0;e<i.length;e++)Bh.add(i[e])}var b0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oh={},Dh={};function v0(e){return Fe.call(Dh,e)?!0:Fe.call(Oh,e)?!1:b0.test(e)?Dh[e]=!0:(Oh[e]=!0,!1)}function rr(e,i,a){if(v0(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function lr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function di(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var $l,Uh;function Fn(e){if($l===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$l=i&&i[1]||"",Uh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$l+e+Uh}var Jl=!1;function to(e,i){if(!e||Jl)return"";Jl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(H){var k=H}Reflect.construct(e,[],V)}else{try{V.call()}catch(H){k=H}e.call(V.prototype)}}else{try{throw Error()}catch(H){k=H}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],v=d[1];if(_&&v){var w=_.split(`
`),G=v.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===G.length)for(l=w.length-1,h=G.length-1;1<=l&&0<=h&&w[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==G[h]){var Y=`
`+w[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Jl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Fn(a):""}function S0(e){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return to(e.type,!1);case 11:return to(e.type.render,!1);case 1:return to(e.type,!0);case 31:return Fn("Activity");default:return""}}function Gh(e){try{var i="";do i+=S0(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function A0(e){var i=kh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function or(e){e._valueTracker||(e._valueTracker=A0(e))}function Hh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=kh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var w0=/[\n"\\]/g;function ke(e){return e.replace(w0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function eo(e,i,a,l,h,d,_,v){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ge(i)):e.value!==""+Ge(i)&&(e.value=""+Ge(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?io(e,_,Ge(i)):a!=null?io(e,_,Ge(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ge(v):e.removeAttribute("name")}function Nh(e,i,a,l,h,d,_,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ge(a):"",i=i!=null?""+Ge(i):a,v||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function io(e,i,a){i==="number"&&ur(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qn(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ge(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Lh(e,i,a){if(i!=null&&(i=""+Ge(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ge(a):""}function Yh(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ht(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ge(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Zn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var T0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||T0.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Xh(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ph(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ph(e,d,i[d])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return C0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var so=null;function ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var In=null,Wn=null;function Vh(e){var i=Vn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(eo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ke(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(r(90));eo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Hh(l)}break t;case"textarea":Lh(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Qn(e,!!a.multiple,i,!1)}}}var ro=!1;function qh(e,i,a){if(ro)return e(i,a);ro=!0;try{var l=e(i);return l}finally{if(ro=!1,(In!==null||Wn!==null)&&(Ir(),In&&(i=In,e=Wn,Wn=In=null,Vh(i),e)))for(i=0;i<e.length;i++)Vh(e[i])}}function qs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=!1;if(mi)try{var js={};Object.defineProperty(js,"passive",{get:function(){lo=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{lo=!1}var Li=null,oo=null,hr=null;function jh(){if(hr)return hr;var e,i=oo,a=i.length,l,h="value"in Li?Li.value:Li.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return hr=h.slice(e,1<l?1-l:void 0)}function fr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function Fh(){return!1}function ye(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?dr:Fh,this.isPropagationStopped=Fh,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=ye(dn),Fs=p({},dn,{view:0,detail:0}),E0=ye(Fs),uo,co,Qs,gr=p({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(uo=e.screenX-Qs.screenX,co=e.screenY-Qs.screenY):co=uo=0,Qs=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),Qh=ye(gr),R0=p({},gr,{dataTransfer:0}),B0=ye(R0),z0=p({},Fs,{relatedTarget:0}),ho=ye(z0),O0=p({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=ye(O0),U0=p({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G0=ye(U0),k0=p({},dn,{data:0}),Zh=ye(k0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=L0[e])?!!i[e]:!1}function fo(){return Y0}var P0=p({},Fs,{key:function(e){if(e.key){var i=H0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X0=ye(P0),V0=p({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=ye(V0),q0=p({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),j0=ye(q0),F0=p({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=ye(F0),Z0=p({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I0=ye(Z0),W0=p({},dn,{newState:0,oldState:0}),K0=ye(W0),$0=[9,13,27,32],mo=mi&&"CompositionEvent"in window,Zs=null;mi&&"documentMode"in document&&(Zs=document.documentMode);var J0=mi&&"TextEvent"in window&&!Zs,Wh=mi&&(!mo||Zs&&8<Zs&&11>=Zs),Kh=" ",$h=!1;function Jh(e,i){switch(e){case"keyup":return $0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function t_(e,i){switch(e){case"compositionend":return tf(i);case"keypress":return i.which!==32?null:($h=!0,Kh);case"textInput":return e=i.data,e===Kh&&$h?null:e;default:return null}}function e_(e,i){if(Kn)return e==="compositionend"||!mo&&Jh(e,i)?(e=jh(),hr=oo=Li=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wh&&i.locale!=="ko"?null:i.data;default:return null}}var i_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!i_[e.type]:i==="textarea"}function nf(e,i,a,l){In?Wn?Wn.push(l):Wn=[l]:In=l,i=el(i,"onChange"),0<i.length&&(a=new mr("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Is=null,Ws=null;function n_(e){Hm(e,0)}function pr(e){var i=Vs(e);if(Hh(i))return e}function sf(e,i){if(e==="change")return i}var af=!1;if(mi){var go;if(mi){var po="oninput"in document;if(!po){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),po=typeof rf.oninput=="function"}go=po}else go=!1;af=go&&(!document.documentMode||9<document.documentMode)}function lf(){Is&&(Is.detachEvent("onpropertychange",of),Ws=Is=null)}function of(e){if(e.propertyName==="value"&&pr(Ws)){var i=[];nf(i,Ws,e,ao(e)),qh(n_,i)}}function s_(e,i,a){e==="focusin"?(lf(),Is=i,Ws=a,Is.attachEvent("onpropertychange",of)):e==="focusout"&&lf()}function a_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pr(Ws)}function r_(e,i){if(e==="click")return pr(i)}function l_(e,i){if(e==="input"||e==="change")return pr(i)}function o_(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Me=typeof Object.is=="function"?Object.is:o_;function Ks(e,i){if(Me(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Fe.call(i,h)||!Me(e[h],i[h]))return!1}return!0}function uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,i){var a=uf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uf(a)}}function hf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?hf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ff(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ur(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ur(e.document)}return i}function yo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var u_=mi&&"documentMode"in document&&11>=document.documentMode,$n=null,_o=null,$s=null,xo=!1;function df(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xo||$n==null||$n!==ur(l)||(l=$n,"selectionStart"in l&&yo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Ks($s,l)||($s=l,l=el(_o,"onSelect"),0<l.length&&(i=new mr("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=$n)))}function mn(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Jn={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionrun:mn("Transition","TransitionRun"),transitionstart:mn("Transition","TransitionStart"),transitioncancel:mn("Transition","TransitionCancel"),transitionend:mn("Transition","TransitionEnd")},bo={},mf={};mi&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function gn(e){if(bo[e])return bo[e];if(!Jn[e])return e;var i=Jn[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in mf)return bo[e]=i[a];return e}var gf=gn("animationend"),pf=gn("animationiteration"),yf=gn("animationstart"),c_=gn("transitionrun"),h_=gn("transitionstart"),f_=gn("transitioncancel"),_f=gn("transitionend"),xf=new Map,vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vo.push("scrollEnd");function Ie(e,i){xf.set(e,i),fn(i,[e])}var bf=new WeakMap;function He(e,i){if(typeof e=="object"&&e!==null){var a=bf.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Gh(i)},bf.set(e,i),i)}return{value:e,source:i,stack:Gh(i)}}var Ne=[],ts=0,So=0;function yr(){for(var e=ts,i=So=ts=0;i<e;){var a=Ne[i];Ne[i++]=null;var l=Ne[i];Ne[i++]=null;var h=Ne[i];Ne[i++]=null;var d=Ne[i];if(Ne[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&vf(a,h,d)}}function _r(e,i,a,l){Ne[ts++]=e,Ne[ts++]=i,Ne[ts++]=a,Ne[ts++]=l,So|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ao(e,i,a,l){return _r(e,i,a,l),xr(e)}function es(e,i){return _r(e,null,null,i),xr(e)}function vf(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Te(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function xr(e){if(50<Aa)throw Aa=0,Ru=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var is={};function d_(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ce(e,i,a,l){return new d_(e,i,a,l)}function wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gi(e,i){var a=e.alternate;return a===null?(a=Ce(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sf(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function br(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")wo(e)&&(_=1);else if(typeof e=="string")_=gx(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Q:return e=Ce(31,a,i,h),e.elementType=Q,e.lanes=d,e;case S:return pn(a.children,h,d,i);case T:_=8,h|=24;break;case A:return e=Ce(12,a,i,h|2),e.elementType=A,e.lanes=d,e;case q:return e=Ce(13,a,i,h),e.elementType=q,e.lanes=d,e;case L:return e=Ce(19,a,i,h),e.elementType=L,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case B:_=10;break t;case E:_=9;break t;case U:_=11;break t;case N:_=14;break t;case K:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Ce(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function pn(e,i,a,l){return e=Ce(7,e,l,i),e.lanes=a,e}function To(e,i,a){return e=Ce(6,e,null,i),e.lanes=a,e}function Mo(e,i,a){return i=Ce(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ns=[],ss=0,vr=null,Sr=0,Le=[],Ye=0,yn=null,pi=1,yi="";function _n(e,i){ns[ss++]=Sr,ns[ss++]=vr,vr=e,Sr=i}function Af(e,i,a){Le[Ye++]=pi,Le[Ye++]=yi,Le[Ye++]=yn,yn=e;var l=pi;e=yi;var h=32-Te(l)-1;l&=~(1<<h),a+=1;var d=32-Te(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,pi=1<<32-Te(i)+h|a<<h|l,yi=d+e}else pi=1<<d|a<<h|l,yi=e}function Co(e){e.return!==null&&(_n(e,1),Af(e,1,0))}function Eo(e){for(;e===vr;)vr=ns[--ss],ns[ss]=null,Sr=ns[--ss],ns[ss]=null;for(;e===yn;)yn=Le[--Ye],Le[Ye]=null,yi=Le[--Ye],Le[Ye]=null,pi=Le[--Ye],Le[Ye]=null}var me=null,Xt=null,St=!1,xn=null,ni=!1,Ro=Error(r(519));function bn(e){var i=Error(r(418,""));throw ea(He(i,e)),Ro}function wf(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ce]=e,i[pe]=l,a){case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":case"embed":pt("load",i);break;case"video":case"audio":for(a=0;a<Ta.length;a++)pt(Ta[a],i);break;case"source":pt("error",i);break;case"img":case"image":case"link":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"input":pt("invalid",i),Nh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),or(i);break;case"select":pt("invalid",i);break;case"textarea":pt("invalid",i),Yh(i,l.value,l.defaultValue,l.children),or(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Pm(i.textContent,a)?(l.popover!=null&&(pt("beforetoggle",i),pt("toggle",i)),l.onScroll!=null&&pt("scroll",i),l.onScrollEnd!=null&&pt("scrollend",i),l.onClick!=null&&(i.onclick=il),i=!0):i=!1,i||bn(e)}function Tf(e){for(me=e.return;me;)switch(me.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:me=me.return}}function Js(e){if(e!==me)return!1;if(!St)return Tf(e),St=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ju(e.type,e.memoizedProps)),a=!a),a&&Xt&&bn(e),Tf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Xt=Ke(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Xt=null}}else i===27?(i=Xt,en(e.type)?(e=Iu,Iu=null,Xt=e):Xt=i):Xt=me?Ke(e.stateNode.nextSibling):null;return!0}function ta(){Xt=me=null,St=!1}function Mf(){var e=xn;return e!==null&&(be===null?be=e:be.push.apply(be,e),xn=null),e}function ea(e){xn===null?xn=[e]:xn.push(e)}var Bo=j(null),vn=null,_i=null;function Yi(e,i,a){I(Bo,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=Bo.current,W(Bo)}function zo(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Oo(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var v=d;d=h;for(var w=0;w<i.length;w++)if(v.context===i[w]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),zo(d.return,a,e),l||(_=null);break t}d=v.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zo(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ia(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var v=h.type;Me(h.pendingProps.value,_.value)||(e!==null?e.push(v):e=[v])}}else if(h===ue.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(za):e=[za])}h=h.return}e!==null&&Oo(i,e,a,l),i.flags|=262144}function Ar(e){for(e=e.firstContext;e!==null;){if(!Me(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sn(e){vn=e,_i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function he(e){return Cf(vn,e)}function wr(e,i){return vn===null&&Sn(e),Cf(e,i)}function Cf(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},_i===null){if(e===null)throw Error(r(308));_i=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else _i=_i.next=i;return a}var m_=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},g_=s.unstable_scheduleCallback,p_=s.unstable_NormalPriority,Kt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Do(){return{controller:new m_,data:new Map,refCount:0}}function na(e){e.refCount--,e.refCount===0&&g_(p_,function(){e.controller.abort()})}var sa=null,Uo=0,as=0,rs=null;function y_(e,i){if(sa===null){var a=sa=[];Uo=0,as=ku(),rs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uo++,i.then(Ef,Ef),i}function Ef(){if(--Uo===0&&sa!==null){rs!==null&&(rs.status="fulfilled");var e=sa;sa=null,as=0,rs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function __(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Rf=O.S;O.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&y_(e,i),Rf!==null&&Rf(e,i)};var An=j(null);function Go(){var e=An.current;return e!==null?e:Ot.pooledCache}function Tr(e,i){i===null?I(An,An.current):I(An,i.pool)}function Bf(){var e=Go();return e===null?null:{parent:Kt._currentValue,pool:e}}var aa=Error(r(460)),zf=Error(r(474)),Mr=Error(r(542)),ko={then:function(){}};function Of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cr(){}function Df(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Cr,Cr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gf(e),e;default:if(typeof i.status=="string")i.then(Cr,Cr);else{if(e=Ot,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gf(e),e}throw ra=i,aa}}var ra=null;function Uf(){if(ra===null)throw Error(r(459));var e=ra;return ra=null,e}function Gf(e){if(e===aa||e===Mr)throw Error(r(483))}var Pi=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(At&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=xr(e),vf(e,null,a),i}return _r(e,l,i,a),xr(e)}function la(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ch(e,a)}}function Lo(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Yo=!1;function oa(){if(Yo){var e=rs;if(e!==null)throw e}}function ua(e,i,a,l){Yo=!1;var h=e.updateQueue;Pi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var w=v,G=w.next;w.next=null,_===null?d=G:_.next=G,_=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,v=Y.lastBaseUpdate,v!==_&&(v===null?Y.firstBaseUpdate=G:v.next=G,Y.lastBaseUpdate=w))}if(d!==null){var V=h.baseState;_=0,Y=G=w=null,v=d;do{var k=v.lane&-536870913,H=k!==v.lane;if(H?(xt&k)===k:(l&k)===k){k!==0&&k===as&&(Yo=!0),Y!==null&&(Y=Y.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ct=e,rt=v;k=i;var Et=a;switch(rt.tag){case 1:if(ct=rt.payload,typeof ct=="function"){V=ct.call(Et,V,k);break t}V=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=rt.payload,k=typeof ct=="function"?ct.call(Et,V,k):ct,k==null)break t;V=p({},V,k);break t;case 2:Pi=!0}}k=v.callback,k!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[k]:H.push(k))}else H={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Y===null?(G=Y=H,w=V):Y=Y.next=H,_|=k;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;H=v,v=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(w=V),h.baseState=w,h.firstBaseUpdate=G,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ki|=_,e.lanes=_,e.memoizedState=V}}function kf(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Hf(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kf(a[e],i)}var ls=j(null),Er=j(0);function Nf(e,i){e=Mi,I(Er,e),I(ls,i),Mi=e|i.baseLanes}function Po(){I(Er,Mi),I(ls,ls.current)}function Xo(){Mi=Er.current,W(ls),W(Er)}var qi=0,ft=null,Mt=null,It=null,Rr=!1,os=!1,wn=!1,Br=0,ca=0,us=null,x_=0;function jt(){throw Error(r(321))}function Vo(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Me(e[a],i[a]))return!1;return!0}function qo(e,i,a,l,h,d){return qi=d,ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=e===null||e.memoizedState===null?vd:Sd,wn=!1,d=a(l,h),wn=!1,os&&(d=Yf(i,a,l,h)),Lf(e),d}function Lf(e){O.H=kr;var i=Mt!==null&&Mt.next!==null;if(qi=0,It=Mt=ft=null,Rr=!1,ca=0,us=null,i)throw Error(r(300));e===null||te||(e=e.dependencies,e!==null&&Ar(e)&&(te=!0))}function Yf(e,i,a,l){ft=e;var h=0;do{if(os&&(us=null),ca=0,os=!1,25<=h)throw Error(r(301));if(h+=1,It=Mt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}O.H=M_,d=i(a,l)}while(os);return d}function b_(){var e=O.H,i=e.useState()[0];return i=typeof i.then=="function"?ha(i):i,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(ft.flags|=1024),i}function jo(){var e=Br!==0;return Br=0,e}function Fo(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Qo(e){if(Rr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Rr=!1}qi=0,It=Mt=ft=null,os=!1,ca=Br=0,us=null}function _e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ft.memoizedState=It=e:It=It.next=e,It}function Wt(){if(Mt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var i=It===null?ft.memoizedState:It.next;if(i!==null)It=i,Mt=e;else{if(e===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},It===null?ft.memoizedState=It=e:It=It.next=e}return It}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(e){var i=ca;return ca+=1,us===null&&(us=[]),e=Df(us,e,i),i=ft,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?vd:Sd),e}function zr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ha(e);if(e.$$typeof===B)return he(e)}throw Error(r(438,String(e)))}function Io(e){var i=null,a=ft.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ft.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zo(),ft.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=F;return i.index++,a}function bi(e,i){return typeof i=="function"?i(e):i}function Or(e){var i=Wt();return Wo(i,Mt,e)}function Wo(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var v=_=null,w=null,G=i,Y=!1;do{var V=G.lane&-536870913;if(V!==G.lane?(xt&V)===V:(qi&V)===V){var k=G.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),V===as&&(Y=!0);else if((qi&k)===k){G=G.next,k===as&&(Y=!0);continue}else V={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(v=w=V,_=d):w=w.next=V,ft.lanes|=k,Ki|=k;V=G.action,wn&&a(d,V),d=G.hasEagerState?G.eagerState:a(d,V)}else k={lane:V,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(v=w=k,_=d):w=w.next=k,ft.lanes|=V,Ki|=V;G=G.next}while(G!==null&&G!==i);if(w===null?_=d:w.next=v,!Me(d,e.memoizedState)&&(te=!0,Y&&(a=rs,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ko(e){var i=Wt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Me(d,i.memoizedState)||(te=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Pf(e,i,a){var l=ft,h=Wt(),d=St;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Me((Mt||h).memoizedState,a);_&&(h.memoizedState=a,te=!0),h=h.queue;var v=qf.bind(null,l,h,e);if(fa(2048,8,v,[e]),h.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,cs(9,Dr(),Vf.bind(null,l,h,a,i),null),Ot===null)throw Error(r(349));d||(qi&124)!==0||Xf(l,i,a)}return a}function Xf(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=ft.updateQueue,i===null?(i=Zo(),ft.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Vf(e,i,a,l){i.value=a,i.getSnapshot=l,jf(i)&&Ff(e)}function qf(e,i,a){return a(function(){jf(i)&&Ff(e)})}function jf(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Me(e,a)}catch{return!0}}function Ff(e){var i=es(e,2);i!==null&&Oe(i,e,2)}function $o(e){var i=_e();if(typeof e=="function"){var a=e;if(e=a(),wn){Hi(!0);try{a()}finally{Hi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},i}function Qf(e,i,a,l){return e.baseState=a,Wo(e,Mt,typeof l=="function"?l:bi)}function v_(e,i,a,l,h){if(Gr(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};O.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zf(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zf(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=O.T,_={};O.T=_;try{var v=a(h,l),w=O.S;w!==null&&w(_,v),If(e,i,v)}catch(G){Jo(e,i,G)}finally{O.T=d}}else try{d=a(h,l),If(e,i,d)}catch(G){Jo(e,i,G)}}function If(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wf(e,i,l)},function(l){return Jo(e,i,l)}):Wf(e,i,a)}function Wf(e,i,a){i.status="fulfilled",i.value=a,Kf(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Zf(e,a)))}function Jo(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Kf(i),i=i.next;while(i!==l)}e.action=null}function Kf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function $f(e,i){return i}function Jf(e,i){if(St){var a=Ot.formState;if(a!==null){t:{var l=ft;if(St){if(Xt){e:{for(var h=Xt,d=ni;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ke(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Xt=Ke(h.nextSibling),l=h.data==="F!";break t}}bn(l)}l=!1}l&&(i=a[0])}}return a=_e(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$f,lastRenderedState:i},a.queue=l,a=_d.bind(null,ft,l),l.dispatch=a,l=$o(!1),d=su.bind(null,ft,!1,l.queue),l=_e(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=v_.bind(null,ft,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function td(e){var i=Wt();return ed(i,Mt,e)}function ed(e,i,a){if(i=Wo(e,i,$f)[0],e=Or(bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ha(i)}catch(_){throw _===aa?Mr:_}else l=i;i=Wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(ft.flags|=2048,cs(9,Dr(),S_.bind(null,h,a),null)),[l,d,e]}function S_(e,i){e.action=i}function id(e){var i=Wt(),a=Mt;if(a!==null)return ed(i,a,e);Wt(),i=i.memoizedState,a=Wt();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function cs(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=ft.updateQueue,i===null&&(i=Zo(),ft.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Dr(){return{destroy:void 0,resource:void 0}}function nd(){return Wt().memoizedState}function Ur(e,i,a,l){var h=_e();l=l===void 0?null:l,ft.flags|=e,h.memoizedState=cs(1|i,Dr(),a,l)}function fa(e,i,a,l){var h=Wt();l=l===void 0?null:l;var d=h.memoizedState.inst;Mt!==null&&l!==null&&Vo(l,Mt.memoizedState.deps)?h.memoizedState=cs(i,d,a,l):(ft.flags|=e,h.memoizedState=cs(1|i,d,a,l))}function sd(e,i){Ur(8390656,8,e,i)}function ad(e,i){fa(2048,8,e,i)}function rd(e,i){return fa(4,2,e,i)}function ld(e,i){return fa(4,4,e,i)}function od(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ud(e,i,a){a=a!=null?a.concat([e]):null,fa(4,4,od.bind(null,i,e),a)}function tu(){}function cd(e,i){var a=Wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vo(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function hd(e,i){var a=Wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vo(i,l[1]))return l[0];if(l=e(),wn){Hi(!0);try{e()}finally{Hi(!1)}}return a.memoizedState=[l,i],l}function eu(e,i,a){return a===void 0||(qi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=mm(),ft.lanes|=e,Ki|=e,a)}function fd(e,i,a,l){return Me(a,i)?a:ls.current!==null?(e=eu(e,a,l),Me(e,i)||(te=!0),e):(qi&42)===0?(te=!0,e.memoizedState=a):(e=mm(),ft.lanes|=e,Ki|=e,i)}function dd(e,i,a,l,h){var d=X.p;X.p=d!==0&&8>d?d:8;var _=O.T,v={};O.T=v,su(e,!1,i,a);try{var w=h(),G=O.S;if(G!==null&&G(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=__(w,l);da(e,i,Y,ze(e))}else da(e,i,l,ze(e))}catch(V){da(e,i,{then:function(){},status:"rejected",reason:V},ze())}finally{X.p=d,O.T=_}}function A_(){}function iu(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=md(e).queue;dd(e,h,i,at,a===null?A_:function(){return gd(e),a(l)})}function md(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function gd(e){var i=md(e).next.queue;da(e,i,{},ze())}function nu(){return he(za)}function pd(){return Wt().memoizedState}function yd(){return Wt().memoizedState}function w_(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=ze();e=Xi(a);var l=Vi(i,e,a);l!==null&&(Oe(l,i,a),la(l,i,a)),i={cache:Do()},e.payload=i;return}i=i.return}}function T_(e,i,a){var l=ze();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gr(e)?xd(i,a):(a=Ao(e,i,a,l),a!==null&&(Oe(a,e,l),bd(a,i,l)))}function _d(e,i,a){var l=ze();da(e,i,a,l)}function da(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gr(e))xd(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,v=d(_,a);if(h.hasEagerState=!0,h.eagerState=v,Me(v,_))return _r(e,i,h,0),Ot===null&&yr(),!1}catch{}finally{}if(a=Ao(e,i,h,l),a!==null)return Oe(a,e,l),bd(a,i,l),!0}return!1}function su(e,i,a,l){if(l={lane:2,revertLane:ku(),action:l,hasEagerState:!1,eagerState:null,next:null},Gr(e)){if(i)throw Error(r(479))}else i=Ao(e,a,l,2),i!==null&&Oe(i,e,2)}function Gr(e){var i=e.alternate;return e===ft||i!==null&&i===ft}function xd(e,i){os=Rr=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function bd(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ch(e,a)}}var kr={readContext:he,use:zr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},vd={readContext:he,use:zr,useCallback:function(e,i){return _e().memoizedState=[e,i===void 0?null:i],e},useContext:he,useEffect:sd,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ur(4194308,4,od.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ur(4194308,4,e,i)},useInsertionEffect:function(e,i){Ur(4,2,e,i)},useMemo:function(e,i){var a=_e();i=i===void 0?null:i;var l=e();if(wn){Hi(!0);try{e()}finally{Hi(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=_e();if(a!==void 0){var h=a(i);if(wn){Hi(!0);try{a(i)}finally{Hi(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=T_.bind(null,ft,e),[l.memoizedState,e]},useRef:function(e){var i=_e();return e={current:e},i.memoizedState=e},useState:function(e){e=$o(e);var i=e.queue,a=_d.bind(null,ft,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:tu,useDeferredValue:function(e,i){var a=_e();return eu(a,e,i)},useTransition:function(){var e=$o(!1);return e=dd.bind(null,ft,e.queue,!0,!1),_e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=ft,h=_e();if(St){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ot===null)throw Error(r(349));(xt&124)!==0||Xf(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,sd(qf.bind(null,l,d,e),[e]),l.flags|=2048,cs(9,Dr(),Vf.bind(null,l,d,a,i),null),a},useId:function(){var e=_e(),i=Ot.identifierPrefix;if(St){var a=yi,l=pi;a=(l&~(1<<32-Te(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Br++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=x_++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:nu,useFormState:Jf,useActionState:Jf,useOptimistic:function(e){var i=_e();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=su.bind(null,ft,!0,a),a.dispatch=i,[e,i]},useMemoCache:Io,useCacheRefresh:function(){return _e().memoizedState=w_.bind(null,ft)}},Sd={readContext:he,use:zr,useCallback:cd,useContext:he,useEffect:ad,useImperativeHandle:ud,useInsertionEffect:rd,useLayoutEffect:ld,useMemo:hd,useReducer:Or,useRef:nd,useState:function(){return Or(bi)},useDebugValue:tu,useDeferredValue:function(e,i){var a=Wt();return fd(a,Mt.memoizedState,e,i)},useTransition:function(){var e=Or(bi)[0],i=Wt().memoizedState;return[typeof e=="boolean"?e:ha(e),i]},useSyncExternalStore:Pf,useId:pd,useHostTransitionStatus:nu,useFormState:td,useActionState:td,useOptimistic:function(e,i){var a=Wt();return Qf(a,Mt,e,i)},useMemoCache:Io,useCacheRefresh:yd},M_={readContext:he,use:zr,useCallback:cd,useContext:he,useEffect:ad,useImperativeHandle:ud,useInsertionEffect:rd,useLayoutEffect:ld,useMemo:hd,useReducer:Ko,useRef:nd,useState:function(){return Ko(bi)},useDebugValue:tu,useDeferredValue:function(e,i){var a=Wt();return Mt===null?eu(a,e,i):fd(a,Mt.memoizedState,e,i)},useTransition:function(){var e=Ko(bi)[0],i=Wt().memoizedState;return[typeof e=="boolean"?e:ha(e),i]},useSyncExternalStore:Pf,useId:pd,useHostTransitionStatus:nu,useFormState:id,useActionState:id,useOptimistic:function(e,i){var a=Wt();return Mt!==null?Qf(a,Mt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Io,useCacheRefresh:yd},hs=null,ma=0;function Hr(e){var i=ma;return ma+=1,hs===null&&(hs=[]),Df(hs,e,i)}function ga(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Nr(e,i){throw i.$$typeof===y?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ad(e){var i=e._init;return i(e._payload)}function wd(e){function i(z,C){if(e){var D=z.deletions;D===null?(z.deletions=[C],z.flags|=16):D.push(C)}}function a(z,C){if(!e)return null;for(;C!==null;)i(z,C),C=C.sibling;return null}function l(z){for(var C=new Map;z!==null;)z.key!==null?C.set(z.key,z):C.set(z.index,z),z=z.sibling;return C}function h(z,C){return z=gi(z,C),z.index=0,z.sibling=null,z}function d(z,C,D){return z.index=D,e?(D=z.alternate,D!==null?(D=D.index,D<C?(z.flags|=67108866,C):D):(z.flags|=67108866,C)):(z.flags|=1048576,C)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function v(z,C,D,P){return C===null||C.tag!==6?(C=To(D,z.mode,P),C.return=z,C):(C=h(C,D),C.return=z,C)}function w(z,C,D,P){var $=D.type;return $===S?Y(z,C,D.props.children,P,D.key):C!==null&&(C.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===K&&Ad($)===C.type)?(C=h(C,D.props),ga(C,D),C.return=z,C):(C=br(D.type,D.key,D.props,null,z.mode,P),ga(C,D),C.return=z,C)}function G(z,C,D,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=Mo(D,z.mode,P),C.return=z,C):(C=h(C,D.children||[]),C.return=z,C)}function Y(z,C,D,P,$){return C===null||C.tag!==7?(C=pn(D,z.mode,P,$),C.return=z,C):(C=h(C,D),C.return=z,C)}function V(z,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=To(""+C,z.mode,D),C.return=z,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return D=br(C.type,C.key,C.props,null,z.mode,D),ga(D,C),D.return=z,D;case x:return C=Mo(C,z.mode,D),C.return=z,C;case K:var P=C._init;return C=P(C._payload),V(z,C,D)}if(Ht(C)||ut(C))return C=pn(C,z.mode,D,null),C.return=z,C;if(typeof C.then=="function")return V(z,Hr(C),D);if(C.$$typeof===B)return V(z,wr(z,C),D);Nr(z,C)}return null}function k(z,C,D,P){var $=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return $!==null?null:v(z,C,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===$?w(z,C,D,P):null;case x:return D.key===$?G(z,C,D,P):null;case K:return $=D._init,D=$(D._payload),k(z,C,D,P)}if(Ht(D)||ut(D))return $!==null?null:Y(z,C,D,P,null);if(typeof D.then=="function")return k(z,C,Hr(D),P);if(D.$$typeof===B)return k(z,C,wr(z,D),P);Nr(z,D)}return null}function H(z,C,D,P,$){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return z=z.get(D)||null,v(C,z,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return z=z.get(P.key===null?D:P.key)||null,w(C,z,P,$);case x:return z=z.get(P.key===null?D:P.key)||null,G(C,z,P,$);case K:var dt=P._init;return P=dt(P._payload),H(z,C,D,P,$)}if(Ht(P)||ut(P))return z=z.get(D)||null,Y(C,z,P,$,null);if(typeof P.then=="function")return H(z,C,D,Hr(P),$);if(P.$$typeof===B)return H(z,C,D,wr(C,P),$);Nr(C,P)}return null}function ct(z,C,D,P){for(var $=null,dt=null,J=C,ot=C=0,ie=null;J!==null&&ot<D.length;ot++){J.index>ot?(ie=J,J=null):ie=J.sibling;var vt=k(z,J,D[ot],P);if(vt===null){J===null&&(J=ie);break}e&&J&&vt.alternate===null&&i(z,J),C=d(vt,C,ot),dt===null?$=vt:dt.sibling=vt,dt=vt,J=ie}if(ot===D.length)return a(z,J),St&&_n(z,ot),$;if(J===null){for(;ot<D.length;ot++)J=V(z,D[ot],P),J!==null&&(C=d(J,C,ot),dt===null?$=J:dt.sibling=J,dt=J);return St&&_n(z,ot),$}for(J=l(J);ot<D.length;ot++)ie=H(J,z,ot,D[ot],P),ie!==null&&(e&&ie.alternate!==null&&J.delete(ie.key===null?ot:ie.key),C=d(ie,C,ot),dt===null?$=ie:dt.sibling=ie,dt=ie);return e&&J.forEach(function(ln){return i(z,ln)}),St&&_n(z,ot),$}function rt(z,C,D,P){if(D==null)throw Error(r(151));for(var $=null,dt=null,J=C,ot=C=0,ie=null,vt=D.next();J!==null&&!vt.done;ot++,vt=D.next()){J.index>ot?(ie=J,J=null):ie=J.sibling;var ln=k(z,J,vt.value,P);if(ln===null){J===null&&(J=ie);break}e&&J&&ln.alternate===null&&i(z,J),C=d(ln,C,ot),dt===null?$=ln:dt.sibling=ln,dt=ln,J=ie}if(vt.done)return a(z,J),St&&_n(z,ot),$;if(J===null){for(;!vt.done;ot++,vt=D.next())vt=V(z,vt.value,P),vt!==null&&(C=d(vt,C,ot),dt===null?$=vt:dt.sibling=vt,dt=vt);return St&&_n(z,ot),$}for(J=l(J);!vt.done;ot++,vt=D.next())vt=H(J,z,ot,vt.value,P),vt!==null&&(e&&vt.alternate!==null&&J.delete(vt.key===null?ot:vt.key),C=d(vt,C,ot),dt===null?$=vt:dt.sibling=vt,dt=vt);return e&&J.forEach(function(Cx){return i(z,Cx)}),St&&_n(z,ot),$}function Et(z,C,D,P){if(typeof D=="object"&&D!==null&&D.type===S&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:t:{for(var $=D.key;C!==null;){if(C.key===$){if($=D.type,$===S){if(C.tag===7){a(z,C.sibling),P=h(C,D.props.children),P.return=z,z=P;break t}}else if(C.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===K&&Ad($)===C.type){a(z,C.sibling),P=h(C,D.props),ga(P,D),P.return=z,z=P;break t}a(z,C);break}else i(z,C);C=C.sibling}D.type===S?(P=pn(D.props.children,z.mode,P,D.key),P.return=z,z=P):(P=br(D.type,D.key,D.props,null,z.mode,P),ga(P,D),P.return=z,z=P)}return _(z);case x:t:{for($=D.key;C!==null;){if(C.key===$)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){a(z,C.sibling),P=h(C,D.children||[]),P.return=z,z=P;break t}else{a(z,C);break}else i(z,C);C=C.sibling}P=Mo(D,z.mode,P),P.return=z,z=P}return _(z);case K:return $=D._init,D=$(D._payload),Et(z,C,D,P)}if(Ht(D))return ct(z,C,D,P);if(ut(D)){if($=ut(D),typeof $!="function")throw Error(r(150));return D=$.call(D),rt(z,C,D,P)}if(typeof D.then=="function")return Et(z,C,Hr(D),P);if(D.$$typeof===B)return Et(z,C,wr(z,D),P);Nr(z,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(a(z,C.sibling),P=h(C,D),P.return=z,z=P):(a(z,C),P=To(D,z.mode,P),P.return=z,z=P),_(z)):a(z,C)}return function(z,C,D,P){try{ma=0;var $=Et(z,C,D,P);return hs=null,$}catch(J){if(J===aa||J===Mr)throw J;var dt=Ce(29,J,null,z.mode);return dt.lanes=P,dt.return=z,dt}finally{}}}var fs=wd(!0),Td=wd(!1),Pe=j(null),si=null;function ji(e){var i=e.alternate;I($t,$t.current&1),I(Pe,e),si===null&&(i===null||ls.current!==null||i.memoizedState!==null)&&(si=e)}function Md(e){if(e.tag===22){if(I($t,$t.current),I(Pe,e),si===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(si=e)}}else Fi()}function Fi(){I($t,$t.current),I(Pe,Pe.current)}function vi(e){W(Pe),si===e&&(si=null),W($t)}var $t=j(0);function Lr(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function au(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:p({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ru={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=ze(),h=Xi(l);h.payload=i,a!=null&&(h.callback=a),i=Vi(e,h,l),i!==null&&(Oe(i,e,l),la(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=ze(),h=Xi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vi(e,h,l),i!==null&&(Oe(i,e,l),la(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=ze(),l=Xi(a);l.tag=2,i!=null&&(l.callback=i),i=Vi(e,l,a),i!==null&&(Oe(i,e,a),la(i,e,a))}};function Cd(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ks(a,l)||!Ks(h,d):!0}function Ed(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&ru.enqueueReplaceState(i,i.state,null)}function Tn(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=p({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rd(e){Yr(e)}function Bd(e){console.error(e)}function zd(e){Yr(e)}function Pr(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Od(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lu(e,i,a){return a=Xi(a),a.tag=3,a.payload={element:null},a.callback=function(){Pr(e,i)},a}function Dd(e){return e=Xi(e),e.tag=3,e}function Ud(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Od(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Od(i,a,l),typeof h!="function"&&($i===null?$i=new Set([this]):$i.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function C_(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ia(i,a,h,!0),a=Pe.current,a!==null){switch(a.tag){case 13:return si===null?zu():a.alternate===null&&Vt===0&&(Vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ko?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Du(e,l,h)),!1;case 22:return a.flags|=65536,l===ko?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Du(e,l,h)),!1}throw Error(r(435,a.tag))}return Du(e,l,h),zu(),!1}if(St)return i=Pe.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ro&&(e=Error(r(422),{cause:l}),ea(He(e,a)))):(l!==Ro&&(i=Error(r(423),{cause:l}),ea(He(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=He(l,a),h=lu(e.stateNode,l,h),Lo(e,h),Vt!==4&&(Vt=2)),!1;var d=Error(r(520),{cause:l});if(d=He(d,a),Sa===null?Sa=[d]:Sa.push(d),Vt!==4&&(Vt=2),i===null)return!0;l=He(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=lu(a.stateNode,l,e),Lo(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($i===null||!$i.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dd(h),Ud(h,e,a,l),Lo(a,h),!1}a=a.return}while(a!==null);return!1}var Gd=Error(r(461)),te=!1;function se(e,i,a,l){i.child=e===null?Td(i,null,a,l):fs(i,e.child,a,l)}function kd(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var v in l)v!=="ref"&&(_[v]=l[v])}else _=l;return Sn(i),l=qo(e,i,a,_,d,h),v=jo(),e!==null&&!te?(Fo(e,i,h),Si(e,i,h)):(St&&v&&Co(i),i.flags|=1,se(e,i,l,h),i.child)}function Hd(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!wo(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Nd(e,i,d,l,h)):(e=br(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!gu(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ks,a(_,l)&&e.ref===i.ref)return Si(e,i,h)}return i.flags|=1,e=gi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Nd(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ks(d,l)&&e.ref===i.ref)if(te=!1,i.pendingProps=l=d,gu(e,h))(e.flags&131072)!==0&&(te=!0);else return i.lanes=e.lanes,Si(e,i,h)}return ou(e,i,a,l,h)}function Ld(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Yd(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tr(i,d!==null?d.cachePool:null),d!==null?Nf(i,d):Po(),Md(i);else return i.lanes=i.childLanes=536870912,Yd(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Tr(i,d.cachePool),Nf(i,d),Fi(),i.memoizedState=null):(e!==null&&Tr(i,null),Po(),Fi());return se(e,i,h,a),i.child}function Yd(e,i,a,l){var h=Go();return h=h===null?null:{parent:Kt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Tr(i,null),Po(),Md(i),e!==null&&ia(e,i,l,!0),null}function Xr(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ou(e,i,a,l,h){return Sn(i),a=qo(e,i,a,l,void 0,h),l=jo(),e!==null&&!te?(Fo(e,i,h),Si(e,i,h)):(St&&l&&Co(i),i.flags|=1,se(e,i,a,h),i.child)}function Pd(e,i,a,l,h,d){return Sn(i),i.updateQueue=null,a=Yf(i,l,a,h),Lf(e),l=jo(),e!==null&&!te?(Fo(e,i,d),Si(e,i,d)):(St&&l&&Co(i),i.flags|=1,se(e,i,a,d),i.child)}function Xd(e,i,a,l,h){if(Sn(i),i.stateNode===null){var d=is,_=a.contextType;typeof _=="object"&&_!==null&&(d=he(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ru,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ho(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?he(_):is,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(au(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ru.enqueueReplaceState(d,d.state,null),ua(i,l,d,h),oa(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var v=i.memoizedProps,w=Tn(a,v);d.props=w;var G=d.context,Y=a.contextType;_=is,typeof Y=="object"&&Y!==null&&(_=he(Y));var V=a.getDerivedStateFromProps;Y=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||G!==_)&&Ed(i,d,l,_),Pi=!1;var k=i.memoizedState;d.state=k,ua(i,l,d,h),oa(),G=i.memoizedState,v||k!==G||Pi?(typeof V=="function"&&(au(i,a,V,l),G=i.memoizedState),(w=Pi||Cd(i,a,w,l,k,G,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=_,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,No(e,i),_=i.memoizedProps,Y=Tn(a,_),d.props=Y,V=i.pendingProps,k=d.context,G=a.contextType,w=is,typeof G=="object"&&G!==null&&(w=he(G)),v=a.getDerivedStateFromProps,(G=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==V||k!==w)&&Ed(i,d,l,w),Pi=!1,k=i.memoizedState,d.state=k,ua(i,l,d,h),oa();var H=i.memoizedState;_!==V||k!==H||Pi||e!==null&&e.dependencies!==null&&Ar(e.dependencies)?(typeof v=="function"&&(au(i,a,v,l),H=i.memoizedState),(Y=Pi||Cd(i,a,Y,l,k,H,w)||e!==null&&e.dependencies!==null&&Ar(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=w,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Xr(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=fs(i,e.child,null,h),i.child=fs(i,null,a,h)):se(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Si(e,i,h),e}function Vd(e,i,a,l){return ta(),i.flags|=256,se(e,i,a,l),i.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:Bf()}}function hu(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Xe),e}function qd(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:($t.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(St){if(h?ji(i):Fi(),St){var v=Xt,w;if(w=v){t:{for(w=v,v=ni;w.nodeType!==8;){if(!v){v=null;break t}if(w=Ke(w.nextSibling),w===null){v=null;break t}}v=w}v!==null?(i.memoizedState={dehydrated:v,treeContext:yn!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},w=Ce(18,null,null,0),w.stateNode=v,w.return=i,i.child=w,me=i,Xt=null,w=!0):w=!1}w||bn(i)}if(v=i.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Zu(v)?i.lanes=32:i.lanes=536870912,null;vi(i)}return v=l.children,l=l.fallback,h?(Fi(),h=i.mode,v=Vr({mode:"hidden",children:v},h),l=pn(l,h,a,null),v.return=i,l.return=i,v.sibling=l,i.child=v,h=i.child,h.memoizedState=cu(a),h.childLanes=hu(e,_,a),i.memoizedState=uu,l):(ji(i),fu(i,v))}if(w=e.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(d)i.flags&256?(ji(i),i.flags&=-257,i=du(e,i,a)):i.memoizedState!==null?(Fi(),i.child=e.child,i.flags|=128,i=null):(Fi(),h=l.fallback,v=i.mode,l=Vr({mode:"visible",children:l.children},v),h=pn(h,v,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,fs(i,e.child,null,a),l=i.child,l.memoizedState=cu(a),l.childLanes=hu(e,_,a),i.memoizedState=uu,i=h);else if(ji(i),Zu(v)){if(_=v.nextSibling&&v.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(r(419)),l.stack="",l.digest=_,ea({value:l,source:null,stack:null}),i=du(e,i,a)}else if(te||ia(e,i,a,!1),_=(a&e.childLanes)!==0,te||_){if(_=Ot,_!==null&&(l=a&-a,l=(l&42)!==0?1:Zl(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,es(e,l),Oe(_,e,l),Gd;v.data==="$?"||zu(),i=du(e,i,a)}else v.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,Xt=Ke(v.nextSibling),me=i,St=!0,xn=null,ni=!1,e!==null&&(Le[Ye++]=pi,Le[Ye++]=yi,Le[Ye++]=yn,pi=e.id,yi=e.overflow,yn=i),i=fu(i,l.children),i.flags|=4096);return i}return h?(Fi(),h=l.fallback,v=i.mode,w=e.child,G=w.sibling,l=gi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,G!==null?h=gi(G,h):(h=pn(h,v,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,v=e.child.memoizedState,v===null?v=cu(a):(w=v.cachePool,w!==null?(G=Kt._currentValue,w=w.parent!==G?{parent:G,pool:G}:w):w=Bf(),v={baseLanes:v.baseLanes|a,cachePool:w}),h.memoizedState=v,h.childLanes=hu(e,_,a),i.memoizedState=uu,l):(ji(i),a=e.child,e=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function fu(e,i){return i=Vr({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Vr(e,i){return e=Ce(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function du(e,i,a){return fs(i,e.child,null,a),e=fu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function jd(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),zo(e.return,i,a)}function mu(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Fd(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(se(e,i,l.children,a),l=$t.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,a,i);else if(e.tag===19)jd(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(I($t,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Lr(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),mu(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Lr(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}mu(i,!0,a,null,d);break;case"together":mu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Si(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ki|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ia(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=gi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=gi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function gu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ar(e)))}function E_(e,i,a){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),Yi(i,Kt,e.memoizedState.cache),ta();break;case 27:case 5:Gi(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qd(e,i,a):(ji(i),e=Si(e,i,a),e!==null?e.sibling:null);ji(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ia(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Fd(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),I($t,$t.current),l)break;return null;case 22:case 23:return i.lanes=0,Ld(e,i,a);case 24:Yi(i,Kt,e.memoizedState.cache)}return Si(e,i,a)}function Qd(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)te=!0;else{if(!gu(e,a)&&(i.flags&128)===0)return te=!1,E_(e,i,a);te=(e.flags&131072)!==0}else te=!1,St&&(i.flags&1048576)!==0&&Af(i,Sr,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")wo(l)?(e=Tn(l,e),i.tag=1,i=Xd(null,i,l,e,a)):(i.tag=0,i=ou(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===U){i.tag=11,i=kd(null,i,l,e,a);break t}else if(h===N){i.tag=14,i=Hd(null,i,l,e,a);break t}}throw i=kt(l)||l,Error(r(306,i,""))}}return i;case 0:return ou(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Tn(l,i.pendingProps),Xd(e,i,l,h,a);case 3:t:{if(Bt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,No(e,i),ua(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Yi(i,Kt,l),l!==d.cache&&Oo(i,[Kt],a,!0),oa(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vd(e,i,l,a);break t}else if(l!==h){h=He(Error(r(424)),i),ea(h),i=Vd(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=Ke(e.firstChild),me=i,St=!0,xn=null,ni=!0,a=Td(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ta(),l===h){i=Si(e,i,a);break t}se(e,i,l,a)}i=i.child}return i;case 26:return Xr(e,i),e===null?(a=Km(i.type,null,i.pendingProps,null))?i.memoizedState=a:St||(a=i.type,e=i.pendingProps,l=nl(lt.current).createElement(a),l[ce]=i,l[pe]=e,re(l,a,e),Jt(l),i.stateNode=l):i.memoizedState=Km(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Gi(i),e===null&&St&&(l=i.stateNode=Zm(i.type,i.pendingProps,lt.current),me=i,ni=!0,h=Xt,en(i.type)?(Iu=h,Xt=Ke(l.firstChild)):Xt=h),se(e,i,i.pendingProps.children,a),Xr(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&St&&((h=l=Xt)&&(l=ix(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,me=i,Xt=Ke(l.firstChild),ni=!1,h=!0):h=!1),h||bn(i)),Gi(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,ju(h,d)?l=null:_!==null&&ju(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qo(e,i,b_,null,null,a),za._currentValue=h),Xr(e,i),se(e,i,l,a),i.child;case 6:return e===null&&St&&((e=a=Xt)&&(a=nx(a,i.pendingProps,ni),a!==null?(i.stateNode=a,me=i,Xt=null,e=!0):e=!1),e||bn(i)),null;case 13:return qd(e,i,a);case 4:return Bt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=fs(i,null,l,a):se(e,i,l,a),i.child;case 11:return kd(e,i,i.type,i.pendingProps,a);case 7:return se(e,i,i.pendingProps,a),i.child;case 8:return se(e,i,i.pendingProps.children,a),i.child;case 12:return se(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Yi(i,i.type,l.value),se(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Sn(i),h=he(h),l=l(h),i.flags|=1,se(e,i,l,a),i.child;case 14:return Hd(e,i,i.type,i.pendingProps,a);case 15:return Nd(e,i,i.type,i.pendingProps,a);case 19:return Fd(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Vr(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=gi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ld(e,i,a);case 24:return Sn(i),l=he(Kt),e===null?(h=Go(),h===null&&(h=Ot,d=Do(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ho(i),Yi(i,Kt,h)):((e.lanes&a)!==0&&(No(e,i),ua(i,null,null,a),oa()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Yi(i,Kt,l)):(l=d.cache,Yi(i,Kt,l),l!==h.cache&&Oo(i,[Kt],a,!0))),se(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ai(e){e.flags|=4}function Zd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ig(i)){if(i=Pe.current,i!==null&&((xt&4194048)===xt?si!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==si))throw ra=ko,zf;e.flags|=8192}}function qr(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Th():536870912,e.lanes|=i,ps|=i)}function pa(e,i){if(!St)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Yt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function R_(e,i,a){var l=i.pendingProps;switch(Eo(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return Yt(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(Kt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Js(i)?Ai(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),Yt(i),null;case 26:return a=i.memoizedState,e===null?(Ai(i),a!==null?(Yt(i),Zd(i,a)):(Yt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ai(i),Yt(i),Zd(i,a)):(Yt(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ai(i),Yt(i),i.flags&=-16777217),null;case 27:ki(i),a=lt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ai(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}e=it.current,Js(i)?wf(i):(e=Zm(h,l,a),i.stateNode=e,Ai(i))}return Yt(i),null;case 5:if(ki(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ai(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}if(e=it.current,Js(i))wf(i);else{switch(h=nl(lt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[ce]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(re(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ai(i)}}return Yt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ai(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=lt.current,Js(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=me,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ce]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pm(e.nodeValue,a)),e||bn(i)}else e=nl(e).createTextNode(l),e[ce]=i,i.stateNode=e}return Yt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Js(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ce]=i}else ta(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),h=!1}else h=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vi(i),i):(vi(i),null)}if(vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),qr(i,i.updateQueue),Yt(i),null;case 4:return Se(),e===null&&Yu(i.stateNode.containerInfo),Yt(i),null;case 10:return xi(i.type),Yt(i),null;case 19:if(W($t),h=i.memoizedState,h===null)return Yt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)pa(h,!1);else{if(Vt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Lr(e),d!==null){for(i.flags|=128,pa(h,!1),e=d.updateQueue,i.updateQueue=e,qr(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Sf(a,e),a=a.sibling;return I($t,$t.current&1|2),i.child}e=e.sibling}h.tail!==null&&Ae()>Qr&&(i.flags|=128,l=!0,pa(h,!1),i.lanes=4194304)}else{if(!l)if(e=Lr(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,qr(i,e),pa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!St)return Yt(i),null}else 2*Ae()-h.renderingStartTime>Qr&&a!==536870912&&(i.flags|=128,l=!0,pa(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ae(),i.sibling=null,e=$t.current,I($t,l?e&1|2:e&1),i):(Yt(i),null);case 22:case 23:return vi(i),Xo(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),a=i.updateQueue,a!==null&&qr(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&W(An),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(Kt),Yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function B_(e,i){switch(Eo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(Kt),Se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ki(i),null;case 13:if(vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ta()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W($t),null;case 4:return Se(),null;case 10:return xi(i.type),null;case 22:case 23:return vi(i),Xo(),e!==null&&W(An),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(Kt),null;case 25:return null;default:return null}}function Id(e,i){switch(Eo(i),i.tag){case 3:xi(Kt),Se();break;case 26:case 27:case 5:ki(i);break;case 4:Se();break;case 13:vi(i);break;case 19:W($t);break;case 10:xi(i.type);break;case 22:case 23:vi(i),Xo(),e!==null&&W(An);break;case 24:xi(Kt)}}function ya(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(v){zt(i,i.return,v)}}function Qi(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,v=_.destroy;if(v!==void 0){_.destroy=void 0,h=i;var w=a,G=v;try{G()}catch(Y){zt(h,w,Y)}}}l=l.next}while(l!==d)}}catch(Y){zt(i,i.return,Y)}}function Wd(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hf(i,a)}catch(l){zt(e,e.return,l)}}}function Kd(e,i,a){a.props=Tn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){zt(e,i,l)}}function _a(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){zt(e,i,h)}}function ai(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){zt(e,i,h)}else a.current=null}function $d(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){zt(e,e.return,h)}}function pu(e,i,a){try{var l=e.stateNode;K_(l,e.type,a,i),l[pe]=i}catch(h){zt(e,e.return,h)}}function Jd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&en(e.type)||e.tag===4}function yu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&en(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=il));else if(l!==4&&(l===27&&en(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(_u(e,i,a),e=e.sibling;e!==null;)_u(e,i,a),e=e.sibling}function jr(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&en(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(jr(e,i,a),e=e.sibling;e!==null;)jr(e,i,a),e=e.sibling}function tm(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);re(i,l,a),i[ce]=e,i[pe]=a}catch(d){zt(e,e.return,d)}}var wi=!1,Ft=!1,xu=!1,em=typeof WeakSet=="function"?WeakSet:Set,ee=null;function z_(e,i){if(e=e.containerInfo,Vu=ul,e=ff(e),yo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,v=-1,w=-1,G=0,Y=0,V=e,k=null;e:for(;;){for(var H;V!==a||h!==0&&V.nodeType!==3||(v=_+h),V!==d||l!==0&&V.nodeType!==3||(w=_+l),V.nodeType===3&&(_+=V.nodeValue.length),(H=V.firstChild)!==null;)k=V,V=H;for(;;){if(V===e)break e;if(k===a&&++G===h&&(v=_),k===d&&++Y===l&&(w=_),(H=V.nextSibling)!==null)break;V=k,k=V.parentNode}V=H}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(qu={focusedElem:e,selectionRange:a},ul=!1,ee=i;ee!==null;)if(i=ee,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ee=e;else for(;ee!==null;){switch(i=ee,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Tn(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(rt){zt(a,a.return,rt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Qu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ee=e;break}ee=i.return}}function im(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),l&4&&ya(5,a);break;case 1:if(Zi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){zt(a,a.return,_)}else{var h=Tn(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){zt(a,a.return,_)}}l&64&&Wd(a),l&512&&_a(a,a.return);break;case 3:if(Zi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hf(e,i)}catch(_){zt(a,a.return,_)}}break;case 27:i===null&&l&4&&tm(a);case 26:case 5:Zi(e,a),i===null&&l&4&&$d(a),l&512&&_a(a,a.return);break;case 12:Zi(e,a);break;case 13:Zi(e,a),l&4&&am(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Y_.bind(null,a),sx(e,a))));break;case 22:if(l=a.memoizedState!==null||wi,!l){i=i!==null&&i.memoizedState!==null||Ft,h=wi;var d=Ft;wi=l,(Ft=i)&&!d?Ii(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),wi=h,Ft=d}break;case 30:break;default:Zi(e,a)}}function nm(e){var i=e.alternate;i!==null&&(e.alternate=null,nm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Kl(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,xe=!1;function Ti(e,i,a){for(a=a.child;a!==null;)sm(e,i,a),a=a.sibling}function sm(e,i,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Ls,a)}catch{}switch(a.tag){case 26:Ft||ai(a,i),Ti(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||ai(a,i);var l=Nt,h=xe;en(a.type)&&(Nt=a.stateNode,xe=!1),Ti(e,i,a),Ca(a.stateNode),Nt=l,xe=h;break;case 5:Ft||ai(a,i);case 6:if(l=Nt,h=xe,Nt=null,Ti(e,i,a),Nt=l,xe=h,Nt!==null)if(xe)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(a.stateNode)}catch(d){zt(a,i,d)}else try{Nt.removeChild(a.stateNode)}catch(d){zt(a,i,d)}break;case 18:Nt!==null&&(xe?(e=Nt,Fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):Fm(Nt,a.stateNode));break;case 4:l=Nt,h=xe,Nt=a.stateNode.containerInfo,xe=!0,Ti(e,i,a),Nt=l,xe=h;break;case 0:case 11:case 14:case 15:Ft||Qi(2,a,i),Ft||Qi(4,a,i),Ti(e,i,a);break;case 1:Ft||(ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kd(a,i,l)),Ti(e,i,a);break;case 21:Ti(e,i,a);break;case 22:Ft=(l=Ft)||a.memoizedState!==null,Ti(e,i,a),Ft=l;break;default:Ti(e,i,a)}}function am(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){zt(i,i.return,a)}}function O_(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new em),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new em),i;default:throw Error(r(435,e.tag))}}function bu(e,i){var a=O_(e);i.forEach(function(l){var h=P_.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Ee(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,v=_;t:for(;v!==null;){switch(v.tag){case 27:if(en(v.type)){Nt=v.stateNode,xe=!1;break t}break;case 5:Nt=v.stateNode,xe=!1;break t;case 3:case 4:Nt=v.stateNode.containerInfo,xe=!0;break t}v=v.return}if(Nt===null)throw Error(r(160));sm(d,_,h),Nt=null,xe=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rm(i,e),i=i.sibling}var We=null;function rm(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ee(i,e),Re(e),l&4&&(Qi(3,e,e.return),ya(3,e),Qi(5,e,e.return));break;case 1:Ee(i,e),Re(e),l&512&&(Ft||a===null||ai(a,a.return)),l&64&&wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=We;if(Ee(i,e),Re(e),l&512&&(Ft||a===null||ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xs]||d[ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),re(d,l,a),d[ce]=e,Jt(d),l=d;break t;case"link":var _=tg("link","href",h).get(l+(a.href||""));if(_){for(var v=0;v<_.length;v++)if(d=_[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(v,1);break e}}d=h.createElement(l),re(d,l,a),h.head.appendChild(d);break;case"meta":if(_=tg("meta","content",h).get(l+(a.content||""))){for(v=0;v<_.length;v++)if(d=_[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(v,1);break e}}d=h.createElement(l),re(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[ce]=e,Jt(d),l=d}e.stateNode=l}else eg(h,e.type,e.stateNode);else e.stateNode=Jm(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?eg(h,e.type,e.stateNode):Jm(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ee(i,e),Re(e),l&512&&(Ft||a===null||ai(a,a.return)),a!==null&&l&4&&pu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ee(i,e),Re(e),l&512&&(Ft||a===null||ai(a,a.return)),e.flags&32){h=e.stateNode;try{Zn(h,"")}catch(H){zt(e,e.return,H)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,pu(e,h,a!==null?a.memoizedProps:h)),l&1024&&(xu=!0);break;case 6:if(Ee(i,e),Re(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(H){zt(e,e.return,H)}}break;case 3:if(rl=null,h=We,We=sl(i.containerInfo),Ee(i,e),We=h,Re(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(i.containerInfo)}catch(H){zt(e,e.return,H)}xu&&(xu=!1,lm(e));break;case 4:l=We,We=sl(e.stateNode.containerInfo),Ee(i,e),Re(e),We=l;break;case 12:Ee(i,e),Re(e);break;case 13:Ee(i,e),Re(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mu=Ae()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bu(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,G=wi,Y=Ft;if(wi=G||h,Ft=Y||w,Ee(i,e),Ft=Y,wi=G,Re(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||wi||Ft||Mn(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{v=w.stateNode;var V=w.memoizedProps.style,k=V!=null&&V.hasOwnProperty("display")?V.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(H){zt(w,w.return,H)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(H){zt(w,w.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bu(e,a))));break;case 19:Ee(i,e),Re(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bu(e,l)));break;case 30:break;case 21:break;default:Ee(i,e),Re(e)}}function Re(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Jd(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=yu(e);jr(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Zn(_,""),a.flags&=-33);var v=yu(e);jr(e,v,_);break;case 3:case 4:var w=a.stateNode.containerInfo,G=yu(e);_u(e,G,w);break;default:throw Error(r(161))}}catch(Y){zt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;lm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)im(e,i.alternate,i),i=i.sibling}function Mn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Qi(4,i,i.return),Mn(i);break;case 1:ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Kd(i,i.return,a),Mn(i);break;case 27:Ca(i.stateNode);case 26:case 5:ai(i,i.return),Mn(i);break;case 22:i.memoizedState===null&&Mn(i);break;case 30:Mn(i);break;default:Mn(i)}e=e.sibling}}function Ii(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ii(h,d,a),ya(4,d);break;case 1:if(Ii(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){zt(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var v=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)kf(w[h],v)}catch(G){zt(l,l.return,G)}}a&&_&64&&Wd(d),_a(d,d.return);break;case 27:tm(d);case 26:case 5:Ii(h,d,a),a&&l===null&&_&4&&$d(d),_a(d,d.return);break;case 12:Ii(h,d,a);break;case 13:Ii(h,d,a),a&&_&4&&am(h,d);break;case 22:d.memoizedState===null&&Ii(h,d,a),_a(d,d.return);break;case 30:break;default:Ii(h,d,a)}i=i.sibling}}function vu(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&na(a))}function Su(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&na(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)om(e,i,a,l),i=i.sibling}function om(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),h&2048&&ya(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&na(e)));break;case 12:if(h&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,v=d.onPostCommit;typeof v=="function"&&v(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){zt(i,i.return,w)}}else ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):xa(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,ds(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&vu(_,i);break;case 24:ri(e,i,a,l),h&2048&&Su(i.alternate,i);break;default:ri(e,i,a,l)}}function ds(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,_=i,v=a,w=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:ds(d,_,v,w,h),ya(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ds(d,_,v,w,h):xa(d,_):(Y._visibility|=2,ds(d,_,v,w,h)),h&&G&2048&&vu(_.alternate,_);break;case 24:ds(d,_,v,w,h),h&&G&2048&&Su(_.alternate,_);break;default:ds(d,_,v,w,h)}i=i.sibling}}function xa(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:xa(a,l),h&2048&&vu(l.alternate,l);break;case 24:xa(a,l),h&2048&&Su(l.alternate,l);break;default:xa(a,l)}i=i.sibling}}var ba=8192;function ms(e){if(e.subtreeFlags&ba)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 26:ms(e),e.flags&ba&&e.memoizedState!==null&&yx(We,e.memoizedState,e.memoizedProps);break;case 5:ms(e);break;case 3:case 4:var i=We;We=sl(e.stateNode.containerInfo),ms(e),We=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ba,ba=16777216,ms(e),ba=i):ms(e));break;default:ms(e)}}function cm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function va(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ee=l,fm(l,e)}cm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hm(e),e=e.sibling}function hm(e){switch(e.tag){case 0:case 11:case 15:va(e),e.flags&2048&&Qi(9,e,e.return);break;case 3:va(e);break;case 12:va(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Fr(e)):va(e);break;default:va(e)}}function Fr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ee=l,fm(l,e)}cm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Qi(8,i,i.return),Fr(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fr(i));break;default:Fr(i)}e=e.sibling}}function fm(e,i){for(;ee!==null;){var a=ee;switch(a.tag){case 0:case 11:case 15:Qi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:na(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ee=l;else t:for(a=e;ee!==null;){l=ee;var h=l.sibling,d=l.return;if(nm(l),l===a){ee=null;break t}if(h!==null){h.return=d,ee=h;break t}ee=d}}}var D_={getCacheForType:function(e){var i=he(Kt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},U_=typeof WeakMap=="function"?WeakMap:Map,At=0,Ot=null,gt=null,xt=0,wt=0,Be=null,Wi=!1,gs=!1,Au=!1,Mi=0,Vt=0,Ki=0,Cn=0,wu=0,Xe=0,ps=0,Sa=null,be=null,Tu=!1,Mu=0,Qr=1/0,Zr=null,$i=null,ae=0,Ji=null,ys=null,_s=0,Cu=0,Eu=null,dm=null,Aa=0,Ru=null;function ze(){if((At&2)!==0&&xt!==0)return xt&-xt;if(O.T!==null){var e=as;return e!==0?e:ku()}return Eh()}function mm(){Xe===0&&(Xe=(xt&536870912)===0||St?wh():536870912);var e=Pe.current;return e!==null&&(e.flags|=32),Xe}function Oe(e,i,a){(e===Ot&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(xs(e,0),tn(e,xt,Xe,!1)),Ps(e,a),((At&2)===0||e!==Ot)&&(e===Ot&&((At&2)===0&&(Cn|=a),Vt===4&&tn(e,xt,Xe,!1)),li(e))}function gm(e,i,a){if((At&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Ys(e,i),h=l?H_(e,i):Ou(e,i,!0),d=l;do{if(h===0){gs&&!l&&tn(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!G_(a)){h=Ou(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var v=e;h=Sa;var w=v.current.memoizedState.isDehydrated;if(w&&(xs(v,_).flags|=256),_=Ou(v,_,!1),_!==2){if(Au&&!w){v.errorRecoveryDisabledLanes|=d,Cn|=d,h=4;break t}d=be,be=h,d!==null&&(be===null?be=d:be.push.apply(be,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){xs(e,0),tn(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:tn(l,i,Xe,!Wi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Mu+300-Ae(),10<h)){if(tn(l,i,Xe,!Wi),ar(l,0,!0)!==0)break t;l.timeoutHandle=qm(pm.bind(null,l,a,be,Zr,Tu,i,Xe,Cn,ps,Wi,d,2,-0,0),h);break t}pm(l,a,be,Zr,Tu,i,Xe,Cn,ps,Wi,d,0,-0,0)}}break}while(!0);li(e)}function pm(e,i,a,l,h,d,_,v,w,G,Y,V,k,H){if(e.timeoutHandle=-1,V=i.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Ba={stylesheets:null,count:0,unsuspend:px},um(i),V=_x(),V!==null)){e.cancelPendingCommit=V(Am.bind(null,e,i,d,a,l,h,_,v,w,Y,1,k,H)),tn(e,d,_,!G);return}Am(e,i,d,a,l,h,_,v,w)}function G_(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Me(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function tn(e,i,a,l){i&=~wu,i&=~Cn,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Te(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Mh(e,a,i)}function Ir(){return(At&6)===0?(wa(0),!1):!0}function Bu(){if(gt!==null){if(wt===0)var e=gt.return;else e=gt,_i=vn=null,Qo(e),hs=null,ma=0,e=gt;for(;e!==null;)Id(e.alternate,e),e=e.return;gt=null}}function xs(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Bu(),Ot=e,gt=a=gi(e.current,null),xt=i,wt=0,Be=null,Wi=!1,gs=Ys(e,i),Au=!1,ps=Xe=wu=Cn=Ki=Vt=0,be=Sa=null,Tu=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Te(l),d=1<<h;i|=e[h],l&=~d}return Mi=i,yr(),a}function ym(e,i){ft=null,O.H=kr,i===aa||i===Mr?(i=Uf(),wt=3):i===zf?(i=Uf(),wt=4):wt=i===Gd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Be=i,gt===null&&(Vt=1,Pr(e,He(i,e.current)))}function _m(){var e=O.H;return O.H=kr,e===null?kr:e}function xm(){var e=O.A;return O.A=D_,e}function zu(){Vt=4,Wi||(xt&4194048)!==xt&&Pe.current!==null||(gs=!0),(Ki&134217727)===0&&(Cn&134217727)===0||Ot===null||tn(Ot,xt,Xe,!1)}function Ou(e,i,a){var l=At;At|=2;var h=_m(),d=xm();(Ot!==e||xt!==i)&&(Zr=null,xs(e,i)),i=!1;var _=Vt;t:do try{if(wt!==0&&gt!==null){var v=gt,w=Be;switch(wt){case 8:Bu(),_=6;break t;case 3:case 2:case 9:case 6:Pe.current===null&&(i=!0);var G=wt;if(wt=0,Be=null,bs(e,v,w,G),a&&gs){_=0;break t}break;default:G=wt,wt=0,Be=null,bs(e,v,w,G)}}k_(),_=Vt;break}catch(Y){ym(e,Y)}while(!0);return i&&e.shellSuspendCounter++,_i=vn=null,At=l,O.H=h,O.A=d,gt===null&&(Ot=null,xt=0,yr()),_}function k_(){for(;gt!==null;)bm(gt)}function H_(e,i){var a=At;At|=2;var l=_m(),h=xm();Ot!==e||xt!==i?(Zr=null,Qr=Ae()+500,xs(e,i)):gs=Ys(e,i);t:do try{if(wt!==0&&gt!==null){i=gt;var d=Be;e:switch(wt){case 1:wt=0,Be=null,bs(e,i,d,1);break;case 2:case 9:if(Of(d)){wt=0,Be=null,vm(i);break}i=function(){wt!==2&&wt!==9||Ot!==e||(wt=7),li(e)},d.then(i,i);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:Of(d)?(wt=0,Be=null,vm(i)):(wt=0,Be=null,bs(e,i,d,7));break;case 5:var _=null;switch(gt.tag){case 26:_=gt.memoizedState;case 5:case 27:var v=gt;if(!_||ig(_)){wt=0,Be=null;var w=v.sibling;if(w!==null)gt=w;else{var G=v.return;G!==null?(gt=G,Wr(G)):gt=null}break e}}wt=0,Be=null,bs(e,i,d,5);break;case 6:wt=0,Be=null,bs(e,i,d,6);break;case 8:Bu(),Vt=6;break t;default:throw Error(r(462))}}N_();break}catch(Y){ym(e,Y)}while(!0);return _i=vn=null,O.H=l,O.A=h,At=a,gt!==null?0:(Ot=null,xt=0,yr(),Vt)}function N_(){for(;gt!==null&&!fi();)bm(gt)}function bm(e){var i=Qd(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,i===null?Wr(e):gt=i}function vm(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Pd(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Pd(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Qo(i);default:Id(a,i),i=gt=Sf(i,Mi),i=Qd(a,i,Mi)}e.memoizedProps=e.pendingProps,i===null?Wr(e):gt=i}function bs(e,i,a,l){_i=vn=null,Qo(i),hs=null,ma=0;var h=i.return;try{if(C_(e,h,i,a,xt)){Vt=1,Pr(e,He(a,e.current)),gt=null;return}}catch(d){if(h!==null)throw gt=h,d;Vt=1,Pr(e,He(a,e.current)),gt=null;return}i.flags&32768?(St||l===1?e=!0:gs||(xt&536870912)!==0?e=!1:(Wi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pe.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sm(i,e)):Wr(i)}function Wr(e){var i=e;do{if((i.flags&32768)!==0){Sm(i,Wi);return}e=i.return;var a=R_(i.alternate,i,Mi);if(a!==null){gt=a;return}if(i=i.sibling,i!==null){gt=i;return}gt=i=e}while(i!==null);Vt===0&&(Vt=5)}function Sm(e,i){do{var a=B_(e.alternate,e);if(a!==null){a.flags&=32767,gt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){gt=e;return}gt=e=a}while(e!==null);Vt=6,gt=null}function Am(e,i,a,l,h,d,_,v,w){e.cancelPendingCommit=null;do Kr();while(ae!==0);if((At&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=So,p0(e,a,d,_,v,w),e===Ot&&(gt=Ot=null,xt=0),ys=i,Ji=e,_s=a,Cu=d,Eu=h,dm=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,X_(ir,function(){return Em(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,h=X.p,X.p=2,_=At,At|=4;try{z_(e,i,a)}finally{At=_,X.p=h,O.T=l}}ae=1,wm(),Tm(),Mm()}}function wm(){if(ae===1){ae=0;var e=Ji,i=ys,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=X.p;X.p=2;var h=At;At|=4;try{rm(i,e);var d=qu,_=ff(e.containerInfo),v=d.focusedElem,w=d.selectionRange;if(_!==v&&v&&v.ownerDocument&&hf(v.ownerDocument.documentElement,v)){if(w!==null&&yo(v)){var G=w.start,Y=w.end;if(Y===void 0&&(Y=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(Y,v.value.length);else{var V=v.ownerDocument||document,k=V&&V.defaultView||window;if(k.getSelection){var H=k.getSelection(),ct=v.textContent.length,rt=Math.min(w.start,ct),Et=w.end===void 0?rt:Math.min(w.end,ct);!H.extend&&rt>Et&&(_=Et,Et=rt,rt=_);var z=cf(v,rt),C=cf(v,Et);if(z&&C&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==C.node||H.focusOffset!==C.offset)){var D=V.createRange();D.setStart(z.node,z.offset),H.removeAllRanges(),rt>Et?(H.addRange(D),H.extend(C.node,C.offset)):(D.setEnd(C.node,C.offset),H.addRange(D))}}}}for(V=[],H=v;H=H.parentNode;)H.nodeType===1&&V.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<V.length;v++){var P=V[v];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ul=!!Vu,qu=Vu=null}finally{At=h,X.p=l,O.T=a}}e.current=i,ae=2}}function Tm(){if(ae===2){ae=0;var e=Ji,i=ys,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=X.p;X.p=2;var h=At;At|=4;try{im(e,i.alternate,i)}finally{At=h,X.p=l,O.T=a}}ae=3}}function Mm(){if(ae===4||ae===3){ae=0,ql();var e=Ji,i=ys,a=_s,l=dm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ae=5:(ae=0,ys=Ji=null,Cm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&($i=null),Il(a),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Ls,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=O.T,h=X.p,X.p=2,O.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var v=l[_];d(v.value,{componentStack:v.stack})}}finally{O.T=i,X.p=h}}(_s&3)!==0&&Kr(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ru?Aa++:(Aa=0,Ru=e):Aa=0,wa(0)}}function Cm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,na(i)))}function Kr(e){return wm(),Tm(),Mm(),Em()}function Em(){if(ae!==5)return!1;var e=Ji,i=Cu;Cu=0;var a=Il(_s),l=O.T,h=X.p;try{X.p=32>a?32:a,O.T=null,a=Eu,Eu=null;var d=Ji,_=_s;if(ae=0,ys=Ji=null,_s=0,(At&6)!==0)throw Error(r(331));var v=At;if(At|=4,hm(d.current),om(d,d.current,_,a),At=v,wa(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Ls,d)}catch{}return!0}finally{X.p=h,O.T=l,Cm(e,i)}}function Rm(e,i,a){i=He(a,i),i=lu(e.stateNode,i,2),e=Vi(e,i,2),e!==null&&(Ps(e,2),li(e))}function zt(e,i,a){if(e.tag===3)Rm(e,e,a);else for(;i!==null;){if(i.tag===3){Rm(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){e=He(a,e),a=Dd(2),l=Vi(i,a,2),l!==null&&(Ud(a,l,i,e),Ps(l,2),li(l));break}}i=i.return}}function Du(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new U_;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Au=!0,h.add(a),e=L_.bind(null,e,i,a),i.then(e,e))}function L_(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ot===e&&(xt&a)===a&&(Vt===4||Vt===3&&(xt&62914560)===xt&&300>Ae()-Mu?(At&2)===0&&xs(e,0):wu|=a,ps===xt&&(ps=0)),li(e)}function Bm(e,i){i===0&&(i=Th()),e=es(e,i),e!==null&&(Ps(e,i),li(e))}function Y_(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Bm(e,a)}function P_(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Bm(e,a)}function X_(e,i){return Qe(e,i)}var $r=null,vs=null,Uu=!1,Jr=!1,Gu=!1,En=0;function li(e){e!==vs&&e.next===null&&(vs===null?$r=vs=e:vs=vs.next=e),Jr=!0,Uu||(Uu=!0,q_())}function wa(e,i){if(!Gu&&Jr){Gu=!0;do for(var a=!1,l=$r;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-Te(42|e)+1)-1,d&=h&~(_&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Um(l,d))}else d=xt,d=ar(l,l===Ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ys(l,d)||(a=!0,Um(l,d));l=l.next}while(a);Gu=!1}}function V_(){zm()}function zm(){Jr=Uu=!1;var e=0;En!==0&&($_()&&(e=En),En=0);for(var i=Ae(),a=null,l=$r;l!==null;){var h=l.next,d=Om(l,i);d===0?(l.next=null,a===null?$r=h:a.next=h,h===null&&(vs=a)):(a=l,(e!==0||(d&3)!==0)&&(Jr=!0)),l=h}wa(e)}function Om(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Te(d),v=1<<_,w=h[_];w===-1?((v&a)===0||(v&l)!==0)&&(h[_]=g0(v,i)):w<=i&&(e.expiredLanes|=v),d&=~v}if(i=Ot,a=xt,a=ar(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ze(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ys(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Ze(l),Il(a)){case 2:case 8:a=Sh;break;case 32:a=ir;break;case 268435456:a=Ah;break;default:a=ir}return l=Dm.bind(null,e),a=Qe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Ze(l),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,i){if(ae!==0&&ae!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Kr()&&e.callbackNode!==a)return null;var l=xt;return l=ar(e,e===Ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gm(e,l,i),Om(e,Ae()),e.callbackNode!=null&&e.callbackNode===a?Dm.bind(null,e):null)}function Um(e,i){if(Kr())return null;gm(e,i,!0)}function q_(){tx(function(){(At&6)!==0?Qe(Fl,V_):zm()})}function ku(){return En===0&&(En=wh()),En}function Gm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function km(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function j_(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Gm((h[pe]||null).action),_=l.submitter;_&&(i=(i=_[pe]||null)?Gm(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var v=new mr("action","action",null,l,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(En!==0){var w=_?km(h,_):new FormData(h);iu(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(v.preventDefault(),w=_?km(h,_):new FormData(h),iu(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Hu=0;Hu<vo.length;Hu++){var Nu=vo[Hu],F_=Nu.toLowerCase(),Q_=Nu[0].toUpperCase()+Nu.slice(1);Ie(F_,"on"+Q_)}Ie(gf,"onAnimationEnd"),Ie(pf,"onAnimationIteration"),Ie(yf,"onAnimationStart"),Ie("dblclick","onDoubleClick"),Ie("focusin","onFocus"),Ie("focusout","onBlur"),Ie(c_,"onTransitionRun"),Ie(h_,"onTransitionStart"),Ie(f_,"onTransitionCancel"),Ie(_f,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ta));function Hm(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var v=l[_],w=v.instance,G=v.currentTarget;if(v=v.listener,w!==d&&h.isPropagationStopped())break t;d=v,h.currentTarget=G;try{d(h)}catch(Y){Yr(Y)}h.currentTarget=null,d=w}else for(_=0;_<l.length;_++){if(v=l[_],w=v.instance,G=v.currentTarget,v=v.listener,w!==d&&h.isPropagationStopped())break t;d=v,h.currentTarget=G;try{d(h)}catch(Y){Yr(Y)}h.currentTarget=null,d=w}}}}function pt(e,i){var a=i[Wl];a===void 0&&(a=i[Wl]=new Set);var l=e+"__bubble";a.has(l)||(Nm(i,e,2,!1),a.add(l))}function Lu(e,i,a){var l=0;i&&(l|=4),Nm(a,e,l,i)}var tl="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[tl]){e[tl]=!0,Bh.forEach(function(a){a!=="selectionchange"&&(Z_.has(a)||Lu(a,!1,e),Lu(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[tl]||(i[tl]=!0,Lu("selectionchange",!1,i))}}function Nm(e,i,a,l){switch(og(i)){case 2:var h=vx;break;case 8:h=Sx;break;default:h=tc}a=h.bind(null,i,a,e),h=void 0,!lo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Pu(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var v=l.stateNode.containerInfo;if(v===h)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;v!==null;){if(_=Xn(v),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=d=_;continue t}v=v.parentNode}}l=l.return}qh(function(){var G=d,Y=ao(a),V=[];t:{var k=xf.get(e);if(k!==void 0){var H=mr,ct=e;switch(e){case"keypress":if(fr(a)===0)break t;case"keydown":case"keyup":H=X0;break;case"focusin":ct="focus",H=ho;break;case"focusout":ct="blur",H=ho;break;case"beforeblur":case"afterblur":H=ho;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=j0;break;case gf:case pf:case yf:H=D0;break;case _f:H=Q0;break;case"scroll":case"scrollend":H=E0;break;case"wheel":H=I0;break;case"copy":case"cut":case"paste":H=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ih;break;case"toggle":case"beforetoggle":H=K0}var rt=(i&4)!==0,Et=!rt&&(e==="scroll"||e==="scrollend"),z=rt?k!==null?k+"Capture":null:k;rt=[];for(var C=G,D;C!==null;){var P=C;if(D=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||D===null||z===null||(P=qs(C,z),P!=null&&rt.push(Ma(C,P,D))),Et)break;C=C.return}0<rt.length&&(k=new H(k,ct,null,a,Y),V.push({event:k,listeners:rt}))}}if((i&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",k&&a!==so&&(ct=a.relatedTarget||a.fromElement)&&(Xn(ct)||ct[Pn]))break t;if((H||k)&&(k=Y.window===Y?Y:(k=Y.ownerDocument)?k.defaultView||k.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=G,ct=ct?Xn(ct):null,ct!==null&&(Et=u(ct),rt=ct.tag,ct!==Et||rt!==5&&rt!==27&&rt!==6)&&(ct=null)):(H=null,ct=G),H!==ct)){if(rt=Qh,P="onMouseLeave",z="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(rt=Ih,P="onPointerLeave",z="onPointerEnter",C="pointer"),Et=H==null?k:Vs(H),D=ct==null?k:Vs(ct),k=new rt(P,C+"leave",H,a,Y),k.target=Et,k.relatedTarget=D,P=null,Xn(Y)===G&&(rt=new rt(z,C+"enter",ct,a,Y),rt.target=D,rt.relatedTarget=Et,P=rt),Et=P,H&&ct)e:{for(rt=H,z=ct,C=0,D=rt;D;D=Ss(D))C++;for(D=0,P=z;P;P=Ss(P))D++;for(;0<C-D;)rt=Ss(rt),C--;for(;0<D-C;)z=Ss(z),D--;for(;C--;){if(rt===z||z!==null&&rt===z.alternate)break e;rt=Ss(rt),z=Ss(z)}rt=null}else rt=null;H!==null&&Lm(V,k,H,rt,!1),ct!==null&&Et!==null&&Lm(V,Et,ct,rt,!0)}}t:{if(k=G?Vs(G):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var $=sf;else if(ef(k))if(af)$=l_;else{$=a_;var dt=s_}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?G&&no(G.elementType)&&($=sf):$=r_;if($&&($=$(e,G))){nf(V,$,a,Y);break t}dt&&dt(e,k,G),e==="focusout"&&G&&k.type==="number"&&G.memoizedProps.value!=null&&io(k,"number",k.value)}switch(dt=G?Vs(G):window,e){case"focusin":(ef(dt)||dt.contentEditable==="true")&&($n=dt,_o=G,$s=null);break;case"focusout":$s=_o=$n=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,df(V,a,Y);break;case"selectionchange":if(u_)break;case"keydown":case"keyup":df(V,a,Y)}var J;if(mo)t:{switch(e){case"compositionstart":var ot="onCompositionStart";break t;case"compositionend":ot="onCompositionEnd";break t;case"compositionupdate":ot="onCompositionUpdate";break t}ot=void 0}else Kn?Jh(e,a)&&(ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ot="onCompositionStart");ot&&(Wh&&a.locale!=="ko"&&(Kn||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Kn&&(J=jh()):(Li=Y,oo="value"in Li?Li.value:Li.textContent,Kn=!0)),dt=el(G,ot),0<dt.length&&(ot=new Zh(ot,e,null,a,Y),V.push({event:ot,listeners:dt}),J?ot.data=J:(J=tf(a),J!==null&&(ot.data=J)))),(J=J0?t_(e,a):e_(e,a))&&(ot=el(G,"onBeforeInput"),0<ot.length&&(dt=new Zh("onBeforeInput","beforeinput",null,a,Y),V.push({event:dt,listeners:ot}),dt.data=J)),j_(V,e,G,a,Y)}Hm(V,i)})}function Ma(e,i,a){return{instance:e,listener:i,currentTarget:a}}function el(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qs(e,a),h!=null&&l.unshift(Ma(e,h,d)),h=qs(e,i),h!=null&&l.push(Ma(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lm(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var v=a,w=v.alternate,G=v.stateNode;if(v=v.tag,w!==null&&w===l)break;v!==5&&v!==26&&v!==27||G===null||(w=G,h?(G=qs(a,d),G!=null&&_.unshift(Ma(a,G,w))):h||(G=qs(a,d),G!=null&&_.push(Ma(a,G,w)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var I_=/\r\n?/g,W_=/\u0000|\uFFFD/g;function Ym(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(W_,"")}function Pm(e,i){return i=Ym(i),Ym(e)===i}function il(){}function Ct(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Zn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Zn(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,l);break;case"style":Xh(e,l,d);break;case"data":if(i!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=cr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ct(e,i,"name",h.name,h,null),Ct(e,i,"formEncType",h.formEncType,h,null),Ct(e,i,"formMethod",h.formMethod,h,null),Ct(e,i,"formTarget",h.formTarget,h,null)):(Ct(e,i,"encType",h.encType,h,null),Ct(e,i,"method",h.method,h,null),Ct(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=cr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=il);break;case"onScroll":l!=null&&pt("scroll",e);break;case"onScrollEnd":l!=null&&pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=cr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":pt("beforetoggle",e),pt("toggle",e),rr(e,"popover",l);break;case"xlinkActuate":di(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":di(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":di(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":di(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":di(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":di(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":di(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":di(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":di(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=M0.get(a)||a,rr(e,a,l))}}function Xu(e,i,a,l,h,d){switch(a){case"style":Xh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Zn(e,l):(typeof l=="number"||typeof l=="bigint")&&Zn(e,""+l);break;case"onScroll":l!=null&&pt("scroll",e);break;case"onScrollEnd":l!=null&&pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zh.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):rr(e,a,l)}}}function re(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",e),pt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ct(e,i,d,_,a,null)}}h&&Ct(e,i,"srcSet",a.srcSet,a,null),l&&Ct(e,i,"src",a.src,a,null);return;case"input":pt("invalid",e);var v=d=_=h=null,w=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":w=Y;break;case"defaultChecked":G=Y;break;case"value":d=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Ct(e,i,l,Y,a,null)}}Nh(e,d,v,w,G,_,h,!1),or(e);return;case"select":pt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":d=v;break;case"defaultValue":_=v;break;case"multiple":l=v;default:Ct(e,i,h,v,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Qn(e,!!l,i,!1):a!=null&&Qn(e,!!l,a,!0);return;case"textarea":pt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(v=a[_],v!=null))switch(_){case"value":l=v;break;case"defaultValue":h=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ct(e,i,_,v,a,null)}Yh(e,l,h,d),or(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ct(e,i,w,l,a,null)}return;case"dialog":pt("beforetoggle",e),pt("toggle",e),pt("cancel",e),pt("close",e);break;case"iframe":case"object":pt("load",e);break;case"video":case"audio":for(l=0;l<Ta.length;l++)pt(Ta[l],e);break;case"image":pt("error",e),pt("load",e);break;case"details":pt("toggle",e);break;case"embed":case"source":case"link":pt("error",e),pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ct(e,i,G,l,a,null)}return;default:if(no(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Xu(e,i,Y,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Ct(e,i,v,l,a,null))}function K_(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,v=null,w=null,G=null,Y=null;for(H in a){var V=a[H];if(a.hasOwnProperty(H)&&V!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=V;default:l.hasOwnProperty(H)||Ct(e,i,H,null,l,V)}}for(var k in l){var H=l[k];if(V=a[k],l.hasOwnProperty(k)&&(H!=null||V!=null))switch(k){case"type":d=H;break;case"name":h=H;break;case"checked":G=H;break;case"defaultChecked":Y=H;break;case"value":_=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==V&&Ct(e,i,k,H,l,V)}}eo(e,_,v,w,G,Y,d,h);return;case"select":H=_=v=k=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(d)||Ct(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":k=d;break;case"defaultValue":v=d;break;case"multiple":_=d;default:d!==w&&Ct(e,i,h,d,l,w)}i=v,a=_,l=H,k!=null?Qn(e,!!a,k,!1):!!l!=!!a&&(i!=null?Qn(e,!!a,i,!0):Qn(e,!!a,a?[]:"",!1));return;case"textarea":H=k=null;for(v in a)if(h=a[v],a.hasOwnProperty(v)&&h!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ct(e,i,v,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":k=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ct(e,i,_,h,l,d)}Lh(e,k,H);return;case"option":for(var ct in a)if(k=a[ct],a.hasOwnProperty(ct)&&k!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Ct(e,i,ct,null,l,k)}for(w in l)if(k=l[w],H=a[w],l.hasOwnProperty(w)&&k!==H&&(k!=null||H!=null))switch(w){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ct(e,i,w,k,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)k=a[rt],a.hasOwnProperty(rt)&&k!=null&&!l.hasOwnProperty(rt)&&Ct(e,i,rt,null,l,k);for(G in l)if(k=l[G],H=a[G],l.hasOwnProperty(G)&&k!==H&&(k!=null||H!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:Ct(e,i,G,k,l,H)}return;default:if(no(i)){for(var Et in a)k=a[Et],a.hasOwnProperty(Et)&&k!==void 0&&!l.hasOwnProperty(Et)&&Xu(e,i,Et,void 0,l,k);for(Y in l)k=l[Y],H=a[Y],!l.hasOwnProperty(Y)||k===H||k===void 0&&H===void 0||Xu(e,i,Y,k,l,H);return}}for(var z in a)k=a[z],a.hasOwnProperty(z)&&k!=null&&!l.hasOwnProperty(z)&&Ct(e,i,z,null,l,k);for(V in l)k=l[V],H=a[V],!l.hasOwnProperty(V)||k===H||k==null&&H==null||Ct(e,i,V,k,l,H)}var Vu=null,qu=null;function nl(e){return e.nodeType===9?e:e.ownerDocument}function Xm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ju(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fu=null;function $_(){var e=window.event;return e&&e.type==="popstate"?e===Fu?!1:(Fu=e,!0):(Fu=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,J_=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,tx=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(ex)}:qm;function ex(e){setTimeout(function(){throw e})}function en(e){return e==="head"}function Fm(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&Ca(_.documentElement),a&2&&Ca(_.body),a&4)for(a=_.head,Ca(a),_=a.firstChild;_;){var v=_.nextSibling,w=_.nodeName;_[Xs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=v}}if(h===0){e.removeChild(d),Ga(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ga(i)}function Qu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qu(a),Kl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ix(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Xs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ke(e.nextSibling),e===null)break}return null}function nx(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ke(e.nextSibling),e===null))return null;return e}function Zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function sx(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ke(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Iu=null;function Qm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Zm(e,i,a){switch(i=nl(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ca(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Kl(e)}var Ve=new Map,Im=new Set;function sl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ci=X.d;X.d={f:ax,r:rx,D:lx,C:ox,L:ux,m:cx,X:fx,S:hx,M:dx};function ax(){var e=Ci.f(),i=Ir();return e||i}function rx(e){var i=Vn(e);i!==null&&i.tag===5&&i.type==="form"?gd(i):Ci.r(e)}var As=typeof document>"u"?null:document;function Wm(e,i,a){var l=As;if(l&&typeof i=="string"&&i){var h=ke(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Im.has(h)||(Im.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),re(i,"link",e),Jt(i),l.head.appendChild(i)))}}function lx(e){Ci.D(e),Wm("dns-prefetch",e,null)}function ox(e,i){Ci.C(e,i),Wm("preconnect",e,i)}function ux(e,i,a){Ci.L(e,i,a);var l=As;if(l&&e&&i){var h='link[rel="preload"][as="'+ke(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ke(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ke(a.imageSizes)+'"]')):h+='[href="'+ke(e)+'"]';var d=h;switch(i){case"style":d=ws(e);break;case"script":d=Ts(e)}Ve.has(d)||(e=p({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ve.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ea(d))||i==="script"&&l.querySelector(Ra(d))||(i=l.createElement("link"),re(i,"link",e),Jt(i),l.head.appendChild(i)))}}function cx(e,i){Ci.m(e,i);var a=As;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ke(l)+'"][href="'+ke(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ts(e)}if(!Ve.has(d)&&(e=p({rel:"modulepreload",href:e},i),Ve.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ra(d)))return}l=a.createElement("link"),re(l,"link",e),Jt(l),a.head.appendChild(l)}}}function hx(e,i,a){Ci.S(e,i,a);var l=As;if(l&&e){var h=qn(l).hoistableStyles,d=ws(e);i=i||"default";var _=h.get(d);if(!_){var v={loading:0,preload:null};if(_=l.querySelector(Ea(d)))v.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ve.get(d))&&Wu(e,a);var w=_=l.createElement("link");Jt(w),re(w,"link",e),w._p=new Promise(function(G,Y){w.onload=G,w.onerror=Y}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,al(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:v},h.set(d,_)}}}function fx(e,i){Ci.X(e,i);var a=As;if(a&&e){var l=qn(a).hoistableScripts,h=Ts(e),d=l.get(h);d||(d=a.querySelector(Ra(h)),d||(e=p({src:e,async:!0},i),(i=Ve.get(h))&&Ku(e,i),d=a.createElement("script"),Jt(d),re(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dx(e,i){Ci.M(e,i);var a=As;if(a&&e){var l=qn(a).hoistableScripts,h=Ts(e),d=l.get(h);d||(d=a.querySelector(Ra(h)),d||(e=p({src:e,async:!0,type:"module"},i),(i=Ve.get(h))&&Ku(e,i),d=a.createElement("script"),Jt(d),re(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Km(e,i,a,l){var h=(h=lt.current)?sl(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ws(a.href),a=qn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ws(a.href);var d=qn(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Ea(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ve.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ve.set(e,a),d||mx(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ts(a),a=qn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ws(e){return'href="'+ke(e)+'"'}function Ea(e){return'link[rel="stylesheet"]['+e+"]"}function $m(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function mx(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),re(i,"link",a),Jt(i),e.head.appendChild(i))}function Ts(e){return'[src="'+ke(e)+'"]'}function Ra(e){return"script[async]"+e}function Jm(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ke(a.href)+'"]');if(l)return i.instance=l,Jt(l),l;var h=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Jt(l),re(l,"style",h),al(l,a.precedence,e),i.instance=l;case"stylesheet":h=ws(a.href);var d=e.querySelector(Ea(h));if(d)return i.state.loading|=4,i.instance=d,Jt(d),d;l=$m(a),(h=Ve.get(h))&&Wu(l,h),d=(e.ownerDocument||e).createElement("link"),Jt(d);var _=d;return _._p=new Promise(function(v,w){_.onload=v,_.onerror=w}),re(d,"link",l),i.state.loading|=4,al(d,a.precedence,e),i.instance=d;case"script":return d=Ts(a.src),(h=e.querySelector(Ra(d)))?(i.instance=h,Jt(h),h):(l=a,(h=Ve.get(d))&&(l=p({},a),Ku(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Jt(h),re(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,al(l,a.precedence,e));return i.instance}function al(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var v=l[_];if(v.dataset.precedence===i)d=v;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Wu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ku(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var rl=null;function tg(e,i,a){if(rl===null){var l=new Map,h=rl=new Map;h.set(a,l)}else h=rl,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xs]||d[ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var v=l.get(_);v?v.push(d):l.set(_,[d])}}return l}function eg(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function gx(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ba=null;function px(){}function yx(e,i,a){if(Ba===null)throw Error(r(475));var l=Ba;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ws(a.href),d=e.querySelector(Ea(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ll.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Jt(d);return}d=e.ownerDocument||e,a=$m(a),(h=Ve.get(h))&&Wu(a,h),d=d.createElement("link"),Jt(d);var _=d;_._p=new Promise(function(v,w){_.onload=v,_.onerror=w}),re(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=ll.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function _x(){if(Ba===null)throw Error(r(475));var e=Ba;return e.stylesheets&&e.count===0&&$u(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&$u(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ll(){if(this.count--,this.count===0){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ol=null;function $u(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ol=new Map,i.forEach(xx,e),ol=null,ll.call(e))}function xx(e,i){if(!(i.state.loading&4)){var a=ol.get(e);if(a)var l=a.get(null);else{a=new Map,ol.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=ll.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var za={$$typeof:B,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function bx(e,i,a,l,h,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function ng(e,i,a,l,h,d,_,v,w,G,Y,V){return e=new bx(e,i,a,_,v,w,G,V),i=1,d===!0&&(i|=24),d=Ce(3,null,null,i),e.current=d,d.stateNode=e,i=Do(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ho(d),e}function sg(e){return e?(e=is,e):is}function ag(e,i,a,l,h,d){h=sg(h),l.context===null?l.context=h:l.pendingContext=h,l=Xi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vi(e,l,i),a!==null&&(Oe(a,e,i),la(a,e,i))}function rg(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ju(e,i){rg(e,i),(e=e.alternate)&&rg(e,i)}function lg(e){if(e.tag===13){var i=es(e,67108864);i!==null&&Oe(i,e,67108864),Ju(e,67108864)}}var ul=!0;function vx(e,i,a,l){var h=O.T;O.T=null;var d=X.p;try{X.p=2,tc(e,i,a,l)}finally{X.p=d,O.T=h}}function Sx(e,i,a,l){var h=O.T;O.T=null;var d=X.p;try{X.p=8,tc(e,i,a,l)}finally{X.p=d,O.T=h}}function tc(e,i,a,l){if(ul){var h=ec(l);if(h===null)Pu(e,i,l,cl,a),ug(e,l);else if(wx(h,e,i,a,l))l.stopPropagation();else if(ug(e,l),i&4&&-1<Ax.indexOf(e)){for(;h!==null;){var d=Vn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hn(d.pendingLanes);if(_!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;_;){var w=1<<31-Te(_);v.entanglements[1]|=w,_&=~w}li(d),(At&6)===0&&(Qr=Ae()+500,wa(0))}}break;case 13:v=es(d,2),v!==null&&Oe(v,d,2),Ir(),Ju(d,2)}if(d=ec(l),d===null&&Pu(e,i,l,cl,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pu(e,i,l,null,a)}}function ec(e){return e=ao(e),ic(e)}var cl=null;function ic(e){if(cl=null,e=Xn(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return cl=e,null}function og(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jl()){case Fl:return 2;case Sh:return 8;case ir:case u0:return 32;case Ah:return 268435456;default:return 32}default:return 32}}var nc=!1,nn=null,sn=null,an=null,Oa=new Map,Da=new Map,rn=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ug(e,i){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Oa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(i.pointerId)}}function Ua(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Vn(i),i!==null&&lg(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function wx(e,i,a,l,h){switch(i){case"focusin":return nn=Ua(nn,e,i,a,l,h),!0;case"dragenter":return sn=Ua(sn,e,i,a,l,h),!0;case"mouseover":return an=Ua(an,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Oa.set(d,Ua(Oa.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Da.set(d,Ua(Da.get(d)||null,e,i,a,l,h)),!0}return!1}function cg(e){var i=Xn(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,y0(e.priority,function(){if(a.tag===13){var l=ze();l=Zl(l);var h=es(a,l);h!==null&&Oe(h,a,l),Ju(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ec(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);so=l,a.target.dispatchEvent(l),so=null}else return i=Vn(a),i!==null&&lg(i),e.blockedOn=a,!1;i.shift()}return!0}function hg(e,i,a){hl(e)&&a.delete(i)}function Tx(){nc=!1,nn!==null&&hl(nn)&&(nn=null),sn!==null&&hl(sn)&&(sn=null),an!==null&&hl(an)&&(an=null),Oa.forEach(hg),Da.forEach(hg)}function fl(e,i){e.blockedOn===i&&(e.blockedOn=null,nc||(nc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Tx)))}var dl=null;function fg(e){dl!==e&&(dl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(ic(l||a)===null)continue;break}var d=Vn(a);d!==null&&(e.splice(i,3),i-=3,iu(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ga(e){function i(w){return fl(w,e)}nn!==null&&fl(nn,e),sn!==null&&fl(sn,e),an!==null&&fl(an,e),Oa.forEach(i),Da.forEach(i);for(var a=0;a<rn.length;a++){var l=rn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<rn.length&&(a=rn[0],a.blockedOn===null);)cg(a),a.blockedOn===null&&rn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[pe]||null;if(typeof d=="function")_||fg(a);else if(_){var v=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[pe]||null)v=_.formAction;else if(ic(h)!==null)continue}else v=_.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),fg(a)}}}function sc(e){this._internalRoot=e}ml.prototype.render=sc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=ze();ag(a,l,e,i,null,null)},ml.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ag(e.current,2,null,e,null,null),Ir(),i[Pn]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Eh();e={blockedOn:null,target:e,priority:i};for(var a=0;a<rn.length&&i!==0&&i<rn[a].priority;a++);rn.splice(a,0,e),a===0&&cg(e)}};var dg=t.version;if(dg!=="19.1.1")throw Error(r(527,dg,"19.1.1"));X.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Mx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Ls=gl.inject(Mx),we=gl}catch{}}return Ha.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=Rd,d=Bd,_=zd,v=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks)),i=ng(e,1,!1,null,null,a,l,h,d,_,v,null),e[Pn]=i.current,Yu(e),new sc(i)},Ha.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=Rd,_=Bd,v=zd,w=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=ng(e,1,!0,i,a??null,l,h,d,_,v,w,G),i.context=sg(null),a=i.current,l=ze(),l=Zl(l),h=Xi(l),h.callback=null,Vi(a,h,l),a=l,i.current.lanes=a,Ps(i,a),li(i),e[Pn]=i.current,Yu(e),new ml(i)},Ha.version="19.1.1",Ha}var Ag;function kx(){if(Ag)return lc.exports;Ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),lc.exports=Gx(),lc.exports}var Hx=kx();const Nx="modulepreload",Lx=function(s,t){return new URL(s,t).href},wg={},Dl=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const f=document.getElementsByTagName("link"),m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=c(n.map(p=>{if(p=Lx(p,r),p in wg)return;wg[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!r)for(let T=f.length-1;T>=0;T--){const A=f[T];if(A.href===p&&(!y||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${b}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Nx,y||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((T,A)=>{S.addEventListener("load",T),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var et=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(et||{});const Yc=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},pl=(s,t)=>Yc(s).priority??t,oe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Yc).forEach(t=>{t.type.forEach(n=>{var r,o;return(o=(r=this._removeHandlers)[n])==null?void 0:o.call(r,t)})}),this},add(...s){return s.map(Yc).forEach(t=>{t.type.forEach(n=>{var u,c;const r=this._addHandlers,o=this._queue;r[n]?(c=r[n])==null||c.call(r,t):(o[n]=o[n]||[],(u=o[n])==null||u.push(t))})}),this},handle(s,t,n){var c;const r=this._addHandlers,o=this._removeHandlers;if(r[s]||o[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,o[s]=n;const u=this._queue;return u[s]&&((c=u[s])==null||c.forEach(f=>t(f)),delete u[s]),this},handleByMap(s,t){return this.handle(s,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(s,t,n=-1){return this.handle(s,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,c)=>pl(c.value,n)-pl(u.value,n)))},r=>{const o=t.findIndex(u=>u.name===r.name);o!==-1&&t.splice(o,1)})},handleByList(s,t,n=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((o,u)=>pl(u,n)-pl(o,n)))},r=>{const o=t.indexOf(r.ref);o!==-1&&t.splice(o,1)})},mixin(s,...t){for(const n of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(n))}},Yx={extension:{type:et.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Dl(()=>import("./browserAll-T8jTBuZT.js"),__vite__mapDeps([0,1,2]),import.meta.url)}},Px={extension:{type:et.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Dl(()=>import("./webworkerAll-DnEntE3c.js"),__vite__mapDeps([1,2]),import.meta.url)}};class le{constructor(t,n,r){this._x=n||0,this._y=r||0,this._observer=t}clone(t){return new le(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var hc={exports:{}},Tg;function Xx(){return Tg||(Tg=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(m,g,p){this.fn=m,this.context=g,this.once=p||!1}function u(m,g,p,y,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new o(p,y||m,b),S=n?n+g:g;return m._events[S]?m._events[S].fn?m._events[S]=[m._events[S],x]:m._events[S].push(x):(m._events[S]=x,m._eventsCount++),m}function c(m,g){--m._eventsCount===0?m._events=new r:delete m._events[g]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],p,y;if(this._eventsCount===0)return g;for(y in p=this._events)t.call(p,y)&&g.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(p)):g},f.prototype.listeners=function(g){var p=n?n+g:g,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,x=y.length,S=new Array(x);b<x;b++)S[b]=y[b].fn;return S},f.prototype.listenerCount=function(g){var p=n?n+g:g,y=this._events[p];return y?y.fn?1:y.length:0},f.prototype.emit=function(g,p,y,b,x,S){var T=n?n+g:g;if(!this._events[T])return!1;var A=this._events[T],R=arguments.length,E,B;if(A.fn){switch(A.once&&this.removeListener(g,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,y),!0;case 4:return A.fn.call(A.context,p,y,b),!0;case 5:return A.fn.call(A.context,p,y,b,x),!0;case 6:return A.fn.call(A.context,p,y,b,x,S),!0}for(B=1,E=new Array(R-1);B<R;B++)E[B-1]=arguments[B];A.fn.apply(A.context,E)}else{var U=A.length,q;for(B=0;B<U;B++)switch(A[B].once&&this.removeListener(g,A[B].fn,void 0,!0),R){case 1:A[B].fn.call(A[B].context);break;case 2:A[B].fn.call(A[B].context,p);break;case 3:A[B].fn.call(A[B].context,p,y);break;case 4:A[B].fn.call(A[B].context,p,y,b);break;default:if(!E)for(q=1,E=new Array(R-1);q<R;q++)E[q-1]=arguments[q];A[B].fn.apply(A[B].context,E)}}return!0},f.prototype.on=function(g,p,y){return u(this,g,p,y,!1)},f.prototype.once=function(g,p,y){return u(this,g,p,y,!0)},f.prototype.removeListener=function(g,p,y,b){var x=n?n+g:g;if(!this._events[x])return this;if(!p)return c(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!b||S.once)&&(!y||S.context===y)&&c(this,x);else{for(var T=0,A=[],R=S.length;T<R;T++)(S[T].fn!==p||b&&!S[T].once||y&&S[T].context!==y)&&A.push(S[T]);A.length?this._events[x]=A.length===1?A[0]:A:c(this,x)}return this},f.prototype.removeAllListeners=function(g){var p;return g?(p=n?n+g:g,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,s.exports=f})(hc)),hc.exports}var Vx=Xx();const ei=Lp(Vx),qx=Math.PI*2,jx=180/Math.PI,Fx=Math.PI/180;class de{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new de(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return fc.x=0,fc.y=0,fc}}const fc=new de;class _t{constructor(t=1,n=0,r=0,o=1,u=0,c=0){this.array=null,this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,r,o,u,c){return this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=c,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,n){n=n||new de;const r=t.x,o=t.y;return n.x=this.a*r+this.c*o+this.tx,n.y=this.b*r+this.d*o+this.ty,n}applyInverse(t,n){n=n||new de;const r=this.a,o=this.b,u=this.c,c=this.d,f=this.tx,m=this.ty,g=1/(r*c+u*-o),p=t.x,y=t.y;return n.x=c*g*p+-u*g*y+(m*u-f*c)*g,n.y=r*g*y+-o*g*p+(-m*r+f*o)*g,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),o=this.a,u=this.c,c=this.tx;return this.a=o*n-this.b*r,this.b=o*r+this.b*n,this.c=u*n-this.d*r,this.d=u*r+this.d*n,this.tx=c*n-this.ty*r,this.ty=c*r+this.ty*n,this}append(t){const n=this.a,r=this.b,o=this.c,u=this.d;return this.a=t.a*n+t.b*o,this.b=t.a*r+t.b*u,this.c=t.c*n+t.d*o,this.d=t.c*r+t.d*u,this.tx=t.tx*n+t.ty*o+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,n){const r=t.a,o=t.b,u=t.c,c=t.d,f=t.tx,m=t.ty,g=n.a,p=n.b,y=n.c,b=n.d;return this.a=r*g+o*y,this.b=r*p+o*b,this.c=u*g+c*y,this.d=u*p+c*b,this.tx=f*g+m*y+n.tx,this.ty=f*p+m*b+n.ty,this}setTransform(t,n,r,o,u,c,f,m,g){return this.a=Math.cos(f+g)*u,this.b=Math.sin(f+g)*u,this.c=-Math.sin(f-m)*c,this.d=Math.cos(f-m)*c,this.tx=t-(r*this.a+o*this.c),this.ty=n-(r*this.b+o*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,o=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=o*t.a+this.d*t.c,this.d=o*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,r=this.b,o=this.c,u=this.d,c=t.pivot,f=-Math.atan2(-o,u),m=Math.atan2(r,n),g=Math.abs(f+m);return g<1e-5||Math.abs(qx-g)<1e-5?(t.rotation=m,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=m),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(o*o+u*u),t.position.x=this.tx+(c.x*n+c.y*o),t.position.y=this.ty+(c.x*r+c.y*u),t}invert(){const t=this.a,n=this.b,r=this.c,o=this.d,u=this.tx,c=t*o-n*r;return this.a=o/c,this.b=-n/c,this.c=-r/c,this.d=t/c,this.tx=(r*this.ty-o*u)/c,this.ty=-(t*this.ty-n*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new _t;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Zx.identity()}static get shared(){return Qx.identity()}}const Qx=new _t,Zx=new _t,On=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Dn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Un=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Pc=[],Yp=[],yl=Math.sign;function Ix(){for(let s=0;s<16;s++){const t=[];Pc.push(t);for(let n=0;n<16;n++){const r=yl(On[s]*On[n]+Un[s]*Dn[n]),o=yl(Dn[s]*On[n]+Gn[s]*Dn[n]),u=yl(On[s]*Un[n]+Un[s]*Gn[n]),c=yl(Dn[s]*Un[n]+Gn[s]*Gn[n]);for(let f=0;f<16;f++)if(On[f]===r&&Dn[f]===o&&Un[f]===u&&Gn[f]===c){t.push(f);break}}}for(let s=0;s<16;s++){const t=new _t;t.set(On[s],Dn[s],Un[s],Gn[s],0,0),Yp.push(t)}}Ix();const Rt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>On[s],uY:s=>Dn[s],vX:s=>Un[s],vY:s=>Gn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Pc[s][t],sub:(s,t)=>Pc[s][Rt.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Rt.S:Rt.N:Math.abs(t)*2<=Math.abs(s)?s>0?Rt.E:Rt.W:t>0?s>0?Rt.SE:Rt.SW:s>0?Rt.NE:Rt.NW,matrixAppendRotationInv:(s,t,n=0,r=0)=>{const o=Yp[Rt.inv(t)];o.tx=n,o.ty=r,s.append(o)},transformRectCoords:(s,t,n,r)=>{const{x:o,y:u,width:c,height:f}=s,{x:m,y:g,width:p,height:y}=t;return n===Rt.E?(r.set(o+m,u+g,c,f),r):n===Rt.S?r.set(p-u-f+m,o+g,f,c):n===Rt.W?r.set(p-o-c+m,y-u-f+g,c,f):n===Rt.N?r.set(u+m,y-o-c+g,f,c):r.set(o+m,u+g,c,f)}},_l=[new de,new de,new de,new de];class Lt{constructor(t=0,n=0,r=0,o=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Lt(0,0,0,0)}clone(){return new Lt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,r,o=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const f=this.x,m=this.y,g=r*(1-o),p=r-g,y=f-g,b=f+u+g,x=m-g,S=m+c+g,T=f+p,A=f+u-p,R=m+p,E=m+c-p;return t>=y&&t<=b&&n>=x&&n<=S&&!(t>T&&t<A&&n>R&&n<E)}intersects(t,n){if(!n){const K=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=K)return!1;const F=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>F}const r=this.left,o=this.right,u=this.top,c=this.bottom;if(o<=r||c<=u)return!1;const f=_l[0].set(t.left,t.top),m=_l[1].set(t.left,t.bottom),g=_l[2].set(t.right,t.top),p=_l[3].set(t.right,t.bottom);if(g.x<=f.x||m.y<=f.y)return!1;const y=Math.sign(n.a*n.d-n.b*n.c);if(y===0||(n.apply(f,f),n.apply(m,m),n.apply(g,g),n.apply(p,p),Math.max(f.x,m.x,g.x,p.x)<=r||Math.min(f.x,m.x,g.x,p.x)>=o||Math.max(f.y,m.y,g.y,p.y)<=u||Math.min(f.y,m.y,g.y,p.y)>=c))return!1;const b=y*(m.y-f.y),x=y*(f.x-m.x),S=b*r+x*u,T=b*o+x*u,A=b*r+x*c,R=b*o+x*c;if(Math.max(S,T,A,R)<=b*f.x+x*f.y||Math.min(S,T,A,R)>=b*p.x+x*p.y)return!1;const E=y*(f.y-g.y),B=y*(g.x-f.x),U=E*r+B*u,q=E*o+B*u,L=E*r+B*c,N=E*o+B*c;return!(Math.max(U,q,L,N)<=E*f.x+B*f.y||Math.min(U,q,L,N)>=E*p.x+B*p.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),o=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=o,this.height=Math.max(u-o,0),this}ceil(t=1,n=.001){const r=Math.ceil((this.x+this.width-n)*t)/t,o=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=o-this.y,this}scale(t,n=t){return this.x*=t,this.y*=n,this.width*=t,this.height*=n,this}enlarge(t){const n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),o=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=o,this.height=u-o,this}getBounds(t){return t||(t=new Lt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,r=t.y,o=t.x+t.width,u=t.y+t.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&o>=this.x&&o<this.x+this.width&&u>=this.y&&u<this.y+this.height}set(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const dc={default:-1};function Qt(s="default"){return dc[s]===void 0&&(dc[s]=-1),++dc[s]}const Mg={},Tt="8.0.0",Wx="8.3.4";function yt(s,t,n=3){if(Mg[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(r))),Mg[t]=!0}const Pp=()=>{};function zs(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function Cg(s){return!(s&s-1)&&!!s}function Xp(s){const t={};for(const n in s)s[n]!==void 0&&(t[n]=s[n]);return t}const Eg=Object.create(null);function Kx(s){const t=Eg[s];return t===void 0&&(Eg[s]=Qt("resource")),t}const Vp=class qp extends ei{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...qp.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){yt(Tt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Kx(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Vp.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Os=Vp;const jp=class Fp extends ei{constructor(t={}){super(),this.options=t,this.uid=Qt("textureSource"),this._resourceType="textureSource",this._resourceId=Qt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Fp.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Os(Xp(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var n,r;this.style!==t&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=t,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Qt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,r){r||(r=this._resolution),t||(t=this.width),n||(n=this.height);const o=Math.round(t*r),u=Math.round(n*r);return this.width=o/r,this.height=u/r,this._resolution=r,this.pixelWidth===o&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Qt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Cg(this.pixelWidth)&&Cg(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};jp.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ii=jp;class lh extends ii{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...t,resource:n,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}lh.extension=et.TextureSource;const Rg=new _t;class $x{constructor(t,n){this.mapCoord=new _t,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var n;this.texture!==t&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const r=this.mapCoord;for(let o=0;o<t.length;o+=2){const u=t[o],c=t[o+1];n[o]=u*r.a+c*r.c+r.tx,n[o+1]=u*r.b+c*r.d+r.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=t.orig,o=t.trim;o&&(Rg.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Rg));const u=t.source,c=this.uClampFrame,f=this.clampMargin/u._resolution,m=this.clampOffset/u._resolution;return c[0]=(t.frame.x+f+m)/u.width,c[1]=(t.frame.y+f+m)/u.height,c[2]=(t.frame.x+t.frame.width-f+m)/u.width,c[3]=(t.frame.y+t.frame.height-f+m)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class bt extends ei{constructor({source:t,label:n,frame:r,orig:o,trim:u,defaultAnchor:c,defaultBorders:f,rotate:m,dynamic:g}={}){if(super(),this.uid=Qt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Lt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(t==null?void 0:t.source)??new ii,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:p,height:y}=this._source;this.frame.width=p,this.frame.height=y}this.orig=o||this.frame,this.trim=u,this.rotate=m??0,this.defaultAnchor=c,this.defaultBorders=f,this.destroyed=!1,this.dynamic=g||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new $x(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:r,height:o}=this._source,u=n.x/r,c=n.y/o,f=n.width/r,m=n.height/o;let g=this.rotate;if(g){const p=f/2,y=m/2,b=u+p,x=c+y;g=Rt.add(g,Rt.NW),t.x0=b+p*Rt.uX(g),t.y0=x+y*Rt.uY(g),g=Rt.add(g,2),t.x1=b+p*Rt.uX(g),t.y1=x+y*Rt.uY(g),g=Rt.add(g,2),t.x2=b+p*Rt.uX(g),t.y2=x+y*Rt.uY(g),g=Rt.add(g,2),t.x3=b+p*Rt.uX(g),t.y3=x+y*Rt.uY(g)}else t.x0=u,t.y0=c,t.x1=u+f,t.y1=c,t.x2=u+f,t.y2=c+m,t.x3=u,t.y3=c+m}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return yt(Tt,"Texture.baseTexture is now Texture.source"),this._source}}bt.EMPTY=new bt({label:"EMPTY",source:new ii({label:"EMPTY"})});bt.EMPTY.destroy=Pp;bt.WHITE=new bt({source:new lh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});bt.WHITE.destroy=Pp;function Jx(s,t,n){const{width:r,height:o}=n.orig,u=n.trim;if(u){const c=u.width,f=u.height;s.minX=u.x-t._x*r,s.maxX=s.minX+c,s.minY=u.y-t._y*o,s.maxY=s.minY+f}else s.minX=-t._x*r,s.maxX=s.minX+r,s.minY=-t._y*o,s.maxY=s.minY+o}const Bg=new _t;class ti{constructor(t=1/0,n=1/0,r=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Bg,this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Lt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Bg,this}set(t,n,r,o){this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}addFrame(t,n,r,o,u){u||(u=this.matrix);const c=u.a,f=u.b,m=u.c,g=u.d,p=u.tx,y=u.ty;let b=this.minX,x=this.minY,S=this.maxX,T=this.maxY,A=c*t+m*n+p,R=f*t+g*n+y;A<b&&(b=A),R<x&&(x=R),A>S&&(S=A),R>T&&(T=R),A=c*r+m*n+p,R=f*r+g*n+y,A<b&&(b=A),R<x&&(x=R),A>S&&(S=A),R>T&&(T=R),A=c*t+m*o+p,R=f*t+g*o+y,A<b&&(b=A),R<x&&(x=R),A>S&&(S=A),R>T&&(T=R),A=c*r+m*o+p,R=f*r+g*o+y,A<b&&(b=A),R<x&&(x=R),A>S&&(S=A),R>T&&(T=R),this.minX=b,this.minY=x,this.maxX=S,this.maxY=T}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,r=this.minY,o=this.maxX,u=this.maxY,{a:c,b:f,c:m,d:g,tx:p,ty:y}=t;let b=c*n+m*r+p,x=f*n+g*r+y;this.minX=b,this.minY=x,this.maxX=b,this.maxY=x,b=c*o+m*r+p,x=f*o+g*r+y,this.minX=b<this.minX?b:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=x>this.maxY?x:this.maxY,b=c*n+m*u+p,x=f*n+g*u+y,this.minX=b<this.minX?b:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=x>this.maxY?x:this.maxY,b=c*o+m*u+p,x=f*o+g*u+y,this.minX=b<this.minX?b:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,r,o){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>o&&(this.maxY=o),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new ti(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,r,o){let u=this.minX,c=this.minY,f=this.maxX,m=this.maxY;o||(o=this.matrix);const g=o.a,p=o.b,y=o.c,b=o.d,x=o.tx,S=o.ty;for(let T=n;T<r;T+=2){const A=t[T],R=t[T+1],E=g*A+y*R+x,B=p*A+b*R+S;u=E<u?E:u,c=B<c?B:c,f=E>f?E:f,m=B>m?B:m}this.minX=u,this.minY=c,this.maxX=f,this.maxY=m}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var tb={grad:.9,turn:360,rad:360/(2*Math.PI)},Ei=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},ne=function(s,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*s)/n+0},je=function(s,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),s>n?n:s>t?s:t},Qp=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},zg=function(s){return{r:je(s.r,0,255),g:je(s.g,0,255),b:je(s.b,0,255),a:je(s.a)}},mc=function(s){return{r:ne(s.r),g:ne(s.g),b:ne(s.b),a:ne(s.a,3)}},eb=/^#([0-9a-f]{3,8})$/i,xl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Zp=function(s){var t=s.r,n=s.g,r=s.b,o=s.a,u=Math.max(t,n,r),c=u-Math.min(t,n,r),f=c?u===t?(n-r)/c:u===n?2+(r-t)/c:4+(t-n)/c:0;return{h:60*(f<0?f+6:f),s:u?c/u*100:0,v:u/255*100,a:o}},Ip=function(s){var t=s.h,n=s.s,r=s.v,o=s.a;t=t/360*6,n/=100,r/=100;var u=Math.floor(t),c=r*(1-n),f=r*(1-(t-u)*n),m=r*(1-(1-t+u)*n),g=u%6;return{r:255*[r,f,c,c,m,r][g],g:255*[m,r,r,f,c,c][g],b:255*[c,c,m,r,r,f][g],a:o}},Og=function(s){return{h:Qp(s.h),s:je(s.s,0,100),l:je(s.l,0,100),a:je(s.a)}},Dg=function(s){return{h:ne(s.h),s:ne(s.s),l:ne(s.l),a:ne(s.a,3)}},Ug=function(s){return Ip((n=(t=s).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Fa=function(s){return{h:(t=Zp(s)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},ib=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ab=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xc={string:[[function(s){var t=eb.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ne(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?ne(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=sb.exec(s)||ab.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:zg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=ib.exec(s)||nb.exec(s);if(!t)return null;var n,r,o=Og({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(tb[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Ug(o)},"hsl"]],object:[[function(s){var t=s.r,n=s.g,r=s.b,o=s.a,u=o===void 0?1:o;return Ei(t)&&Ei(n)&&Ei(r)?zg({r:Number(t),g:Number(n),b:Number(r),a:Number(u)}):null},"rgb"],[function(s){var t=s.h,n=s.s,r=s.l,o=s.a,u=o===void 0?1:o;if(!Ei(t)||!Ei(n)||!Ei(r))return null;var c=Og({h:Number(t),s:Number(n),l:Number(r),a:Number(u)});return Ug(c)},"hsl"],[function(s){var t=s.h,n=s.s,r=s.v,o=s.a,u=o===void 0?1:o;if(!Ei(t)||!Ei(n)||!Ei(r))return null;var c=(function(f){return{h:Qp(f.h),s:je(f.s,0,100),v:je(f.v,0,100),a:je(f.a)}})({h:Number(t),s:Number(n),v:Number(r),a:Number(u)});return Ip(c)},"hsv"]]},Gg=function(s,t){for(var n=0;n<t.length;n++){var r=t[n][0](s);if(r)return[r,t[n][1]]}return[null,void 0]},rb=function(s){return typeof s=="string"?Gg(s.trim(),Xc.string):typeof s=="object"&&s!==null?Gg(s,Xc.object):[null,void 0]},gc=function(s,t){var n=Fa(s);return{h:n.h,s:je(n.s+100*t,0,100),l:n.l,a:n.a}},pc=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},kg=function(s,t){var n=Fa(s);return{h:n.h,s:n.s,l:je(n.l+100*t,0,100),a:n.a}},Vc=(function(){function s(t){this.parsed=rb(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return ne(pc(this.rgba),2)},s.prototype.isDark=function(){return pc(this.rgba)<.5},s.prototype.isLight=function(){return pc(this.rgba)>=.5},s.prototype.toHex=function(){return t=mc(this.rgba),n=t.r,r=t.g,o=t.b,c=(u=t.a)<1?xl(ne(255*u)):"","#"+xl(n)+xl(r)+xl(o)+c;var t,n,r,o,u,c},s.prototype.toRgb=function(){return mc(this.rgba)},s.prototype.toRgbString=function(){return t=mc(this.rgba),n=t.r,r=t.g,o=t.b,(u=t.a)<1?"rgba("+n+", "+r+", "+o+", "+u+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,u},s.prototype.toHsl=function(){return Dg(Fa(this.rgba))},s.prototype.toHslString=function(){return t=Dg(Fa(this.rgba)),n=t.h,r=t.s,o=t.l,(u=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+u+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,u},s.prototype.toHsv=function(){return t=Zp(this.rgba),{h:ne(t.h),s:ne(t.s),v:ne(t.v),a:ne(t.a,3)};var t},s.prototype.invert=function(){return oi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),oi(gc(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),oi(gc(this.rgba,-t))},s.prototype.grayscale=function(){return oi(gc(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),oi(kg(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),oi(kg(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?oi({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):ne(this.rgba.a,3);var n},s.prototype.hue=function(t){var n=Fa(this.rgba);return typeof t=="number"?oi({h:t,s:n.s,l:n.l,a:n.a}):ne(n.h)},s.prototype.isEqual=function(t){return this.toHex()===oi(t).toHex()},s})(),oi=function(s){return s instanceof Vc?s:new Vc(s)},Hg=[],lb=function(s){s.forEach(function(t){Hg.indexOf(t)<0&&(t(Vc,Xc),Hg.push(t))})};function ob(s,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var u={};s.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,m,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var p=this.toRgb(),y=1/0,b="black";if(!u.length)for(var x in n)u[x]=new s(n[x]).toRgb();for(var S in n){var T=(f=p,m=u[S],Math.pow(f.r-m.r,2)+Math.pow(f.g-m.g,2)+Math.pow(f.b-m.b,2));T<y&&(y=T,b=S)}return b}},t.string.push([function(c){var f=c.toLowerCase(),m=f==="transparent"?"#0000":n[f];return m?new s(m).toRgb():null},"name"])}lb([ob]);const Ds=class Xa{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Xa)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const r=typeof t;if(r!==typeof n)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((u,c)=>u===n[c]);if(t!==null&&n!==null){const u=Object.keys(t),c=Object.keys(n);return u.length!==c.length?!1:u.every(f=>t[f]===n[f])}return t===n}toRgba(){const[t,n,r,o]=this._components;return{r:t,g:n,b:r,a:o}}toRgb(){const[t,n,r]=this._components;return{r:t,g:n,b:r}}toRgbaString(){const[t,n,r]=this.toUint8RgbArray();return`rgba(${t},${n},${r},${this.alpha})`}toUint8RgbArray(t){const[n,r,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(r*255),t[2]=Math.round(o*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,r,o,u]=this._components;return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,r,o]=this._components;return t[0]=n,t[1]=r,t[2]=o,t}toNumber(){return this._int}toBgrNumber(){const[t,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,r,o,u]=Xa._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=o,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,u=this._int&255;return n&&(r=r*t+.5|0,o=o*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(o<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,r,o,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;n=(c>>16&255)/255,r=(c>>8&255)/255,o=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,o,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,o,u=255]=t,n/=255,r/=255,o/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=Xa.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const c=oi(t);c.isValid()&&({r:n,g:r,b:o,a:u}=c.rgba,n/=255,r/=255,o/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=o,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,r]=this._components;this._int=(t*255<<16)+(n*255<<8)+(r*255|0)}_clamp(t,n=0,r=1){return typeof t=="number"?Math.min(Math.max(t,n),r):(t.forEach((o,u)=>{t[u]=Math.min(Math.max(o,n),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Xa||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Ds.shared=new Ds;Ds._temp=new Ds;Ds.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Zt=Ds;const ub={cullArea:null,cullable:!1,cullableChildren:!0};let yc=0;const Ng=500;function Dt(...s){yc!==Ng&&(yc++,yc===Ng?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}class oh{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var r;let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,(r=n.init)==null||r.call(n,t),n}return(t){var n;(n=t.reset)==null||n.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class cb{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new oh(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const r=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}}const Oi=new cb,hb={get isCachedAsTexture(){var s;return!!((s=this.renderGroup)!=null&&s.isCachedAsTexture)},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){var s;(s=this.renderGroup)==null||s.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){yt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function fb(s,t,n){const r=s.length;let o;if(t>=r||n===0)return;n=t+n>r?r-t:n;const u=r-n;for(o=t;o<u;++o)s[o]=s[o+n];s.length=u}const db={allowChildren:!0,removeChildren(s=0,t){var u;const n=t??this.children.length,r=n-s,o=[];if(r>0&&r<=n){for(let f=n-1;f>=s;f--){const m=this.children[f];m&&(o.push(m),m.parent=null)}fb(this.children,s,n);const c=this.renderGroup||this.parentRenderGroup;c&&c.removeChildren(o);for(let f=0;f<o.length;++f){const m=o[f];(u=m.parentRenderLayer)==null||u.detach(m),this.emit("childRemoved",m,this,f),o[f].emit("removed",this)}return o.length>0&&this._didViewChangeTick++,o}else if(r===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||yt(Tt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(s.parent){const o=s.parent.children.indexOf(s);if(s.parent===this&&o===t)return s;o!==-1&&s.parent.children.splice(o,1)}t===n.length?n.push(s):n.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const n=this.getChildIndex(s),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=s;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var s;(s=this.parent)==null||s.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const n=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),s.setFromMatrix(n),s},replaceChild(s,t){s.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(s)),t.setFromMatrix(s.localTransform),t.updateLocalTransform(),this.removeChild(s)}},mb={collectRenderables(s,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,n))},collectRenderablesSimple(s,t,n){const r=this.children,o=r.length;for(let u=0;u<o;u++)r[u].collectRenderables(s,t,n)},collectRenderablesWithEffects(s,t,n){const{renderPipes:r}=t;for(let o=0;o<this.effects.length;o++){const u=this.effects[o];r[u.pipe].push(u,this,s)}this.collectRenderablesSimple(s,t,n);for(let o=this.effects.length-1;o>=0;o--){const u=this.effects[o];r[u.pipe].pop(u,this,s)}}};class Lg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class gb{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(t))return Oi.get(r.maskClass,t)}return t}returnMaskEffect(t){Oi.return(t)}}const qc=new gb;oe.handleByList(et.MaskEffect,qc._effectClasses);const pb={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;(t==null?void 0:t.mask)!==s&&(t&&(this.removeEffect(t),qc.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=qc.getMaskEffect(s),this.addEffect(this._maskEffect)))},get mask(){var s;return(s=this._maskEffect)==null?void 0:s.mask},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},set filters(s){var u;!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new Lg);s=s;const n=(s==null?void 0:s.length)>0,r=((u=t.filters)==null?void 0:u.length)>0,o=n!==r;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),o&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){var s;return(s=this._filterEffect)==null?void 0:s.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new Lg),this._filterEffect.filterArea=s},get filterArea(){var s;return(s=this._filterEffect)==null?void 0:s.filterArea}},yb={label:null,get name(){return yt(Tt,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){yt(Tt,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const n=this.children;for(let r=0;r<n.length;r++){const o=n[r];if(o.label===s||s instanceof RegExp&&s.test(o.label))return o}if(t)for(let r=0;r<n.length;r++){const u=n[r].getChildByLabel(s,!0);if(u)return u}return null},getChildrenByLabel(s,t=!1,n=[]){const r=this.children;for(let o=0;o<r.length;o++){const u=r[o];(u.label===s||s instanceof RegExp&&s.test(u.label))&&n.push(u)}if(t)for(let o=0;o<r.length;o++)r[o].getChildrenByLabel(s,!0,n);return n}},ge=new oh(_t),Di=new oh(ti),_b=new _t,xb={getFastGlobalBounds(s,t){t||(t=new ti),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(s,t,n){let r=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const o=!!this.effects.length;if((this.renderGroup||o)&&(r=Di.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;r.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const u=this.children;for(let c=0;c<u.length;c++)u[c]._getGlobalBoundsRecursive(s,r,n)}if(o){let u=!1;const c=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(c.worldTransform)),this.effects[f].addBounds(r,!0));u&&r.applyMatrix(c.worldTransform.copyTo(_b).invert()),t.addBounds(r),Di.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),Di.return(r))}};function Wp(s,t,n){n.clear();let r,o;return s.parent?t?r=s.parent.worldTransform:(o=ge.get().identity(),r=uh(s,o)):r=_t.IDENTITY,Kp(s,n,r,t),o&&ge.return(o),n.isValid||n.set(0,0,0,0),n}function Kp(s,t,n,r){var f,m;if(!s.visible||!s.measurable)return;let o;r?o=s.worldTransform:(s.updateLocalTransform(),o=ge.get(),o.appendFrom(s.localTransform,n));const u=t,c=!!s.effects.length;if(c&&(t=Di.get().clear()),s.boundsArea)t.addRect(s.boundsArea,o);else{s.bounds&&(t.matrix=o,t.addBounds(s.bounds));for(let g=0;g<s.children.length;g++)Kp(s.children[g],t,o,r)}if(c){for(let g=0;g<s.effects.length;g++)(m=(f=s.effects[g]).addBounds)==null||m.call(f,t);u.addBounds(t,_t.IDENTITY),Di.return(t)}r||ge.return(o)}function uh(s,t){const n=s.parent;return n&&(uh(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function $p(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const n=s>>16&255,r=s>>8&255,o=s&255,u=t>>16&255,c=t>>8&255,f=t&255,m=n*u/255|0,g=r*c/255|0,p=o*f/255|0;return(m<<16)+(g<<8)+p}const Yg=16777215;function Pg(s,t){return s===Yg?t:t===Yg?s:$p(s,t)}function zl(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const bb={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(s=new _t,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const n=uh(this,ge.get().identity());return s.appendFrom(this.localTransform,n),ge.return(n),s},getGlobalTint(s){if(s)return this.renderGroup?zl(this.renderGroup.worldColor):this.parentRenderGroup?zl(Pg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=Pg(t,n.localColor),n=n.parent;return zl(t)}};function Jp(s,t,n){return t.clear(),n||(n=_t.IDENTITY),ty(s,t,n,s,!0),t.isValid||t.set(0,0,0,0),t}function ty(s,t,n,r,o){var m,g;let u;if(o)u=ge.get(),u=n.copyTo(u);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const p=s.localTransform;u=ge.get(),u.appendFrom(p,n)}const c=t,f=!!s.effects.length;if(f&&(t=Di.get().clear()),s.boundsArea)t.addRect(s.boundsArea,u);else{s.renderPipeId&&(t.matrix=u,t.addBounds(s.bounds));const p=s.children;for(let y=0;y<p.length;y++)ty(p[y],t,u,r,!1)}if(f){for(let p=0;p<s.effects.length;p++)(g=(m=s.effects[p]).addLocalBounds)==null||g.call(m,t,r);c.addBounds(t,_t.IDENTITY),Di.return(t)}ge.return(u)}function ey(s,t){const n=s.children;for(let r=0;r<n.length;r++){const o=n[r],u=o.uid,c=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=f+2,o.children.length&&ey(o,t)}return t.didChange}const vb=new _t,Sb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*n:this.scale.x=n},_setHeight(s,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new ti});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),ey(this,s),s.didChange&&Jp(this,s.localBounds,vb),s.localBounds},getBounds(s,t){return Wp(this,s,t||new ti)}},Ab={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},wb={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Tb))}};function Tb(s,t){return s._zIndex-t._zIndex}const Mb={getGlobalPosition(s=new de,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,n=!1){const r=this.getGlobalTransform(ge.get(),n);return t=r.apply(s,t),ge.return(r),t},toLocal(s,t,n,r){t&&(s=t.toGlobal(s,n,r));const o=this.getGlobalTransform(ge.get(),r);return n=o.applyInverse(s,n),ge.return(o),n}};class iy{constructor(){this.uid=Qt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Cb=0;class Eb{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Os(this.textureOptions)}createTexture(t,n,r){const o=new ii({...this.textureOptions,width:t,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new bt({source:o,label:`texturePool_${Cb++}`})}getOptimalTexture(t,n,r=1,o){let u=Math.ceil(t*r-1e-6),c=Math.ceil(n*r-1e-6);u=zs(u),c=zs(c);const f=(u<<17)+(c<<1)+(o?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let m=this._texturePool[f].pop();return m||(m=this.createTexture(u,c,o)),m.source._resolution=r,m.source.width=u/r,m.source.height=c/r,m.source.pixelWidth=u,m.source.pixelHeight=c,m.frame.x=0,m.frame.y=0,m.frame.width=t,m.frame.height=n,m.updateUvs(),this._poolKeyHash[m.uid]=f,m}getSameSizeTexture(t,n=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,n)}returnTexture(t,n=!1){const r=this._poolKeyHash[t.uid];n&&(t.source.style=this.textureStyle),this._texturePool[r].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this._texturePool={}}}const Rb=new Eb;class Bb{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new _t,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new iy,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let r=0;r<n.length;r++){const o=n[r];o._updateFlags=15,this.addChild(o)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Rb.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const r=t.children;for(let o=0;o<r.length;o++)this._getChildren(r[o],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new _t),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new _t),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new _t),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function zb(s,t,n={}){for(const r in t)!n[r]&&t[r]!==void 0&&(s[r]=t[r])}const _c=new le(null),bl=new le(null),xc=new le(null,1,1),vl=new le(null),Xg=1,Ob=2,bc=4;class un extends ei{constructor(t={}){var n,r;super(),this.uid=Qt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new _t,this.relativeGroupTransform=new _t,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new le(this,0,0),this._scale=xc,this._pivot=bl,this._origin=vl,this._skew=_c,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],zb(this,t,{children:!0,parent:!0,effects:!0}),(n=t.children)==null||n.forEach(o=>this.addChild(o)),(r=t.parent)==null||r.addChild(this)}static mixin(t){yt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),oe.mixin(un,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||yt(Tt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let o=0;o<t.length;o++)this.addChild(t[o]);return t[0]}const n=t[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let o=0;o<t.length;o++)this.removeChild(t[o]);return t[0]}const n=t[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Oi.get(Bb,this),this.groupTransform=_t.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Oi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new _t),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*jx}set angle(t){this.rotation=t*Fx}get pivot(){return this._pivot===bl&&(this._pivot=new le(this,0,0)),this._pivot}set pivot(t){this._pivot===bl&&(this._pivot=new le(this,0,0),this._origin!==vl&&Dt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===_c&&(this._skew=new le(this,0,0)),this._skew}set skew(t){this._skew===_c&&(this._skew=new le(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===xc&&(this._scale=new le(this,1,1)),this._scale}set scale(t){this._scale===xc&&(this._scale=new le(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===vl&&(this._origin=new le(this,0,0)),this._origin}set origin(t){this._origin===vl&&(this._origin=new le(this,0,0),this._pivot!==bl&&Dt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const r=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,r=this._scale,o=this._pivot,u=this._origin,c=this._position,f=r._x,m=r._y,g=o._x,p=o._y,y=-u._x,b=-u._y;n.a=this._cx*f,n.b=this._sx*f,n.c=this._cy*m,n.d=this._sy*m,n.tx=c._x-(g*n.a+p*n.c)+(y*n.a+b*n.c)-y,n.ty=c._y-(g*n.b+p*n.d)+(y*n.b+b*n.d)-b}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Xg,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=Zt.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=Xg,this._onUpdate())}get tint(){return zl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ob,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=bc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=bc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=bc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var o;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&n)for(let u=0;u<n.length;++u)n[u].destroy(t);(o=this.renderGroup)==null||o.destroy(),this.renderGroup=null}}oe.mixin(un,db,xb,Mb,Ab,Sb,pb,yb,wb,ub,hb,bb,mb);class ch extends un{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new ti(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:r,y:o}=t;return r>=n.minX&&r<=n.maxX&&o>=n.minY&&o<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){var n,r;super.destroy(t),this._bounds=null;for(const o in this._gpuData)(r=(n=this._gpuData[o]).destroy)==null||r.call(n);this._gpuData=null}collectRenderablesSimple(t,n,r){const{renderPipes:o}=n;o.blendMode.setBlendMode(this,this.groupBlendMode,t),o[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const c=this.children,f=c.length;for(let m=0;m<f;m++)c[m].collectRenderables(t,n,r)}}class Nn extends ch{constructor(t=bt.EMPTY){t instanceof bt&&(t={texture:t});const{texture:n=bt.EMPTY,anchor:r,roundPixels:o,width:u,height:c,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new le({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=o??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,n=!1){return t instanceof bt?new Nn(t):new Nn(bt.from(t,n))}set texture(t){t||(t=bt.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Jx(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return yt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,r=this._bounds,{width:o,height:u}=n.orig;r.minX=-t._x*o,r.maxX=r.minX+o,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Db=new ti;function ny(s,t,n){const r=Db;s.measurable=!0,Wp(s,n,r),t.addBoundsMask(r),s.measurable=!1}function sy(s,t,n){const r=Di.get();s.measurable=!0;const o=ge.get().identity(),u=ay(s,n,o);Jp(s,r,u),s.measurable=!1,t.addBoundsMask(r),ge.return(o),Di.return(r)}function ay(s,t,n){return s?(s!==t&&(ay(s.parent,t,n),s.updateLocalTransform(),n.append(s.localTransform)),n):(Dt("Mask bounds, renderable is not inside the root container"),n)}class ry{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Nn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,n){this.inverse||ny(this.mask,t,n)}addLocalBounds(t,n){sy(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof Nn}}ry.extension=et.MaskEffect;class ly{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}ly.extension=et.MaskEffect;class oy{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,n){ny(this.mask,t,n)}addLocalBounds(t,n){sy(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof un}}oy.extension=et.MaskEffect;const Ub={createCanvas:(s,t)=>{const n=document.createElement("canvas");return n.width=s,n.height=t,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let Vg=Ub;const Ut={get(){return Vg},set(s){Vg=s}};class uy extends ii{constructor(t){t.resource||(t.resource=Ut.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,r=this._resolution){const o=super.resize(t,n,r);return o&&this.resizeCanvas(),o}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}uy.extension=et.TextureSource;class Ln extends ii{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Ln.extension=et.TextureSource;var jc=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(jc||{});class vc{constructor(t,n=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=r,this._once=o}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const cy=class De{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new vc(null,null,1/0),this.deltaMS=1/De.targetFPMS,this.elapsedMS=1/De.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,r=jc.NORMAL){return this._addListener(new vc(t,n,r))}addOnce(t,n,r=jc.NORMAL){return this._addListener(new vc(t,n,r,!0))}_addListener(t){let n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,n){let r=this._head.next;for(;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*De.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,De.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!De._shared){const t=De._shared=new De;t.autoStart=!0,t._protected=!0}return De._shared}static get system(){if(!De._system){const t=De._system=new De;t.autoStart=!0,t._protected=!0}return De._system}};cy.targetFPMS=.06;let Sl=cy,Sc;async function hy(){return Sc??(Sc=(async()=>{var c;const t=Ut.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(f=>{const m=document.createElement("video");m.onloadeddata=()=>f(m),m.onerror=()=>f(null),m.autoplay=!1,m.crossOrigin="anonymous",m.preload="auto",m.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",m.load()});if(!n)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(o),t.deleteTexture(r),(c=t.getExtension("WEBGL_lose_context"))==null||c.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Sc}const Ll=class fy extends ii{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...fy.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Sl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await hy(),this._load=new Promise((r,o)=>{this.isValid?r(this):(this._resolve=r,this._reject=o,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Sl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Sl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Sl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Ll.extension=et.TextureSource;Ll.defaultOptions={...ii.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Ll.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Qa=Ll;const Je=(s,t,n=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||n?t(r):r):s);class Gb{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Dt(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const r=Je(t);let o;for(let m=0;m<this.parsers.length;m++){const g=this.parsers[m];if(g.test(n)){o=g.getCacheableAssets(r,n);break}}const u=new Map(Object.entries(o||{}));o||r.forEach(m=>{u.set(m,n)});const c=[...u.keys()],f={cacheKeys:c,keys:r};r.forEach(m=>{this._cacheMap.set(m,f)}),c.forEach(m=>{const g=o?o[m]:n;this._cache.has(m)&&this._cache.get(m)!==g&&Dt("[Cache] already has key:",m),this._cache.set(m,u.get(m))})}remove(t){if(!this._cacheMap.has(t)){Dt(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(o=>{this._cache.delete(o)}),n.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const Gt=new Gb,Fc=[];oe.handleByList(et.TextureSource,Fc);function dy(s={}){const t=s&&s.resource,n=t?s.resource:s,r=t?s:{resource:s};for(let o=0;o<Fc.length;o++){const u=Fc[o];if(u.test(n))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function kb(s={},t=!1){const n=s&&s.resource,r=n?s.resource:s,o=n?s:{resource:s};if(!t&&Gt.has(r))return Gt.get(r);const u=new bt({source:dy(o)});return u.on("destroy",()=>{Gt.has(r)&&Gt.remove(r)}),t||Gt.set(r,u),u}function Hb(s,t=!1){return typeof s=="string"?Gt.get(s):s instanceof ii?new bt({source:s}):kb(s,t)}bt.from=Hb;ii.from=dy;oe.add(ry,ly,oy,Qa,Ln,uy,lh);var cn=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(cn||{});function $e(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Na(s){return s.split("?")[0].split("#")[0]}function Nb(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Lb(s,t,n){return s.replace(new RegExp(Nb(t),"g"),n)}function Yb(s,t){let n="",r=0,o=-1,u=0,c=-1;for(let f=0;f<=s.length;++f){if(f<s.length)c=s.charCodeAt(f);else{if(c===47)break;c=47}if(c===47){if(!(o===f-1||u===1))if(o!==f-1&&u===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const m=n.lastIndexOf("/");if(m!==n.length-1){m===-1?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=f,u=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=f,u=0;continue}}}else n.length>0?n+=`/${s.slice(o+1,f)}`:n=s.slice(o+1,f),r=f-o-1;o=f,u=0}else c===46&&u!==-1?++u:u=-1}return n}const Ue={toPosix(s){return Lb(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){$e(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(s);return n?n[0]:""},toAbsolute(s,t,n){if($e(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=Na(this.toPosix(t??Ut.get().getBaseUrl())),o=Na(this.toPosix(n??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?Ue.join(o,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if($e(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const n=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=Yb(s),s.length>0&&r&&(s+="/"),n?`/${s}`:t+s},isAbsolute(s){return $e(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let n=0;n<s.length;++n){const r=s[n];if($e(r),r.length>0)if(t===void 0)t=r;else{const o=s[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if($e(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const n=t===47;let r=-1,o=!0;const u=this.getProtocol(s),c=s;s=s.slice(u.length);for(let f=s.length-1;f>=1;--f)if(t=s.charCodeAt(f),t===47){if(!o){r=f;break}}else o=!1;return r===-1?n?"/":this.isUrl(c)?u+s:u:n&&r===1?"//":u+s.slice(0,r)},rootname(s){$e(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const n=s.indexOf("/",t.length);n!==-1?t=s.slice(0,n):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){$e(s),t&&$e(t),s=Na(this.toPosix(s));let n=0,r=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let c=t.length-1,f=-1;for(u=s.length-1;u>=0;--u){const m=s.charCodeAt(u);if(m===47){if(!o){n=u+1;break}}else f===-1&&(o=!1,f=u+1),c>=0&&(m===t.charCodeAt(c)?--c===-1&&(r=u):(c=-1,r=f))}return n===r?r=f:r===-1&&(r=s.length),s.slice(n,r)}for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!o){n=u+1;break}}else r===-1&&(o=!1,r=u+1);return r===-1?"":s.slice(n,r)},extname(s){$e(s),s=Na(this.toPosix(s));let t=-1,n=0,r=-1,o=!0,u=0;for(let c=s.length-1;c>=0;--c){const f=s.charCodeAt(c);if(f===47){if(!o){n=c+1;break}continue}r===-1&&(o=!1,r=c+1),f===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===n+1?"":s.slice(t,r)},parse(s){$e(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Na(this.toPosix(s));let n=s.charCodeAt(0);const r=this.isAbsolute(s);let o;t.root=this.rootname(s),r||this.hasProtocol(s)?o=1:o=0;let u=-1,c=0,f=-1,m=!0,g=s.length-1,p=0;for(;g>=o;--g){if(n=s.charCodeAt(g),n===47){if(!m){c=g+1;break}continue}f===-1&&(m=!1,f=g+1),n===46?u===-1?u=g:p!==1&&(p=1):u!==-1&&(p=-1)}return u===-1||f===-1||p===0||p===1&&u===f-1&&u===c+1?f!==-1&&(c===0&&r?t.base=t.name=s.slice(1,f):t.base=t.name=s.slice(c,f)):(c===0&&r?(t.name=s.slice(1,u),t.base=s.slice(1,f)):(t.name=s.slice(c,u),t.base=s.slice(c,f)),t.ext=s.slice(u,f)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function my(s,t,n,r,o){const u=t[n];for(let c=0;c<u.length;c++){const f=u[c];n<t.length-1?my(s.replace(r[n],f),t,n+1,r,o):o.push(s.replace(r[n],f))}}function Pb(s){const t=/\{(.*?)\}/g,n=s.match(t),r=[];if(n){const o=[];n.forEach(u=>{const c=u.substring(1,u.length-1).split(",");o.push(c)}),my(s,o,0,n,r)}else r.push(s);return r}const Ul=s=>!Array.isArray(s);class ks{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(t){const{alias:n,src:r}=t;return Je(n||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>(c==null?void 0:c.src)??c):u!=null&&u.src?u.src:u,!0)}addManifest(t){this._manifest&&Dt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const r=[];let o=n;Array.isArray(n)||(o=Object.entries(n).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),o.forEach(u=>{const c=u.src,f=u.alias;let m;if(typeof f=="string"){const g=this._createBundleAssetId(t,f);r.push(g),m=[f,g]}else{const g=f.map(p=>this._createBundleAssetId(t,p));r.push(...g),m=[...f,...g]}this.add({...u,alias:m,src:c})}),this._bundles[t]=r}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let r;r=u=>{this.hasKey(u)&&Dt(`[Resolver] already has key: ${u} overwriting`)},Je(n).forEach(u=>{const{src:c}=u;let{data:f,format:m,loadParser:g,parser:p}=u;const y=Je(c).map(S=>typeof S=="string"?Pb(S):Array.isArray(S)?S:[S]),b=this.getAlias(u);Array.isArray(b)?b.forEach(r):r(b);const x=[];y.forEach(S=>{S.forEach(T=>{let A={};if(typeof T!="object"){A.src=T;for(let R=0;R<this._parsers.length;R++){const E=this._parsers[R];if(E.test(T)){A=E.parse(T);break}}}else f=T.data??f,m=T.format??m,(T.loadParser||T.parser)&&(g=T.loadParser??g,p=T.parser??p),A={...A,...T};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${A.src}`);A=this._buildResolvedAsset(A,{aliases:b,data:f,format:m,loadParser:g,parser:p}),x.push(A)})}),b.forEach(S=>{this._assetMap[S]=x})})}resolveBundle(t){const n=Ul(t);t=Je(t);const r={};return t.forEach(o=>{const u=this._bundles[o];if(u){const c=this.resolve(u),f={};for(const m in c){const g=c[m];f[this._extractAssetIdFromBundle(o,m)]=g}r[o]=f}}),n?r[t[0]]:r}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const r={};for(const o in n)r[o]=n[o].src;return r}return n.src}resolve(t){const n=Ul(t);t=Je(t);const r={};return t.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let u=this._assetMap[o];const c=this._getPreferredOrder(u);c==null||c.priority.forEach(f=>{c.params[f].forEach(m=>{const g=u.filter(p=>p[f]?p[f]===m:!1);g.length&&(u=g)})}),this._resolverHash[o]=u[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),n?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const r=t[n],o=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:r,data:o,loadParser:u,parser:c,format:f}=n;return(this._basePath||this._rootPath)&&(t.src=Ue.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...o||{},...t.data},t.loadParser=u??t.loadParser,t.parser=c??t.parser,t.format=f??t.format??Xb(t.src),t}}ks.RETINA_PREFIX=/@([0-9\.]+)x/;function Xb(s){return s.split(".").pop().split("?").shift().split("#").shift()}const Qc=(s,t)=>{const n=t.split("?")[1];return n&&(s+=`?${n}`),s},gy=class Va{constructor(t,n){this.linkedSheets=[];let r=t;(t==null?void 0:t.source)instanceof ii&&(r={texture:t,data:n});const{texture:o,data:u,cachePrefix:c=""}=r;this.cachePrefix=c,this._texture=o instanceof bt?o:null,this.textureSource=o.source,this.textures={},this.animations={},this.data=u;const f=parseFloat(u.meta.scale);f?(this.resolution=f,o.source.resolution=this.resolution):this.resolution=o.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Va.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const r=Va.BATCH_SIZE;for(;n-t<r&&n<this._frameKeys.length;){const o=this._frameKeys[n],u=this._frames[o],c=u.frame;if(c){let f=null,m=null;const g=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,p=new Lt(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);u.rotated?f=new Lt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):f=new Lt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(m=new Lt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[o]=new bt({source:this.textureSource,frame:f,orig:p,trim:m,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:o.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let r=0;r<t[n].length;r++){const o=t[n][r];this.animations[n].push(this.textures[o])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Va.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Va.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var n;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};gy.BATCH_SIZE=1e3;let qg=gy;const Vb=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function py(s,t,n){const r={};if(s.forEach(o=>{r[o]=t}),Object.keys(t.textures).forEach(o=>{r[`${t.cachePrefix}${o}`]=t.textures[o]}),!n){const o=Ue.dirname(s[0]);t.linkedSheets.forEach((u,c)=>{const f=py([`${o}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(r,f)})}return r}const qb={extension:et.Asset,cache:{test:s=>s instanceof qg,getCacheableAssets:(s,t)=>py(s,t,!1)},resolver:{extension:{type:et.ResolveParser,name:"resolveSpritesheet"},test:s=>{const n=s.split("?")[0].split("."),r=n.pop(),o=n.pop();return r==="json"&&Vb.includes(o)},parse:s=>{var n;const t=s.split(".");return{resolution:parseFloat(((n=ks.RETINA_PREFIX.exec(s))==null?void 0:n[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:et.LoadParser,priority:cn.Normal,name:"spritesheetLoader"},async testParse(s,t){return Ue.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,n){var y,b;const{texture:r,imageFilename:o,textureOptions:u,cachePrefix:c}=(t==null?void 0:t.data)??{};let f=Ue.dirname(t.src);f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");let m;if(r instanceof bt)m=r;else{const x=Qc(f+(o??s.meta.image),t.src);m=(await n.load([{src:x,data:u}]))[x]}const g=new qg({texture:m.source,data:s,cachePrefix:c});await g.parse();const p=(y=s==null?void 0:s.meta)==null?void 0:y.related_multi_packs;if(Array.isArray(p)){const x=[];for(const T of p){if(typeof T!="string")continue;let A=f+T;(b=t.data)!=null&&b.ignoreMultiPack||(A=Qc(A,t.src),x.push(n.load({src:A,data:{textureOptions:u,ignoreMultiPack:!0}})))}const S=await Promise.all(x);g.linkedSheets=S,S.forEach(T=>{T.linkedSheets=[g].concat(g.linkedSheets.filter(A=>A!==T))})}return g},async unload(s,t,n){await n.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};oe.add(qb);const Ac=Object.create(null),jg=Object.create(null);function hh(s,t){let n=jg[s];return n===void 0&&(Ac[t]===void 0&&(Ac[t]=1),jg[s]=n=Ac[t]++),n}let Ms;function yy(){return(!Ms||Ms!=null&&Ms.isContextLost())&&(Ms=Ut.get().createCanvas().getContext("webgl",{})),Ms}let Al;function jb(){if(!Al){Al="mediump";const s=yy();s&&s.getShaderPrecisionFormat&&(Al=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Al}function Fb(s,t,n){return t?s:n?(s=s.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function Qb(s,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return o==="highp"&&r!=="highp"&&(o="mediump"),`precision ${o} float;
${s}`}else if(r!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function Zb(s,t){return t?`#version 300 es
${s}`:s}const Ib={},Wb={};function Kb(s,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const r=n?Ib:Wb;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function $b(s,t){return t?s.replace("#version 300 es",""):s}const wc={stripVersion:$b,ensurePrecision:Qb,addProgramDefines:Fb,setProgramName:Kb,insertVersion:Zb},Tc=Object.create(null),_y=class Zc{constructor(t){t={...Zc.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:jb()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,u=t.vertex;Object.keys(wc).forEach(c=>{const f=r[c];o=wc[c](o,f,!0),u=wc[c](u,f,!1)}),this.fragment=o,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=hh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return Tc[n]||(Tc[n]=new Zc(t)),Tc[n]}};_y.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let xy=_y;const Fg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Jb(s){return Fg[s]??Fg.float32}const t1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function e1({source:s,entryPoint:t}){const n={},r=s.indexOf(`fn ${t}`);if(r!==-1){const o=s.indexOf("->",r);if(o!==-1){const u=s.substring(r,o),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=c.exec(u))!==null;){const m=t1[f[3]]??"float32";n[f[2]]={location:parseInt(f[1],10),format:m,stride:Jb(m).stride,offset:0,instance:!1,start:0}}}}return n}function Mc(s){var y,b;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,g=(y=s.match(t))==null?void 0:y.map(x=>({group:parseInt(x.match(n)[1],10),binding:parseInt(x.match(r)[1],10),name:x.match(o)[2],isUniform:x.match(o)[1]==="<uniform>",type:x.match(u)[1]}));if(!g)return{groups:[],structs:[]};const p=((b=s.match(c))==null?void 0:b.map(x=>{const S=x.match(m)[1],T=x.match(f).reduce((A,R)=>{const[E,B]=R.split(":");return A[E.trim()]=B.trim(),A},{});return T?{name:S,members:T}:null}).filter(({name:x})=>g.some(S=>S.type===x)))??[];return{groups:g,structs:p}}var qa=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(qa||{});function i1({groups:s}){const t=[];for(let n=0;n<s.length;n++){const r=s[n];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:qa.VERTEX|qa.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:qa.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:qa.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function n1({groups:s}){const t=[];for(let n=0;n<s.length;n++){const r=s[n];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function s1(s,t){const n=new Set,r=new Set,o=[...s.structs,...t.structs].filter(c=>n.has(c.name)?!1:(n.add(c.name),!0)),u=[...s.groups,...t.groups].filter(c=>{const f=`${c.name}-${c.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:o,groups:u}}const Cc=Object.create(null);class Yl{constructor(t){var f,m;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:o,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=n,this.vertex=r,n.source===r.source){const g=Mc(n.source);this.structsAndGroups=g}else{const g=Mc(r.source),p=Mc(n.source);this.structsAndGroups=s1(g,p)}this.layout=o??n1(this.structsAndGroups),this.gpuLayout=u??i1(this.structsAndGroups),this.autoAssignGlobalUniforms=((f=this.layout[0])==null?void 0:f.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((m=this.layout[1])==null?void 0:m.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,r=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=hh(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=e1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Cc[n]||(Cc[n]=new Yl(t)),Cc[n]}}const by=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],a1=by.reduce((s,t)=>(s[t]=!0,s),{});function r1(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const vy=class Sy{constructor(t,n){this._touched=0,this.uid=Qt("uniform"),this._resourceType="uniformGroup",this._resourceId=Qt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...Sy.defaultOptions,...n},this.uniformStructures=t;const r={};for(const o in t){const u=t[o];if(u.name=o,u.size=u.size??1,!a1[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${by.join(", ")}`);u.value??(u.value=r1(u.type,u.size)),r[o]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=hh(Object.keys(r).map(o=>`${o}-${t[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};vy.defaultOptions={ubo:!1,isStatic:!1};let Ay=vy;class Ol{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in t){const o=t[r];this.setResource(o,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const r in this.resources)t[n++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,n){var o,u;const r=this.resources[n];t!==r&&(r&&((o=t.off)==null||o.call(t,"change",this.onResourceChange,this)),(u=t.on)==null||u.call(t,"change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const r in n)n[r]._touched=t}destroy(){var n;const t=this.resources;for(const r in t){const o=t[r];(n=o.off)==null||n.call(o,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const r in n)n[r]===t&&(n[r]=null)}else this._updateKey()}}var Ic=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(Ic||{});class fh extends ei{constructor(t){super(),this.uid=Qt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:o,resources:u,compatibleRenderers:c,groupMap:f}=t;this.gpuProgram=n,this.glProgram=r,c===void 0&&(c=0,n&&(c|=Ic.WEBGPU),r&&(c|=Ic.WEBGL)),this.compatibleRenderers=c;const m={};if(!u&&!o&&(u={}),u&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&o&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&o&&f)for(const g in f)for(const p in f[g]){const y=f[g][p];m[y]={group:g,binding:p,name:y}}else if(n&&o&&!f){const g=n.structsAndGroups.groups;f={},g.forEach(p=>{f[p.group]=f[p.group]||{},f[p.group][p.binding]=p.name,m[p.name]=p})}else if(u){o={},f={},n&&n.structsAndGroups.groups.forEach(y=>{f[y.group]=f[y.group]||{},f[y.group][y.binding]=y.name,m[y.name]=y});let g=0;for(const p in u)m[p]||(o[99]||(o[99]=new Ol,this._ownedBindGroups.push(o[99])),m[p]={group:99,binding:g,name:p},f[99]=f[99]||{},f[99][g]=p,g++);for(const p in u){const y=p;let b=u[p];!b.source&&!b._resourceType&&(b=new Ay(b));const x=m[y];x&&(o[x.group]||(o[x.group]=new Ol,this._ownedBindGroups.push(o[x.group])),o[x.group].setResource(b,x.binding))}}this.groups=o,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(o,m)}addResource(t,n,r){var o,u;(o=this._uniformBindMap)[n]||(o[n]={}),(u=this._uniformBindMap[n])[r]||(u[r]=t),this.groups[n]||(this.groups[n]=new Ol,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const r={};for(const o in n){const u=n[o];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return r}destroy(t=!1){var n,r;this.emit("destroy",this),t&&((n=this.gpuProgram)==null||n.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(o=>{o.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:n,gl:r,...o}=t;let u,c;return n&&(u=Yl.from(n)),r&&(c=xy.from(r)),new fh({gpuProgram:u,glProgram:c,...o})}}const Wc=[];oe.handleByNamedList(et.Environment,Wc);async function l1(s){if(!s)for(let t=0;t<Wc.length;t++){const n=Wc[t];if(n.value.test()){await n.value.load();return}}}let La;function o1(){if(typeof La=="boolean")return La;try{La=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{La=!1}return La}function Qg(s,t,n=2){const r=t&&t.length,o=r?t[0]*n:s.length;let u=wy(s,0,o,n,!0);const c=[];if(!u||u.next===u.prev)return c;let f,m,g;if(r&&(u=d1(s,t,u,n)),s.length>80*n){f=s[0],m=s[1];let p=f,y=m;for(let b=n;b<o;b+=n){const x=s[b],S=s[b+1];x<f&&(f=x),S<m&&(m=S),x>p&&(p=x),S>y&&(y=S)}g=Math.max(p-f,y-m),g=g!==0?32767/g:0}return Wa(u,c,n,f,m,g,0),c}function wy(s,t,n,r,o){let u;if(o===w1(s,t,n,r)>0)for(let c=t;c<n;c+=r)u=Zg(c/r|0,s[c],s[c+1],u);else for(let c=n-r;c>=t;c-=r)u=Zg(c/r|0,s[c],s[c+1],u);return u&&Us(u,u.next)&&($a(u),u=u.next),u}function Yn(s,t){if(!s)return s;t||(t=s);let n=s,r;do if(r=!1,!n.steiner&&(Us(n,n.next)||Pt(n.prev,n,n.next)===0)){if($a(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Wa(s,t,n,r,o,u,c){if(!s)return;!c&&u&&_1(s,r,o,u);let f=s;for(;s.prev!==s.next;){const m=s.prev,g=s.next;if(u?c1(s,r,o,u):u1(s)){t.push(m.i,s.i,g.i),$a(s),s=g.next,f=g.next;continue}if(s=g,s===f){c?c===1?(s=h1(Yn(s),t),Wa(s,t,n,r,o,u,2)):c===2&&f1(s,t,n,r,o,u):Wa(Yn(s),t,n,r,o,u,1);break}}}function u1(s){const t=s.prev,n=s,r=s.next;if(Pt(t,n,r)>=0)return!1;const o=t.x,u=n.x,c=r.x,f=t.y,m=n.y,g=r.y,p=Math.min(o,u,c),y=Math.min(f,m,g),b=Math.max(o,u,c),x=Math.max(f,m,g);let S=r.next;for(;S!==t;){if(S.x>=p&&S.x<=b&&S.y>=y&&S.y<=x&&ja(o,f,u,m,c,g,S.x,S.y)&&Pt(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function c1(s,t,n,r){const o=s.prev,u=s,c=s.next;if(Pt(o,u,c)>=0)return!1;const f=o.x,m=u.x,g=c.x,p=o.y,y=u.y,b=c.y,x=Math.min(f,m,g),S=Math.min(p,y,b),T=Math.max(f,m,g),A=Math.max(p,y,b),R=Kc(x,S,t,n,r),E=Kc(T,A,t,n,r);let B=s.prevZ,U=s.nextZ;for(;B&&B.z>=R&&U&&U.z<=E;){if(B.x>=x&&B.x<=T&&B.y>=S&&B.y<=A&&B!==o&&B!==c&&ja(f,p,m,y,g,b,B.x,B.y)&&Pt(B.prev,B,B.next)>=0||(B=B.prevZ,U.x>=x&&U.x<=T&&U.y>=S&&U.y<=A&&U!==o&&U!==c&&ja(f,p,m,y,g,b,U.x,U.y)&&Pt(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;B&&B.z>=R;){if(B.x>=x&&B.x<=T&&B.y>=S&&B.y<=A&&B!==o&&B!==c&&ja(f,p,m,y,g,b,B.x,B.y)&&Pt(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;U&&U.z<=E;){if(U.x>=x&&U.x<=T&&U.y>=S&&U.y<=A&&U!==o&&U!==c&&ja(f,p,m,y,g,b,U.x,U.y)&&Pt(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function h1(s,t){let n=s;do{const r=n.prev,o=n.next.next;!Us(r,o)&&My(r,n,n.next,o)&&Ka(r,o)&&Ka(o,r)&&(t.push(r.i,n.i,o.i),$a(n),$a(n.next),n=s=o),n=n.next}while(n!==s);return Yn(n)}function f1(s,t,n,r,o,u){let c=s;do{let f=c.next.next;for(;f!==c.prev;){if(c.i!==f.i&&v1(c,f)){let m=Cy(c,f);c=Yn(c,c.next),m=Yn(m,m.next),Wa(c,t,n,r,o,u,0),Wa(m,t,n,r,o,u,0);return}f=f.next}c=c.next}while(c!==s)}function d1(s,t,n,r){const o=[];for(let u=0,c=t.length;u<c;u++){const f=t[u]*r,m=u<c-1?t[u+1]*r:s.length,g=wy(s,f,m,r,!1);g===g.next&&(g.steiner=!0),o.push(b1(g))}o.sort(m1);for(let u=0;u<o.length;u++)n=g1(o[u],n);return n}function m1(s,t){let n=s.x-t.x;if(n===0&&(n=s.y-t.y,n===0)){const r=(s.next.y-s.y)/(s.next.x-s.x),o=(t.next.y-t.y)/(t.next.x-t.x);n=r-o}return n}function g1(s,t){const n=p1(s,t);if(!n)return t;const r=Cy(n,s);return Yn(r,r.next),Yn(n,n.next)}function p1(s,t){let n=t;const r=s.x,o=s.y;let u=-1/0,c;if(Us(s,n))return n;do{if(Us(s,n.next))return n.next;if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const y=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(y<=r&&y>u&&(u=y,c=n.x<n.next.x?n:n.next,y===r))return c}n=n.next}while(n!==t);if(!c)return null;const f=c,m=c.x,g=c.y;let p=1/0;n=c;do{if(r>=n.x&&n.x>=m&&r!==n.x&&Ty(o<g?r:u,o,m,g,o<g?u:r,o,n.x,n.y)){const y=Math.abs(o-n.y)/(r-n.x);Ka(n,s)&&(y<p||y===p&&(n.x>c.x||n.x===c.x&&y1(c,n)))&&(c=n,p=y)}n=n.next}while(n!==f);return c}function y1(s,t){return Pt(s.prev,s,t.prev)<0&&Pt(t.next,s,s.next)<0}function _1(s,t,n,r){let o=s;do o.z===0&&(o.z=Kc(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==s);o.prevZ.nextZ=null,o.prevZ=null,x1(o)}function x1(s){let t,n=1;do{let r=s,o;s=null;let u=null;for(t=0;r;){t++;let c=r,f=0;for(let g=0;g<n&&(f++,c=c.nextZ,!!c);g++);let m=n;for(;f>0||m>0&&c;)f!==0&&(m===0||!c||r.z<=c.z)?(o=r,r=r.nextZ,f--):(o=c,c=c.nextZ,m--),u?u.nextZ=o:s=o,o.prevZ=u,u=o;r=c}u.nextZ=null,n*=2}while(t>1);return s}function Kc(s,t,n,r,o){return s=(s-n)*o|0,t=(t-r)*o|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function b1(s){let t=s,n=s;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==s);return n}function Ty(s,t,n,r,o,u,c,f){return(o-c)*(t-f)>=(s-c)*(u-f)&&(s-c)*(r-f)>=(n-c)*(t-f)&&(n-c)*(u-f)>=(o-c)*(r-f)}function ja(s,t,n,r,o,u,c,f){return!(s===c&&t===f)&&Ty(s,t,n,r,o,u,c,f)}function v1(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!S1(s,t)&&(Ka(s,t)&&Ka(t,s)&&A1(s,t)&&(Pt(s.prev,s,t.prev)||Pt(s,t.prev,t))||Us(s,t)&&Pt(s.prev,s,s.next)>0&&Pt(t.prev,t,t.next)>0)}function Pt(s,t,n){return(t.y-s.y)*(n.x-t.x)-(t.x-s.x)*(n.y-t.y)}function Us(s,t){return s.x===t.x&&s.y===t.y}function My(s,t,n,r){const o=Tl(Pt(s,t,n)),u=Tl(Pt(s,t,r)),c=Tl(Pt(n,r,s)),f=Tl(Pt(n,r,t));return!!(o!==u&&c!==f||o===0&&wl(s,n,t)||u===0&&wl(s,r,t)||c===0&&wl(n,s,r)||f===0&&wl(n,t,r))}function wl(s,t,n){return t.x<=Math.max(s.x,n.x)&&t.x>=Math.min(s.x,n.x)&&t.y<=Math.max(s.y,n.y)&&t.y>=Math.min(s.y,n.y)}function Tl(s){return s>0?1:s<0?-1:0}function S1(s,t){let n=s;do{if(n.i!==s.i&&n.next.i!==s.i&&n.i!==t.i&&n.next.i!==t.i&&My(n,n.next,s,t))return!0;n=n.next}while(n!==s);return!1}function Ka(s,t){return Pt(s.prev,s,s.next)<0?Pt(s,t,s.next)>=0&&Pt(s,s.prev,t)>=0:Pt(s,t,s.prev)<0||Pt(s,s.next,t)<0}function A1(s,t){let n=s,r=!1;const o=(s.x+t.x)/2,u=(s.y+t.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&o<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==s);return r}function Cy(s,t){const n=$c(s.i,s.x,s.y),r=$c(t.i,t.x,t.y),o=s.next,u=t.prev;return s.next=t,t.prev=s,n.next=o,o.prev=n,r.next=n,n.prev=r,u.next=r,r.prev=u,r}function Zg(s,t,n,r){const o=$c(s,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function $a(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function $c(s,t,n){return{i:s,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function w1(s,t,n,r){let o=0;for(let u=t,c=n-r;u<n;u+=r)o+=(s[c]-s[u])*(s[u+1]+s[c+1]),c=u;return o}const T1=Qg.default||Qg;var Ey=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(Ey||{});class M1{constructor(t){this.items=[],this._name=t}emit(t,n,r,o,u,c,f,m){const{name:g,items:p}=this;for(let y=0,b=p.length;y<b;y++)p[y][g](t,n,r,o,u,c,f,m);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const C1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Ry=class By extends ei{constructor(t){super(),this.uid=Qt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...C1,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await l1(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...By.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,n){let r=t;if(r instanceof un&&(r={container:r},n&&(yt(Tt,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:Zt.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,n,r){const o=this.view.resolution;this.view.resize(t,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Ey.ALL);const{clear:r,clearColor:o,target:u}=t;Zt.shared.setValue(o??this.background.colorRgba),n.renderTarget.clear(u,r,Zt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new M1(n)})}_addSystems(t){let n;for(n in t){const r=t[n];this._addSystem(r.value,r.name)}}_addSystem(t,n){const r=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(t,n){const r=n.reduce((o,u)=>(o[u.name]=u.value,o),{});t.forEach(o=>{const u=o.value,c=o.name,f=r[c];this.renderPipes[c]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!o1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Ry.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let zy=Ry,Ml;function E1(s){return Ml!==void 0||(Ml=(()=>{var n;const t={stencil:!0,failIfMajorPerformanceCaveat:s??zy.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Ut.get().getWebGLRenderingContext())return!1;let o=Ut.get().createCanvas().getContext("webgl",t);const u=!!((n=o==null?void 0:o.getContextAttributes())!=null&&n.stencil);if(o){const c=o.getExtension("WEBGL_lose_context");c&&c.loseContext()}return o=null,u}catch{return!1}})()),Ml}let Cl;async function R1(s={}){return Cl!==void 0||(Cl=await(async()=>{const t=Ut.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Cl}const Ig=["webgl","webgpu","canvas"];async function B1(s){let t=[];s.preference?(t.push(s.preference),Ig.forEach(u=>{u!==s.preference&&t.push(u)})):t=Ig.slice();let n,r={};for(let u=0;u<t.length;u++){const c=t[u];if(c==="webgpu"&&await R1()){const{WebGPURenderer:f}=await Dl(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-Br4UIckV.js");return{WebGPURenderer:m}},__vite__mapDeps([3,2,4]),import.meta.url);n=f,r={...s,...s.webgpu};break}else if(c==="webgl"&&E1(s.failIfMajorPerformanceCaveat??zy.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await Dl(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-KZR-fQf5.js");return{WebGLRenderer:m}},__vite__mapDeps([5,2,4]),import.meta.url);n=f,r={...s,...s.webgl};break}else if(c==="canvas")throw r={...s},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const o=new n;return await o.init(r),o}const Oy="8.12.0";class Dy{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,Oy)}static destroy(){}}Dy.extension=et.Application;class z1{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,Oy)}destroy(){this._renderer=null}}z1.extension={type:[et.WebGLSystem,et.WebGPUSystem],name:"initHook",priority:-10};const Uy=class Jc{constructor(...t){this.stage=new un,t[0]!==void 0&&yt(Tt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await B1(t),Jc._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return yt(Tt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const r=Jc._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Uy._plugins=[];let Gy=Uy;oe.handleByList(et.Application,Gy._plugins);oe.add(Dy);class ky extends ei{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return yt(Tt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return yt(Tt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return yt(Tt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return yt(Tt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return yt(Tt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){var n;this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)(n=this.chars[r].texture)==null||n.destroy();this.chars=null,t&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const O1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Gl(s){const t=typeof s.fontSize=="number"?`${s.fontSize}px`:s.fontSize;let n=s.fontFamily;Array.isArray(s.fontFamily)||(n=s.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let o=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!O1.includes(o)&&(o=`"${o}"`),n[r]=o}return`${s.fontStyle} ${s.fontVariant} ${s.fontWeight} ${t} ${n.join(",")}`}const Ec={willReadFrequently:!0},hi=class tt{static get experimentalLetterSpacingSupported(){let t=tt._experimentalLetterSpacingSupported;if(t===void 0){const n=Ut.get().getCanvasRenderingContext2D().prototype;t=tt._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,r,o,u,c,f,m,g){this.text=t,this.style=n,this.width=r,this.height=o,this.lines=u,this.lineWidths=c,this.lineHeight=f,this.maxLineWidth=m,this.fontProperties=g}static measureText(t=" ",n,r=tt._canvas,o=n.wordWrap){var R;const u=Gl(n),c=tt.measureFont(u);c.fontSize===0&&(c.fontSize=n.fontSize,c.ascent=n.fontSize);const f=tt.__context;f.font=u;const g=(o?tt._wordWrap(t,n,r):t).split(/(?:\r\n|\r|\n)/),p=new Array(g.length);let y=0;for(let E=0;E<g.length;E++){const B=tt._measureText(g[E],n.letterSpacing,f);p[E]=B,y=Math.max(y,B)}const b=((R=n._stroke)==null?void 0:R.width)||0;let x=y+b;n.dropShadow&&(x+=n.dropShadow.distance);const S=n.lineHeight||c.fontSize;let T=Math.max(S,c.fontSize+b)+(g.length-1)*(S+n.leading);return n.dropShadow&&(T+=n.dropShadow.distance),new tt(t,n,x,T,g,p,S+n.leading,y,c)}static _measureText(t,n,r){let o=!1;tt.experimentalLetterSpacingSupported&&(tt.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const u=r.measureText(t);let c=u.width;const f=-u.actualBoundingBoxLeft;let g=u.actualBoundingBoxRight-f;if(c>0)if(o)c-=n,g-=n;else{const p=(tt.graphemeSegmenter(t).length-1)*n;c+=p,g+=p}return Math.max(c,g)}static _wordWrap(t,n,r=tt._canvas){const o=r.getContext("2d",Ec);let u=0,c="",f="";const m=Object.create(null),{letterSpacing:g,whiteSpace:p}=n,y=tt._collapseSpaces(p),b=tt._collapseNewlines(p);let x=!y;const S=n.wordWrapWidth+g,T=tt._tokenize(t);for(let A=0;A<T.length;A++){let R=T[A];if(tt._isNewline(R)){if(!b){f+=tt._addLine(c),x=!y,c="",u=0;continue}R=" "}if(y){const B=tt.isBreakingSpace(R),U=tt.isBreakingSpace(c[c.length-1]);if(B&&U)continue}const E=tt._getFromCache(R,g,m,o);if(E>S)if(c!==""&&(f+=tt._addLine(c),c="",u=0),tt.canBreakWords(R,n.breakWords)){const B=tt.wordWrapSplit(R);for(let U=0;U<B.length;U++){let q=B[U],L=q,N=1;for(;B[U+N];){const Q=B[U+N];if(!tt.canBreakChars(L,Q,R,U,n.breakWords))q+=Q;else break;L=Q,N++}U+=N-1;const K=tt._getFromCache(q,g,m,o);K+u>S&&(f+=tt._addLine(c),x=!1,c="",u=0),c+=q,u+=K}}else{c.length>0&&(f+=tt._addLine(c),c="",u=0);const B=A===T.length-1;f+=tt._addLine(R,!B),x=!1,c="",u=0}else E+u>S&&(x=!1,f+=tt._addLine(c),c="",u=0),(c.length>0||!tt.isBreakingSpace(R)||x)&&(c+=R,u+=E)}return f+=tt._addLine(c,!1),f}static _addLine(t,n=!0){return t=tt._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,r,o){let u=r[t];return typeof u!="number"&&(u=tt._measureText(t,n,o)+n,r[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!tt.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:tt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:tt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let r="";if(typeof t!="string")return n;for(let o=0;o<t.length;o++){const u=t[o],c=t[o+1];if(tt.isBreakingSpace(u,c)||tt._isNewline(u)){r!==""&&(n.push(r),r=""),u==="\r"&&c===`
`?(n.push(`\r
`),o++):n.push(u);continue}r+=u}return r!==""&&n.push(r),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,r,o,u){return!0}static wordWrapSplit(t){return tt.graphemeSegmenter(t)}static measureFont(t){if(tt._fonts[t])return tt._fonts[t];const n=tt._context;n.font=t;const r=n.measureText(tt.METRICS_STRING+tt.BASELINE_SYMBOL),o={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return tt._fonts[t]=o,o}static clearMetrics(t=""){t?delete tt._fonts[t]:tt._fonts={}}static get _canvas(){if(!tt.__canvas){let t;try{const n=new OffscreenCanvas(0,0),r=n.getContext("2d",Ec);if(r!=null&&r.measureText)return tt.__canvas=n,n;t=Ut.get().createCanvas()}catch{t=Ut.get().createCanvas()}t.width=t.height=10,tt.__canvas=t}return tt.__canvas}static get _context(){return tt.__context||(tt.__context=tt._canvas.getContext("2d",Ec)),tt.__context}};hi.METRICS_STRING="|q";hi.BASELINE_SYMBOL="M";hi.BASELINE_MULTIPLIER=1.4;hi.HEIGHT_MULTIPLIER=2;hi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const s=new Intl.Segmenter;return t=>{const n=s.segment(t),r=[];let o=0;for(const u of n)r[o++]=u.segment;return r}}return s=>[...s]})();hi.experimentalLetterSpacing=!1;hi._fonts={};hi._newlines=[10,13];hi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ci=hi;const Wg=[{offset:0,color:"white"},{offset:1,color:"black"}],dh=class th{constructor(...t){this.uid=Qt("fillGradient"),this.type="linear",this.colorStops=[];let n=D1(t);n={...n.type==="radial"?th.defaultRadialOptions:th.defaultLinearOptions,...Xp(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(o=>{this.addColorStop(o.offset,o.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:Zt.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:n}=this.start,{x:r,y:o}=this.end,u=r-t,c=o-n;const f=u<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(u<0){const A=t;t=r,r=A,u*=-1}if(c<0){const A=n;n=o,o=A,c*=-1}}const m=this.colorStops.length?this.colorStops:Wg,g=this._textureSize,{canvas:p,context:y}=$g(g,1),b=f?y.createLinearGradient(this._textureSize,0,0,0):y.createLinearGradient(0,0,this._textureSize,0);Kg(b,m),y.fillStyle=b,y.fillRect(0,0,g,1),this.texture=new bt({source:new Ln({resource:p,addressMode:this._wrapMode})});const x=Math.sqrt(u*u+c*c),S=Math.atan2(c,u),T=new _t;T.scale(x/g,1),T.rotate(S),T.translate(t,n),this.textureSpace==="local"&&T.scale(g,g),this.transform=T}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Wg,n=this._textureSize,{canvas:r,context:o}=$g(n,n),{x:u,y:c}=this.center,{x:f,y:m}=this.outerCenter,g=this.innerRadius,p=this.outerRadius,y=f-p,b=m-p,x=n/(p*2),S=(u-y)*x,T=(c-b)*x,A=o.createRadialGradient(S,T,g*x,(f-y)*x,(m-b)*x,p*x);Kg(A,t),o.fillStyle=t[t.length-1].color,o.fillRect(0,0,n,n),o.fillStyle=A,o.translate(S,T),o.rotate(this.rotation),o.scale(1,this.scale),o.translate(-S,-T),o.fillRect(0,0,n,n),this.texture=new bt({source:new Ln({resource:r,addressMode:this._wrapMode})});const R=new _t;R.scale(1/x,1/x),R.translate(y,b),this.textureSpace==="local"&&R.scale(n,n),this.transform=R}get styleKey(){return this.uid}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};dh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};dh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ui=dh;function Kg(s,t){for(let n=0;n<t.length;n++){const r=t[n];s.addColorStop(r.offset,r.color)}}function $g(s,t){const n=Ut.get().createCanvas(s,t),r=n.getContext("2d");return{canvas:n,context:r}}function D1(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(yt("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??Ui.defaultLinearOptions.textureSize}),t}const Jg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Pl{constructor(t,n){this.uid=Qt("fillPattern"),this.transform=new _t,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=Jg[n].addressModeU,t.source.style.addressModeV=Jg[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}var Rc,tp;function U1(){if(tp)return Rc;tp=1,Rc=n;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(u){var c=[];return u.replace(t,function(f,m,g){var p=m.toLowerCase();for(g=o(g),p=="m"&&g.length>2&&(c.push([m].concat(g.splice(0,2))),p="l",m=m=="m"?"l":"L");;){if(g.length==s[p])return g.unshift(m),c.push(g);if(g.length<s[p])throw new Error("malformed path data");c.push([m].concat(g.splice(0,s[p])))}}),c}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(u){var c=u.match(r);return c?c.map(Number):[]}return Rc}var G1=U1();const k1=Lp(G1);function H1(s,t){const n=k1(s),r=[];let o=null,u=0,c=0;for(let f=0;f<n.length;f++){const m=n[f],g=m[0],p=m;switch(g){case"M":u=p[1],c=p[2],t.moveTo(u,c);break;case"m":u+=p[1],c+=p[2],t.moveTo(u,c);break;case"H":u=p[1],t.lineTo(u,c);break;case"h":u+=p[1],t.lineTo(u,c);break;case"V":c=p[1],t.lineTo(u,c);break;case"v":c+=p[1],t.lineTo(u,c);break;case"L":u=p[1],c=p[2],t.lineTo(u,c);break;case"l":u+=p[1],c+=p[2],t.lineTo(u,c);break;case"C":u=p[5],c=p[6],t.bezierCurveTo(p[1],p[2],p[3],p[4],u,c);break;case"c":t.bezierCurveTo(u+p[1],c+p[2],u+p[3],c+p[4],u+p[5],c+p[6]),u+=p[5],c+=p[6];break;case"S":u=p[3],c=p[4],t.bezierCurveToShort(p[1],p[2],u,c);break;case"s":t.bezierCurveToShort(u+p[1],c+p[2],u+p[3],c+p[4]),u+=p[3],c+=p[4];break;case"Q":u=p[3],c=p[4],t.quadraticCurveTo(p[1],p[2],u,c);break;case"q":t.quadraticCurveTo(u+p[1],c+p[2],u+p[3],c+p[4]),u+=p[3],c+=p[4];break;case"T":u=p[1],c=p[2],t.quadraticCurveToShort(u,c);break;case"t":u+=p[1],c+=p[2],t.quadraticCurveToShort(u,c);break;case"A":u=p[6],c=p[7],t.arcToSvg(p[1],p[2],p[3],p[4],p[5],u,c);break;case"a":u+=p[6],c+=p[7],t.arcToSvg(p[1],p[2],p[3],p[4],p[5],u,c);break;case"Z":case"z":t.closePath(),r.length>0&&(o=r.pop(),o?(u=o.startX,c=o.startY):(u=0,c=0)),o=null;break;default:Dt(`Unknown SVG path command: ${g}`)}g!=="Z"&&g!=="z"&&o===null&&(o={startX:u,startY:c},r.push(o))}return t}class mh{constructor(t=0,n=0,r=0){this.type="circle",this.x=t,this.y=n,this.radius=r}clone(){return new mh(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-t,u=this.y-n;return o*=o,u*=u,o+u<=r}strokeContains(t,n,r,o=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-n,f=this.radius,m=(1-o)*r,g=Math.sqrt(u*u+c*c);return g<=f+m&&g>f-(r-m)}getBounds(t){return t||(t=new Lt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class gh{constructor(t=0,n=0,r=0,o=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=r,this.halfHeight=o}clone(){return new gh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,o=(n-this.y)/this.halfHeight;return r*=r,o*=o,r+o<=1}strokeContains(t,n,r,o=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const f=r*(1-o),m=r-f,g=u-m,p=c-m,y=u+f,b=c+f,x=t-this.x,S=n-this.y,T=x*x/(g*g)+S*S/(p*p),A=x*x/(y*y)+S*S/(b*b);return T>1&&A<=1}getBounds(t){return t||(t=new Lt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function N1(s,t,n,r,o,u){const c=s-n,f=t-r,m=o-n,g=u-r,p=c*m+f*g,y=m*m+g*g;let b=-1;y!==0&&(b=p/y);let x,S;b<0?(x=n,S=r):b>1?(x=o,S=u):(x=n+b*m,S=r+b*g);const T=s-x,A=t-S;return T*T+A*A}let L1,Y1;class Za{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const r=[];for(let o=0,u=n.length;o<u;o++)r.push(n[o].x,n[o].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,r=n.length;for(let o=0;o<r;o+=2){const u=n[o],c=n[o+1],f=n[(o+2)%r],m=n[(o+3)%r];t+=(f-u)*(m+c)}return t<0}containsPolygon(t){const n=this.getBounds(L1),r=t.getBounds(Y1);if(!n.containsRect(r))return!1;const o=t.points;for(let u=0;u<o.length;u+=2){const c=o[u],f=o[u+1];if(!this.contains(c,f))return!1}return!0}clone(){const t=this.points.slice(),n=new Za(t);return n.closePath=this.closePath,n}contains(t,n){let r=!1;const o=this.points.length/2;for(let u=0,c=o-1;u<o;c=u++){const f=this.points[u*2],m=this.points[u*2+1],g=this.points[c*2],p=this.points[c*2+1];m>n!=p>n&&t<(g-f)*((n-m)/(p-m))+f&&(r=!r)}return r}strokeContains(t,n,r,o=.5){const u=r*r,c=u*(1-o),f=u-c,{points:m}=this,g=m.length-(this.closePath?0:2);for(let p=0;p<g;p+=2){const y=m[p],b=m[p+1],x=m[(p+2)%m.length],S=m[(p+3)%m.length],T=N1(t,n,y,b,x,S),A=Math.sign((x-y)*(n-b)-(S-b)*(t-y));if(T<=(A<0?f:c))return!0}return!1}getBounds(t){t||(t=new Lt);const n=this.points;let r=1/0,o=-1/0,u=1/0,c=-1/0;for(let f=0,m=n.length;f<m;f+=2){const g=n[f],p=n[f+1];r=g<r?g:r,o=g>o?g:o,u=p<u?p:u,c=p>c?p:c}return t.x=r,t.width=o-r,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return yt("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return yt("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const El=(s,t,n,r,o,u,c)=>{const f=s-n,m=t-r,g=Math.sqrt(f*f+m*m);return g>=o-u&&g<=o+c};class ph{constructor(t=0,n=0,r=0,o=0,u=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=r,this.height=o,this.radius=u}getBounds(t){return t||(t=new Lt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new ph(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let o=t-(this.x+r),u=n-(this.y+r);const c=r*r;if(o*o+u*u<=c||(o=t-(this.x+this.width-r),o*o+u*u<=c)||(u=n-(this.y+this.height-r),o*o+u*u<=c)||(o=t-(this.x+r),o*o+u*u<=c))return!0}return!1}strokeContains(t,n,r,o=.5){const{x:u,y:c,width:f,height:m,radius:g}=this,p=r*(1-o),y=r-p,b=u+g,x=c+g,S=f-g*2,T=m-g*2,A=u+f,R=c+m;return(t>=u-p&&t<=u+y||t>=A-y&&t<=A+p)&&n>=x&&n<=x+T||(n>=c-p&&n<=c+y||n>=R-y&&n<=R+p)&&t>=b&&t<=b+S?!0:t<b&&n<x&&El(t,n,b,x,g,y,p)||t>A-g&&n<x&&El(t,n,A-g,x,g,y,p)||t>A-g&&n>R-g&&El(t,n,A-g,R-g,g,y,p)||t<b&&n>R-g&&El(t,n,b,R-g,g,y,p)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Hy={};function P1(s,t,n){let r=2166136261;for(let o=0;o<t;o++)r^=s[o].uid,r=Math.imul(r,16777619),r>>>=0;return Hy[r]||X1(s,t,r,n)}function X1(s,t,n,r){const o={};let u=0;for(let f=0;f<r;f++){const m=f<t?s[f]:bt.EMPTY.source;o[u++]=m.source,o[u++]=m.style}const c=new Ol(o);return Hy[n]=c,c}class ep{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function ip(s,t){const n=s.byteLength/8|0,r=new Float64Array(s,0,n);new Float64Array(t,0,n).set(r);const u=s.byteLength-n*8;if(u>0){const c=new Uint8Array(s,n*8,u);new Uint8Array(t,n*8,u).set(c)}}const V1={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var q1=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(q1||{});function np(s,t){return t.alphaMode==="no-premultiply-alpha"&&V1[s]||s}const j1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function F1(s){let t="";for(let n=0;n<s;++n)n>0&&(t+=`
else `),n<s-1&&(t+=`if(test == ${n}.0){}`);return t}function Q1(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=j1.replace(/%forloop%/gi,F1(s));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(n)}return s}let Cs=null;function Z1(){var t;if(Cs)return Cs;const s=yy();return Cs=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Cs=Q1(Cs,s),(t=s.getExtension("WEBGL_lose_context"))==null||t.loseContext(),Cs}class I1{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class W1{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new I1,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Ny=[];let eh=0;function sp(){return eh>0?Ny[--eh]:new W1}function ap(s){Ny[eh++]=s}let Ya=0;const Ly=class Yy{constructor(t){this.uid=Qt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...Yy.defaultOptions,...t},t.maxTextures||(yt("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=Z1());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:o}=t;this.attributeBuffer=new ep(r*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)ap(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const r=t._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let r=sp(),o=r.textures;o.clear();const u=n[this.elementStart];let c=np(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const m=this.attributeBuffer.float32View,g=this.attributeBuffer.uint32View,p=this.indexBuffer;let y=this._batchIndexSize,b=this._batchIndexStart,x="startBatch";const S=this.maxTextures;for(let T=this.elementStart;T<this.elementSize;++T){const A=n[T];n[T]=null;const E=A.texture._source,B=np(A.blendMode,E),U=c!==B||f!==A.topology;if(E._batchTick===Ya&&!U){A._textureId=E._textureBindLocation,y+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,m,g,A._attributeStart,A._textureId),this.packQuadIndex(p,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,m,g,A._attributeStart,A._textureId),this.packIndex(A,p,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=r;continue}E._batchTick=Ya,(o.count>=S||U)&&(this._finishBatch(r,b,y-b,o,c,f,t,x),x="renderBatch",b=y,c=B,f=A.topology,r=sp(),o=r.textures,o.clear(),++Ya),A._textureId=E._textureBindLocation=o.count,o.ids[E.uid]=o.count,o.textures[o.count++]=E,A._batch=r,y+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,m,g,A._attributeStart,A._textureId),this.packQuadIndex(p,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,m,g,A._attributeStart,A._textureId),this.packIndex(A,p,A._indexStart,A._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(r,b,y-b,o,c,f,t,x),b=y,++Ya),this.elementStart=this.elementSize,this._batchIndexStart=b,this._batchIndexSize=y}_finishBatch(t,n,r,o,u,c,f,m){t.gpuBindGroup=null,t.bindGroup=null,t.action=m,t.batcher=this,t.textures=o,t.blendMode=u,t.topology=c,t.start=n,t.size=r,++Ya,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),r=new ep(n);ip(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const n=this.indexBuffer;let r=Math.max(t,n.length*1.5);r+=r%2;const o=r>65535?new Uint32Array(r):new Uint16Array(r);if(o.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let u=0;u<n.length;u++)o[u]=n[u];else ip(n.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(t,n,r){t[n]=r+0,t[n+1]=r+1,t[n+2]=r+2,t[n+3]=r+0,t[n+4]=r+2,t[n+5]=r+3}packIndex(t,n,r,o){const u=t.indices,c=t.indexSize,f=t.indexOffset,m=t.attributeOffset;for(let g=0;g<c;g++)n[r++]=o+u[g+f]-m}destroy(){for(let t=0;t<this.batches.length;t++)ap(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};Ly.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let K1=Ly;var ve=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(ve||{});class Ja extends ei{constructor(t){let{data:n,size:r}=t;const{usage:o,label:u,shrinkToFit:c}=t;super(),this.uid=Qt("buffer"),this._resourceType="buffer",this._resourceId=Qt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n==null?void 0:n.byteLength);const f=!!n;this.descriptor={size:r,usage:o,mappedAtCreation:f,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&ve.STATIC)}set static(t){t?this.descriptor.usage|=ve.STATIC:this.descriptor.usage&=~ve.STATIC}setDataWithSize(t,n,r){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const o=this._data;if(this._data=t,this._dataInt32=null,!o||o.length!==t.length){!this.shrinkToFit&&o&&t.byteLength<o.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Qt("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Py(s,t){if(!(s instanceof Ja)){let n=t?ve.INDEX:ve.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),n=ve.INDEX|ve.COPY_DST):(s=new Float32Array(s),n=ve.VERTEX|ve.COPY_DST)),s=new Ja({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return s}function $1(s,t,n){const r=s.getAttribute(t);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const o=r.buffer.data;let u=1/0,c=1/0,f=-1/0,m=-1/0;const g=o.BYTES_PER_ELEMENT,p=(r.offset||0)/g,y=(r.stride||8)/g;for(let b=p;b<o.length;b+=y){const x=o[b],S=o[b+1];x>f&&(f=x),S>m&&(m=S),x<u&&(u=x),S<c&&(c=S)}return n.minX=u,n.minY=c,n.maxX=f,n.maxY=m,n}function J1(s){return(s instanceof Ja||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=Py(s.buffer,!1),s}class tv extends ei{constructor(t={}){super(),this.uid=Qt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new ti,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:o}=t;if(this.buffers=[],this.attributes={},n)for(const u in n)this.addAttribute(u,n[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const r=J1(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=Py(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,$1(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const ev=new Float32Array(1),iv=new Uint32Array(1);class nv extends tv{constructor(){const n=new Ja({data:ev,label:"attribute-batch-buffer",usage:ve.VERTEX|ve.COPY_DST,shrinkToFit:!1}),r=new Ja({data:iv,label:"index-batch-buffer",usage:ve.INDEX|ve.COPY_DST,shrinkToFit:!1}),o=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:o,offset:0},aUV:{buffer:n,format:"float32x2",stride:o,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:o,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:o,offset:20}},indexBuffer:r})}}function rp(s,t,n){if(s)for(const r in s){const o=r.toLocaleLowerCase(),u=t[o];if(u){let c=s[r];r==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&u.push(`//----${n}----//`),u.push(c)}else Dt(`${r} placement hook does not exist in shader`)}}const sv=/\{\{(.*?)\}\}/g;function lp(s){var r;const t={};return(((r=s.match(sv))==null?void 0:r.map(o=>o.replace(/[{()}]/g,"")))??[]).forEach(o=>{t[o]=[]}),t}function op(s,t){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(s))!==null;)t.push(n[1])}function up(s,t,n=!1){const r=[];op(t,r),s.forEach(f=>{f.header&&op(f.header,r)});const o=r;n&&o.sort();const u=o.map((f,m)=>`       @location(${m}) ${f},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function cp(s,t){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(s))!==null;)t.push(n[1])}function av(s){const n=/\b(\w+)\s*:/g.exec(s);return n?n[1]:""}function rv(s){const t=/@.*?\s+/g;return s.replace(t,"")}function lv(s,t){const n=[];cp(t,n),s.forEach(m=>{m.header&&cp(m.header,n)});let r=0;const o=n.sort().map(m=>m.indexOf("builtin")>-1?m:`@location(${r++}) ${m}`).join(`,
`),u=n.sort().map(m=>`       var ${rv(m)};`).join(`
`),c=`return VSOutput(
            ${n.sort().map(m=>` ${av(m)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${o}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${c}
`),f}function hp(s,t){let n=s;for(const r in t){const o=t[r];o.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${o.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const on=Object.create(null),Bc=new Map;let ov=0;function uv({template:s,bits:t}){const n=Xy(s,t);if(on[n])return on[n];const{vertex:r,fragment:o}=hv(s,t);return on[n]=Vy(r,o,t),on[n]}function cv({template:s,bits:t}){const n=Xy(s,t);return on[n]||(on[n]=Vy(s.vertex,s.fragment,t)),on[n]}function hv(s,t){const n=t.map(c=>c.vertex).filter(c=>!!c),r=t.map(c=>c.fragment).filter(c=>!!c);let o=up(n,s.vertex,!0);o=lv(n,o);const u=up(r,s.fragment,!0);return{vertex:o,fragment:u}}function Xy(s,t){return t.map(n=>(Bc.has(n)||Bc.set(n,ov++),Bc.get(n))).sort((n,r)=>n-r).join("-")+s.vertex+s.fragment}function Vy(s,t,n){const r=lp(s),o=lp(t);return n.forEach(u=>{rp(u.vertex,r,u.name),rp(u.fragment,o,u.name)}),{vertex:hp(s,r),fragment:hp(t,o)}}const fv=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,dv=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,mv=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,gv=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,pv={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},yv={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function _v({bits:s,name:t}){const n=uv({template:{fragment:dv,vertex:fv},bits:[pv,...s]});return Yl.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function xv({bits:s,name:t}){return new xy({name:t,...cv({template:{vertex:mv,fragment:gv},bits:[yv,...s]})})}const bv={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},vv={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},zc={};function Sv(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<s;r++)t.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function Av(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<s;n++)n===s-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function wv(s){return zc[s]||(zc[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Sv(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Av(s)}
            `}}),zc[s]}const Oc={};function Tv(s){const t=[];for(let n=0;n<s;n++)n>0&&t.push("else"),n<s-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function Mv(s){return Oc[s]||(Oc[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${Tv(s)}
            `}}),Oc[s]}const Cv={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Ev={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},fp={};function Rv(s){let t=fp[s];if(t)return t;const n=new Int32Array(s);for(let r=0;r<s;r++)n[r]=r;return t=fp[s]=new Ay({uTextures:{value:n,type:"i32",size:s}},{isStatic:!0}),t}class Bv extends fh{constructor(t){const n=xv({name:"batch",bits:[vv,Mv(t),Ev]}),r=_v({name:"batch",bits:[bv,wv(t),Cv]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:Rv(t)}})}}let Dc=null;const qy=class jy extends K1{constructor(t){super(t),this.geometry=new nv,this.name=jy.extension.name,this.vertexSize=6,Dc??(Dc=new Bv(t.maxTextures)),this.shader=Dc}packAttributes(t,n,r,o,u){const c=u<<16|t.roundPixels&65535,f=t.transform,m=f.a,g=f.b,p=f.c,y=f.d,b=f.tx,x=f.ty,{positions:S,uvs:T}=t,A=t.color,R=t.attributeOffset,E=R+t.attributeSize;for(let B=R;B<E;B++){const U=B*2,q=S[U],L=S[U+1];n[o++]=m*q+p*L+b,n[o++]=y*L+g*q+x,n[o++]=T[U],n[o++]=T[U+1],r[o++]=A,r[o++]=c}}packQuadAttributes(t,n,r,o,u){const c=t.texture,f=t.transform,m=f.a,g=f.b,p=f.c,y=f.d,b=f.tx,x=f.ty,S=t.bounds,T=S.maxX,A=S.minX,R=S.maxY,E=S.minY,B=c.uvs,U=t.color,q=u<<16|t.roundPixels&65535;n[o+0]=m*A+p*E+b,n[o+1]=y*E+g*A+x,n[o+2]=B.x0,n[o+3]=B.y0,r[o+4]=U,r[o+5]=q,n[o+6]=m*T+p*E+b,n[o+7]=y*E+g*T+x,n[o+8]=B.x1,n[o+9]=B.y1,r[o+10]=U,r[o+11]=q,n[o+12]=m*T+p*R+b,n[o+13]=y*R+g*T+x,n[o+14]=B.x2,n[o+15]=B.y2,r[o+16]=U,r[o+17]=q,n[o+18]=m*A+p*R+b,n[o+19]=y*R+g*A+x,n[o+20]=B.x3,n[o+21]=B.y3,r[o+22]=U,r[o+23]=q}};qy.extension={type:[et.Batcher],name:"default"};let zv=qy;function Ov(s,t,n,r,o,u,c,f=null){let m=0;n*=t,o*=u;const g=f.a,p=f.b,y=f.c,b=f.d,x=f.tx,S=f.ty;for(;m<c;){const T=s[n],A=s[n+1];r[o]=g*T+y*A+x,r[o+1]=p*T+b*A+S,o+=u,n+=t,m++}}function Dv(s,t,n,r){let o=0;for(t*=n;o<r;)s[t]=0,s[t+1]=0,t+=n,o++}function Fy(s,t,n,r,o){const u=t.a,c=t.b,f=t.c,m=t.d,g=t.tx,p=t.ty;n||(n=0),r||(r=2),o||(o=s.length/r-n);let y=n*r;for(let b=0;b<o;b++){const x=s[y],S=s[y+1];s[y]=u*x+f*S+g,s[y+1]=c*x+m*S+p,y+=r}}const Uv=new _t;class Qy{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?$p(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||Uv}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const tr={extension:{type:et.ShapeBuilder,name:"circle"},build(s,t){let n,r,o,u,c,f;if(s.type==="circle"){const U=s;if(c=f=U.radius,c<=0)return!1;n=U.x,r=U.y,o=u=0}else if(s.type==="ellipse"){const U=s;if(c=U.halfWidth,f=U.halfHeight,c<=0||f<=0)return!1;n=U.x,r=U.y,o=u=0}else{const U=s,q=U.width/2,L=U.height/2;n=U.x+q,r=U.y+L,c=f=Math.max(0,Math.min(U.radius,Math.min(q,L))),o=q-c,u=L-f}if(o<0||u<0)return!1;const m=Math.ceil(2.3*Math.sqrt(c+f)),g=m*8+(o?4:0)+(u?4:0);if(g===0)return!1;if(m===0)return t[0]=t[6]=n+o,t[1]=t[3]=r+u,t[2]=t[4]=n-o,t[5]=t[7]=r-u,!0;let p=0,y=m*4+(o?2:0)+2,b=y,x=g,S=o+c,T=u,A=n+S,R=n-S,E=r+T;if(t[p++]=A,t[p++]=E,t[--y]=E,t[--y]=R,u){const U=r-T;t[b++]=R,t[b++]=U,t[--x]=U,t[--x]=A}for(let U=1;U<m;U++){const q=Math.PI/2*(U/m),L=o+Math.cos(q)*c,N=u+Math.sin(q)*f,K=n+L,Q=n-L,F=r+N,Z=r-N;t[p++]=K,t[p++]=F,t[--y]=F,t[--y]=Q,t[b++]=Q,t[b++]=Z,t[--x]=Z,t[--x]=K}S=o,T=u+f,A=n+S,R=n-S,E=r+T;const B=r-T;return t[p++]=A,t[p++]=E,t[--x]=B,t[--x]=A,o&&(t[p++]=R,t[p++]=E,t[--x]=B,t[--x]=R),!0},triangulate(s,t,n,r,o,u){if(s.length===0)return;let c=0,f=0;for(let p=0;p<s.length;p+=2)c+=s[p],f+=s[p+1];c/=s.length/2,f/=s.length/2;let m=r;t[m*n]=c,t[m*n+1]=f;const g=m++;for(let p=0;p<s.length;p+=2)t[m*n]=s[p],t[m*n+1]=s[p+1],p>0&&(o[u++]=m,o[u++]=g,o[u++]=m-1),m++;o[u++]=g+1,o[u++]=g,o[u++]=m-1}},Gv={...tr,extension:{...tr.extension,name:"ellipse"}},kv={...tr,extension:{...tr.extension,name:"roundedRectangle"}},Zy=1e-4,dp=1e-4;function Hv(s){const t=s.length;if(t<6)return 1;let n=0;for(let r=0,o=s[t-2],u=s[t-1];r<t;r+=2){const c=s[r],f=s[r+1];n+=(c-o)*(f+u),o=c,u=f}return n<0?-1:1}function mp(s,t,n,r,o,u,c,f){const m=s-n*o,g=t-r*o,p=s+n*u,y=t+r*u;let b,x;c?(b=r,x=-n):(b=-r,x=n);const S=m+b,T=g+x,A=p+b,R=y+x;return f.push(S,T),f.push(A,R),2}function Rn(s,t,n,r,o,u,c,f){const m=n-s,g=r-t;let p=Math.atan2(m,g),y=Math.atan2(o-s,u-t);f&&p<y?p+=Math.PI*2:!f&&p>y&&(y+=Math.PI*2);let b=p;const x=y-p,S=Math.abs(x),T=Math.sqrt(m*m+g*g),A=(15*S*Math.sqrt(T)/Math.PI>>0)+1,R=x/A;if(b+=R,f){c.push(s,t),c.push(n,r);for(let E=1,B=b;E<A;E++,B+=R)c.push(s,t),c.push(s+Math.sin(B)*T,t+Math.cos(B)*T);c.push(s,t),c.push(o,u)}else{c.push(n,r),c.push(s,t);for(let E=1,B=b;E<A;E++,B+=R)c.push(s+Math.sin(B)*T,t+Math.cos(B)*T),c.push(s,t);c.push(o,u),c.push(s,t)}return A*2}function Nv(s,t,n,r,o,u){const c=Zy;if(s.length===0)return;const f=t;let m=f.alignment;if(t.alignment!==.5){let nt=Hv(s);m=(m-.5)*nt+.5}const g=new de(s[0],s[1]),p=new de(s[s.length-2],s[s.length-1]),y=r,b=Math.abs(g.x-p.x)<c&&Math.abs(g.y-p.y)<c;if(y){s=s.slice(),b&&(s.pop(),s.pop(),p.set(s[s.length-2],s[s.length-1]));const nt=(g.x+p.x)*.5,M=(p.y+g.y)*.5;s.unshift(nt,M),s.push(nt,M)}const x=o,S=s.length/2;let T=s.length;const A=x.length/2,R=f.width/2,E=R*R,B=f.miterLimit*f.miterLimit;let U=s[0],q=s[1],L=s[2],N=s[3],K=0,Q=0,F=-(q-N),Z=U-L,ut=0,st=0,kt=Math.sqrt(F*F+Z*Z);F/=kt,Z/=kt,F*=R,Z*=R;const Ht=m,O=(1-Ht)*2,X=Ht*2;y||(f.cap==="round"?T+=Rn(U-F*(O-X)*.5,q-Z*(O-X)*.5,U-F*O,q-Z*O,U+F*X,q+Z*X,x,!0)+2:f.cap==="square"&&(T+=mp(U,q,F,Z,O,X,!0,x))),x.push(U-F*O,q-Z*O),x.push(U+F*X,q+Z*X);for(let nt=1;nt<S-1;++nt){U=s[(nt-1)*2],q=s[(nt-1)*2+1],L=s[nt*2],N=s[nt*2+1],K=s[(nt+1)*2],Q=s[(nt+1)*2+1],F=-(q-N),Z=U-L,kt=Math.sqrt(F*F+Z*Z),F/=kt,Z/=kt,F*=R,Z*=R,ut=-(N-Q),st=L-K,kt=Math.sqrt(ut*ut+st*st),ut/=kt,st/=kt,ut*=R,st*=R;const M=L-U,j=q-N,W=L-K,I=Q-N,it=M*W+j*I,mt=j*W-I*M,lt=mt<0;if(Math.abs(mt)<.001*Math.abs(it)){x.push(L-F*O,N-Z*O),x.push(L+F*X,N+Z*X),it>=0&&(f.join==="round"?T+=Rn(L,N,L-F*O,N-Z*O,L-ut*O,N-st*O,x,!1)+4:T+=2,x.push(L-ut*X,N-st*X),x.push(L+ut*O,N+st*O));continue}const ue=(-F+U)*(-Z+N)-(-F+L)*(-Z+q),Bt=(-ut+K)*(-st+N)-(-ut+L)*(-st+Q),Se=(M*Bt-W*ue)/mt,Gi=(I*ue-j*Bt)/mt,ki=(Se-L)*(Se-L)+(Gi-N)*(Gi-N),Fe=L+(Se-L)*O,Qe=N+(Gi-N)*O,Ze=L-(Se-L)*X,fi=N-(Gi-N)*X,ql=Math.min(M*M+j*j,W*W+I*I),Ae=lt?O:X,jl=ql+Ae*Ae*E;ki<=jl?f.join==="bevel"||ki/E>B?(lt?(x.push(Fe,Qe),x.push(L+F*X,N+Z*X),x.push(Fe,Qe),x.push(L+ut*X,N+st*X)):(x.push(L-F*O,N-Z*O),x.push(Ze,fi),x.push(L-ut*O,N-st*O),x.push(Ze,fi)),T+=2):f.join==="round"?lt?(x.push(Fe,Qe),x.push(L+F*X,N+Z*X),T+=Rn(L,N,L+F*X,N+Z*X,L+ut*X,N+st*X,x,!0)+4,x.push(Fe,Qe),x.push(L+ut*X,N+st*X)):(x.push(L-F*O,N-Z*O),x.push(Ze,fi),T+=Rn(L,N,L-F*O,N-Z*O,L-ut*O,N-st*O,x,!1)+4,x.push(L-ut*O,N-st*O),x.push(Ze,fi)):(x.push(Fe,Qe),x.push(Ze,fi)):(x.push(L-F*O,N-Z*O),x.push(L+F*X,N+Z*X),f.join==="round"?lt?T+=Rn(L,N,L+F*X,N+Z*X,L+ut*X,N+st*X,x,!0)+2:T+=Rn(L,N,L-F*O,N-Z*O,L-ut*O,N-st*O,x,!1)+2:f.join==="miter"&&ki/E<=B&&(lt?(x.push(Ze,fi),x.push(Ze,fi)):(x.push(Fe,Qe),x.push(Fe,Qe)),T+=2),x.push(L-ut*O,N-st*O),x.push(L+ut*X,N+st*X),T+=2)}U=s[(S-2)*2],q=s[(S-2)*2+1],L=s[(S-1)*2],N=s[(S-1)*2+1],F=-(q-N),Z=U-L,kt=Math.sqrt(F*F+Z*Z),F/=kt,Z/=kt,F*=R,Z*=R,x.push(L-F*O,N-Z*O),x.push(L+F*X,N+Z*X),y||(f.cap==="round"?T+=Rn(L-F*(O-X)*.5,N-Z*(O-X)*.5,L-F*O,N-Z*O,L+F*X,N+Z*X,x,!1)+2:f.cap==="square"&&(T+=mp(L,N,F,Z,O,X,!1,x)));const at=dp*dp;for(let nt=A;nt<T+A-2;++nt)U=x[nt*2],q=x[nt*2+1],L=x[(nt+1)*2],N=x[(nt+1)*2+1],K=x[(nt+2)*2],Q=x[(nt+2)*2+1],!(Math.abs(U*(N-Q)+L*(Q-q)+K*(q-N))<at)&&u.push(nt,nt+1,nt+2)}function Lv(s,t,n,r){const o=Zy;if(s.length===0)return;const u=s[0],c=s[1],f=s[s.length-2],m=s[s.length-1],g=t||Math.abs(u-f)<o&&Math.abs(c-m)<o,p=n,y=s.length/2,b=p.length/2;for(let x=0;x<y;x++)p.push(s[x*2]),p.push(s[x*2+1]);for(let x=0;x<y-1;x++)r.push(b+x,b+x+1);g&&r.push(b+y-1,b)}function Iy(s,t,n,r,o,u,c){const f=T1(s,t,2);if(!f)return;for(let g=0;g<f.length;g+=3)u[c++]=f[g]+o,u[c++]=f[g+1]+o,u[c++]=f[g+2]+o;let m=o*r;for(let g=0;g<s.length;g+=2)n[m]=s[g],n[m+1]=s[g+1],m+=r}const Yv=[],Pv={extension:{type:et.ShapeBuilder,name:"polygon"},build(s,t){for(let n=0;n<s.points.length;n++)t[n]=s.points[n];return!0},triangulate(s,t,n,r,o,u){Iy(s,Yv,t,n,r,o,u)}},Xv={extension:{type:et.ShapeBuilder,name:"rectangle"},build(s,t){const n=s,r=n.x,o=n.y,u=n.width,c=n.height;return u>0&&c>0?(t[0]=r,t[1]=o,t[2]=r+u,t[3]=o,t[4]=r+u,t[5]=o+c,t[6]=r,t[7]=o+c,!0):!1},triangulate(s,t,n,r,o,u){let c=0;r*=n,t[r+c]=s[0],t[r+c+1]=s[1],c+=n,t[r+c]=s[2],t[r+c+1]=s[3],c+=n,t[r+c]=s[6],t[r+c+1]=s[7],c+=n,t[r+c]=s[4],t[r+c+1]=s[5],c+=n;const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2,o[u++]=f+1,o[u++]=f+3,o[u++]=f+2}},Vv={extension:{type:et.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,!0},triangulate(s,t,n,r,o,u){let c=0;r*=n,t[r+c]=s[0],t[r+c+1]=s[1],c+=n,t[r+c]=s[2],t[r+c+1]=s[3],c+=n,t[r+c]=s[4],t[r+c+1]=s[5];const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2}},qv=new _t,jv=new Lt;function Fv(s,t,n,r){const o=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const c=n.getBounds(jv);t.width&&c.pad(t.width);const{x:f,y:m}=c,g=1/c.width,p=1/c.height,y=-f*g,b=-m*p,x=o.a,S=o.b,T=o.c,A=o.d;o.a*=g,o.b*=g,o.c*=p,o.d*=p,o.tx=y*x+b*T+o.tx,o.ty=y*S+b*A+o.ty}else o.translate(t.texture.frame.x,t.texture.frame.y),o.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;return!(t.fill instanceof Ui)&&u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update()),r&&o.append(qv.copyFrom(r).invert()),o}const Xl={};oe.handleByMap(et.ShapeBuilder,Xl);oe.add(Xv,Pv,Vv,tr,Gv,kv);const Qv=new Lt,Zv=new _t;function Iv(s,t){const{geometryData:n,batches:r}=t;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let o=0;o<s.instructions.length;o++){const u=s.instructions[o];if(u.action==="texture")Wv(u.data,r,n);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",f=u.data.path.shapePath,m=u.data.style,g=u.data.hole;c&&g&&gp(g.shapePath,m,!0,r,n),g&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=g.shapePath.shapePrimitives),gp(f,m,c,r,n)}}}function Wv(s,t,n){const r=[],o=Xl.rectangle,u=Qv;u.x=s.dx,u.y=s.dy,u.width=s.dw,u.height=s.dh;const c=s.transform;if(!o.build(u,r))return;const{vertices:f,uvs:m,indices:g}=n,p=g.length,y=f.length/2;c&&Fy(r,c),o.triangulate(r,f,2,y,g,p);const b=s.image,x=b.uvs;m.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const S=Oi.get(Qy);S.indexOffset=p,S.indexSize=g.length-p,S.attributeOffset=y,S.attributeSize=f.length/2-y,S.baseColor=s.style,S.alpha=s.alpha,S.texture=b,S.geometryData=n,t.push(S)}function gp(s,t,n,r,o){const{vertices:u,uvs:c,indices:f}=o;s.shapePrimitives.forEach(({shape:m,transform:g,holes:p})=>{const y=[],b=Xl[m.type];if(!b.build(m,y))return;const x=f.length,S=u.length/2;let T="triangle-list";if(g&&Fy(y,g),n){const B=m.closePath??!0,U=t;U.pixelLine?(Lv(y,B,u,f),T="line-list"):Nv(y,U,!1,B,u,f)}else if(p){const B=[],U=y.slice();Kv(p).forEach(L=>{B.push(U.length/2),U.push(...L)}),Iy(U,B,u,2,S,f,x)}else b.triangulate(y,u,2,S,f,x);const A=c.length/2,R=t.texture;if(R!==bt.WHITE){const B=Fv(Zv,t,m,g);Ov(u,2,S,c,A,2,u.length/2-S,B)}else Dv(c,A,2,u.length/2-S);const E=Oi.get(Qy);E.indexOffset=x,E.indexSize=f.length-x,E.attributeOffset=S,E.attributeSize=u.length/2-S,E.baseColor=t.color,E.alpha=t.alpha,E.texture=R,E.geometryData=o,E.topology=T,r.push(E)})}function Kv(s){const t=[];for(let n=0;n<s.length;n++){const r=s[n].shape,o=[];Xl[r.type].build(r,o)&&t.push(o)}return t}class $v{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Jv{constructor(){this.instructions=new iy}init(t){this.batcher=new zv({maxTextures:t}),this.instructions.reset()}get geometry(){return yt(Wx,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const yh=class ih{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){ih.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??ih.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t),Iv(t,n);const r=t.batchMode;t.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const n=Oi.get(Jv,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:o}=this._gpuContextHash[t.uid],u=o.vertices.length,c=o.indices.length;for(let p=0;p<r.length;p++)r[p].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(c),f.begin();for(let p=0;p<r.length;p++){const y=r[p];f.add(y)}f.finish(n.instructions);const m=f.geometry;m.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),m.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const g=f.batches;for(let p=0;p<g.length;p++){const y=g[p];y.bindGroup=P1(y.textures.textures,y.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new $v;return n.context=t,this._gpuContextHash[t.uid]=n,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&(Oi.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(r=>{Oi.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};yh.extension={type:[et.WebGLSystem,et.WebGPUSystem,et.CanvasSystem],name:"graphicsContext"};yh.defaultOptions={bezierSmoothness:.5};let Wy=yh;const tS=8,Rl=11920929e-14,eS=1;function Ky(s,t,n,r,o,u,c,f,m,g){const y=Math.min(.99,Math.max(0,g??Wy.defaultOptions.bezierSmoothness));let b=(eS-y)/1;return b*=b,iS(t,n,r,o,u,c,f,m,s,b),s}function iS(s,t,n,r,o,u,c,f,m,g){nh(s,t,n,r,o,u,c,f,m,g,0),m.push(c,f)}function nh(s,t,n,r,o,u,c,f,m,g,p){if(p>tS)return;const y=(s+n)/2,b=(t+r)/2,x=(n+o)/2,S=(r+u)/2,T=(o+c)/2,A=(u+f)/2,R=(y+x)/2,E=(b+S)/2,B=(x+T)/2,U=(S+A)/2,q=(R+B)/2,L=(E+U)/2;if(p>0){let N=c-s,K=f-t;const Q=Math.abs((n-c)*K-(r-f)*N),F=Math.abs((o-c)*K-(u-f)*N);if(Q>Rl&&F>Rl){if((Q+F)*(Q+F)<=g*(N*N+K*K)){m.push(q,L);return}}else if(Q>Rl){if(Q*Q<=g*(N*N+K*K)){m.push(q,L);return}}else if(F>Rl){if(F*F<=g*(N*N+K*K)){m.push(q,L);return}}else if(N=q-(s+c)/2,K=L-(t+f)/2,N*N+K*K<=g){m.push(q,L);return}}nh(s,t,y,b,R,E,q,L,m,g,p+1),nh(q,L,B,U,T,A,c,f,m,g,p+1)}const nS=8,sS=11920929e-14,aS=1;function rS(s,t,n,r,o,u,c,f){const g=Math.min(.99,Math.max(0,f??Wy.defaultOptions.bezierSmoothness));let p=(aS-g)/1;return p*=p,lS(t,n,r,o,u,c,s,p),s}function lS(s,t,n,r,o,u,c,f){sh(c,s,t,n,r,o,u,f,0),c.push(o,u)}function sh(s,t,n,r,o,u,c,f,m){if(m>nS)return;const g=(t+r)/2,p=(n+o)/2,y=(r+u)/2,b=(o+c)/2,x=(g+y)/2,S=(p+b)/2;let T=u-t,A=c-n;const R=Math.abs((r-u)*A-(o-c)*T);if(R>sS){if(R*R<=f*(T*T+A*A)){s.push(x,S);return}}else if(T=x-(t+u)/2,A=S-(n+c)/2,T*T+A*A<=f){s.push(x,S);return}sh(s,t,n,g,p,x,S,f,m+1),sh(s,x,S,y,b,u,c,f,m+1)}function $y(s,t,n,r,o,u,c,f){let m=Math.abs(o-u);(!c&&o>u||c&&u>o)&&(m=2*Math.PI-m),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(m/Math.PI)))),f=Math.max(f,3);let g=m/f,p=o;g*=c?-1:1;for(let y=0;y<f+1;y++){const b=Math.cos(p),x=Math.sin(p),S=t+b*r,T=n+x*r;s.push(S,T),p+=g}}function oS(s,t,n,r,o,u){const c=s[s.length-2],m=s[s.length-1]-n,g=c-t,p=o-n,y=r-t,b=Math.abs(m*y-g*p);if(b<1e-8||u===0){(s[s.length-2]!==t||s[s.length-1]!==n)&&s.push(t,n);return}const x=m*m+g*g,S=p*p+y*y,T=m*p+g*y,A=u*Math.sqrt(x)/b,R=u*Math.sqrt(S)/b,E=A*T/x,B=R*T/S,U=A*y+R*g,q=A*p+R*m,L=g*(R+E),N=m*(R+E),K=y*(A+B),Q=p*(A+B),F=Math.atan2(N-q,L-U),Z=Math.atan2(Q-q,K-U);$y(s,U+t,q+n,u,F,Z,g*p>y*m)}const Ia=Math.PI*2,Uc={centerX:0,centerY:0,ang1:0,ang2:0},Gc=({x:s,y:t},n,r,o,u,c,f,m)=>{s*=n,t*=r;const g=o*s-u*t,p=u*s+o*t;return m.x=g+c,m.y=p+f,m};function uS(s,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:n,o=Math.cos(s),u=Math.sin(s),c=Math.cos(s+t),f=Math.sin(s+t);return[{x:o-u*r,y:u+o*r},{x:c+f*r,y:f-c*r},{x:c,y:f}]}const pp=(s,t,n,r)=>{const o=s*r-t*n<0?-1:1;let u=s*n+t*r;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},cS=(s,t,n,r,o,u,c,f,m,g,p,y,b)=>{const x=Math.pow(o,2),S=Math.pow(u,2),T=Math.pow(p,2),A=Math.pow(y,2);let R=x*S-x*A-S*T;R<0&&(R=0),R/=x*A+S*T,R=Math.sqrt(R)*(c===f?-1:1);const E=R*o/u*y,B=R*-u/o*p,U=g*E-m*B+(s+n)/2,q=m*E+g*B+(t+r)/2,L=(p-E)/o,N=(y-B)/u,K=(-p-E)/o,Q=(-y-B)/u,F=pp(1,0,L,N);let Z=pp(L,N,K,Q);f===0&&Z>0&&(Z-=Ia),f===1&&Z<0&&(Z+=Ia),b.centerX=U,b.centerY=q,b.ang1=F,b.ang2=Z};function hS(s,t,n,r,o,u,c,f=0,m=0,g=0){if(u===0||c===0)return;const p=Math.sin(f*Ia/360),y=Math.cos(f*Ia/360),b=y*(t-r)/2+p*(n-o)/2,x=-p*(t-r)/2+y*(n-o)/2;if(b===0&&x===0)return;u=Math.abs(u),c=Math.abs(c);const S=Math.pow(b,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(c,2);S>1&&(u*=Math.sqrt(S),c*=Math.sqrt(S)),cS(t,n,r,o,u,c,m,g,p,y,b,x,Uc);let{ang1:T,ang2:A}=Uc;const{centerX:R,centerY:E}=Uc;let B=Math.abs(A)/(Ia/4);Math.abs(1-B)<1e-7&&(B=1);const U=Math.max(Math.ceil(B),1);A/=U;let q=s[s.length-2],L=s[s.length-1];const N={x:0,y:0};for(let K=0;K<U;K++){const Q=uS(T,A),{x:F,y:Z}=Gc(Q[0],u,c,y,p,R,E,N),{x:ut,y:st}=Gc(Q[1],u,c,y,p,R,E,N),{x:kt,y:Ht}=Gc(Q[2],u,c,y,p,R,E,N);Ky(s,q,L,F,Z,ut,st,kt,Ht),q=kt,L=Ht,T+=A}}function fS(s,t,n){const r=(c,f)=>{const m=f.x-c.x,g=f.y-c.y,p=Math.sqrt(m*m+g*g),y=m/p,b=g/p;return{len:p,nx:y,ny:b}},o=(c,f)=>{c===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const f=t[c%t.length],m=f.radius??n;if(m<=0){o(c,f),u=f;continue}const g=t[(c+1)%t.length],p=r(f,u),y=r(f,g);if(p.len<1e-4||y.len<1e-4){o(c,f),u=f;continue}let b=Math.asin(p.nx*y.ny-p.ny*y.nx),x=1,S=!1;p.nx*y.nx-p.ny*-y.ny<0?b<0?b=Math.PI+b:(b=Math.PI-b,x=-1,S=!0):b>0&&(x=-1,S=!0);const T=b/2;let A,R=Math.abs(Math.cos(T)*m/Math.sin(T));R>Math.min(p.len/2,y.len/2)?(R=Math.min(p.len/2,y.len/2),A=Math.abs(R*Math.sin(T)/Math.cos(T))):A=m;const E=f.x+y.nx*R+-y.ny*A*x,B=f.y+y.ny*R+y.nx*A*x,U=Math.atan2(p.ny,p.nx)+Math.PI/2*x,q=Math.atan2(y.ny,y.nx)-Math.PI/2*x;c===0&&s.moveTo(E+Math.cos(U)*A,B+Math.sin(U)*A),s.arc(E,B,A,U,q,S),u=f}}function dS(s,t,n,r){const o=(f,m)=>Math.sqrt((f.x-m.x)**2+(f.y-m.y)**2),u=(f,m,g)=>({x:f.x+(m.x-f.x)*g,y:f.y+(m.y-f.y)*g}),c=t.length;for(let f=0;f<c;f++){const m=t[(f+1)%c],g=m.radius??n;if(g<=0){f===0?s.moveTo(m.x,m.y):s.lineTo(m.x,m.y);continue}const p=t[f],y=t[(f+2)%c],b=o(p,m);let x;if(b<1e-4)x=m;else{const A=Math.min(b/2,g);x=u(m,p,A/b)}const S=o(y,m);let T;if(S<1e-4)T=m;else{const A=Math.min(S/2,g);T=u(m,y,A/S)}f===0?s.moveTo(x.x,x.y):s.lineTo(x.x,x.y),s.quadraticCurveTo(m.x,m.y,T.x,T.y,r)}}const mS=new Lt;class gS{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new ti,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const r=this._currentPoly.points,o=r[r.length-2],u=r[r.length-1];return(o!==t||u!==n)&&r.push(t,n),this}arc(t,n,r,o,u,c){this._ensurePoly(!1);const f=this._currentPoly.points;return $y(f,t,n,r,o,u,c),this}arcTo(t,n,r,o,u){this._ensurePoly();const c=this._currentPoly.points;return oS(c,t,n,r,o,u),this}arcToSvg(t,n,r,o,u,c,f){const m=this._currentPoly.points;return hS(m,this._currentPoly.lastX,this._currentPoly.lastY,c,f,t,n,r,o,u),this}bezierCurveTo(t,n,r,o,u,c,f){this._ensurePoly();const m=this._currentPoly;return Ky(this._currentPoly.points,m.lastX,m.lastY,t,n,r,o,u,c,f),this}quadraticCurveTo(t,n,r,o,u){this._ensurePoly();const c=this._currentPoly;return rS(this._currentPoly.points,c.lastX,c.lastY,t,n,r,o,u),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const r=this.shapePrimitives,o=r.length;for(let u=0;u<t.instructions.length;u++){const c=t.instructions[u];this[c.action](...c.data)}if(t.checkForHoles&&r.length-o>1){let u=null;for(let c=o;c<r.length;c++){const f=r[c];if(f.shape.type==="polygon"){const m=f.shape,g=u==null?void 0:u.shape;g&&g.containsPolygon(m)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(c,c+1),r.length--,c--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,r,o,u){return this.drawShape(new Lt(t,n,r,o),u),this}circle(t,n,r,o){return this.drawShape(new mh(t,n,r),o),this}poly(t,n,r){const o=new Za(t);return o.closePath=n,this.drawShape(o,r),this}regularPoly(t,n,r,o,u=0,c){o=Math.max(o|0,3);const f=-1*Math.PI/2+u,m=Math.PI*2/o,g=[];for(let p=0;p<o;p++){const y=f-p*m;g.push(t+r*Math.cos(y),n+r*Math.sin(y))}return this.poly(g,!0,c),this}roundPoly(t,n,r,o,u,c=0,f){if(o=Math.max(o|0,3),u<=0)return this.regularPoly(t,n,r,o,c);const m=r*Math.sin(Math.PI/o)-.001;u=Math.min(u,m);const g=-1*Math.PI/2+c,p=Math.PI*2/o,y=(o-2)*Math.PI/o/2;for(let b=0;b<o;b++){const x=b*p+g,S=t+r*Math.cos(x),T=n+r*Math.sin(x),A=x+Math.PI+y,R=x-Math.PI-y,E=S+u*Math.cos(A),B=T+u*Math.sin(A),U=S+u*Math.cos(R),q=T+u*Math.sin(R);b===0?this.moveTo(E,B):this.lineTo(E,B),this.quadraticCurveTo(S,T,U,q,f)}return this.closePath()}roundShape(t,n,r=!1,o){return t.length<3?this:(r?dS(this,t,n,o):fS(this,t,n),this.closePath())}filletRect(t,n,r,o,u){if(u===0)return this.rect(t,n,r,o);const c=Math.min(r,o)/2,f=Math.min(c,Math.max(-c,u)),m=t+r,g=n+o,p=f<0?-f:0,y=Math.abs(f);return this.moveTo(t,n+y).arcTo(t+p,n+p,t+y,n,y).lineTo(m-y,n).arcTo(m-p,n+p,m,n+y,y).lineTo(m,g-y).arcTo(m-p,g-p,t+r-y,g,y).lineTo(t+y,g).arcTo(t+p,g-p,t,g-y,y).closePath()}chamferRect(t,n,r,o,u,c){if(u<=0)return this.rect(t,n,r,o);const f=Math.min(u,Math.min(r,o)/2),m=t+r,g=n+o,p=[t+f,n,m-f,n,m,n+f,m,g-f,m-f,g,t+f,g,t,g-f,t,n+f];for(let y=p.length-1;y>=2;y-=2)p[y]===p[y-2]&&p[y-1]===p[y-3]&&p.splice(y-1,2);return this.poly(p,!0,c)}ellipse(t,n,r,o,u){return this.drawShape(new gh(t,n,r,o),u),this}roundRect(t,n,r,o,u,c){return this.drawShape(new ph(t,n,r,o,u),c),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let r=this._currentPoly;return r&&this.endPoly(),r=new Za,r.points.push(t,n),this._currentPoly=r,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Za,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,o=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const u=n.transform,c=r;r=u.a*r+u.c*o+u.tx,o=u.b*c+u.d*o+u.ty}this._currentPoly.points.push(r,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const r=t.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const o=n[r],u=o.shape.getBounds(mS);o.transform?t.addRect(u,o.transform):t.addRect(u)}return t}}class Gs{constructor(t,n=!1){this.instructions=[],this.uid=Qt("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?H1(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new gS(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,r,o,u){const c=this.instructions[this.instructions.length-1],f=this.getLastPoint(de.shared);let m=0,g=0;if(!c||c.action!=="bezierCurveTo")m=f.x,g=f.y;else{m=c.data[2],g=c.data[3];const p=f.x,y=f.y;m=p+(p-m),g=y+(y-g)}return this.instructions.push({action:"bezierCurveTo",data:[m,g,t,n,r,o,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,r){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(de.shared);let c=0,f=0;if(!o||o.action!=="quadraticCurveTo")c=u.x,f=u.y;else{c=o.data[0],f=o.data[1];const m=u.x,g=u.y;c=m+(m-c),f=g+(g-f)}return this.instructions.push({action:"quadraticCurveTo",data:[c,f,t,n,r]}),this._dirty=!0,this}rect(t,n,r,o,u){return this.instructions.push({action:"rect",data:[t,n,r,o,u]}),this._dirty=!0,this}circle(t,n,r,o){return this.instructions.push({action:"circle",data:[t,n,r,o]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,r,o,u,c,f){u||(u=o/2);const m=-1*Math.PI/2+c,g=r*2,p=Math.PI*2/g,y=[];for(let b=0;b<g;b++){const x=b%2?u:o,S=b*p+m;y.push(t+x*Math.cos(S),n+x*Math.sin(S))}return this.poly(y,!0,f),this}clone(t=!1){const n=new Gs;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const o=this.instructions[r];n.instructions.push({action:o.action,data:o.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,r=t.b,o=t.c,u=t.d,c=t.tx,f=t.ty;let m=0,g=0,p=0,y=0,b=0,x=0,S=0,T=0;for(let A=0;A<this.instructions.length;A++){const R=this.instructions[A],E=R.data;switch(R.action){case"moveTo":case"lineTo":m=E[0],g=E[1],E[0]=n*m+o*g+c,E[1]=r*m+u*g+f;break;case"bezierCurveTo":p=E[0],y=E[1],b=E[2],x=E[3],m=E[4],g=E[5],E[0]=n*p+o*y+c,E[1]=r*p+u*y+f,E[2]=n*b+o*x+c,E[3]=r*b+u*x+f,E[4]=n*m+o*g+c,E[5]=r*m+u*g+f;break;case"quadraticCurveTo":p=E[0],y=E[1],m=E[2],g=E[3],E[0]=n*p+o*y+c,E[1]=r*p+u*y+f,E[2]=n*m+o*g+c,E[3]=r*m+u*g+f;break;case"arcToSvg":m=E[5],g=E[6],S=E[0],T=E[1],E[0]=n*S+o*T,E[1]=r*S+u*T,E[5]=n*m+o*g+c,E[6]=r*m+u*g+f;break;case"circle":E[4]=Pa(E[3],t);break;case"rect":E[4]=Pa(E[4],t);break;case"ellipse":E[8]=Pa(E[8],t);break;case"roundRect":E[5]=Pa(E[5],t);break;case"addPath":E[0].transform(t);break;case"poly":E[2]=Pa(E[2],t);break;default:Dt("unknown transform action",R.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function Pa(s,t){return s?s.prepend(t):t.clone()}function qt(s,t,n){const r=s.getAttribute(t);return r?Number(r):n}function pS(s,t){const n=s.querySelectorAll("defs");for(let r=0;r<n.length;r++){const o=n[r];for(let u=0;u<o.children.length;u++){const c=o.children[u];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=yS(c);break;case"radialgradient":t.defs[c.id]=_S();break}}}}function yS(s){const t=qt(s,"x1",0),n=qt(s,"y1",0),r=qt(s,"x2",1),o=qt(s,"y2",0),u=s.getAttribute("gradientUnits")||"objectBoundingBox",c=new Ui(t,n,r,o,u==="objectBoundingBox"?"local":"global");for(let f=0;f<s.children.length;f++){const m=s.children[f],g=qt(m,"offset",0),p=Zt.shared.setValue(m.getAttribute("stop-color")).toNumber();c.addColorStop(g,p)}return c}function _S(s){return Dt("[SVG Parser] Radial gradients are not yet supported"),new Ui(0,0,1,0)}function yp(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const _p={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Jy(s,t){const n=s.getAttribute("style"),r={},o={},u={strokeStyle:r,fillStyle:o,useFill:!1,useStroke:!1};for(const c in _p){const f=s.getAttribute(c);f&&xp(t,u,c,f.trim())}if(n){const c=n.split(";");for(let f=0;f<c.length;f++){const m=c[f].trim(),[g,p]=m.split(":");_p[g]&&xp(t,u,g,p.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?o:null,useFill:u.useFill,useStroke:u.useStroke}}function xp(s,t,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const o=yp(r);t.strokeStyle.fill=s.defs[o]}else t.strokeStyle.color=Zt.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const o=yp(r);t.fillStyle.fill=s.defs[o]}else t.fillStyle.color=Zt.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function xS(s,t){if(typeof s=="string"){const c=document.createElement("div");c.innerHTML=s.trim(),s=c.querySelector("svg")}const n={context:t,defs:{},path:new Gs};pS(s,n);const r=s.children,{fillStyle:o,strokeStyle:u}=Jy(s,n);for(let c=0;c<r.length;c++){const f=r[c];f.nodeName.toLowerCase()!=="defs"&&t0(f,n,o,u)}return t}function t0(s,t,n,r){const o=s.children,{fillStyle:u,strokeStyle:c}=Jy(s,t);u&&n?n={...n,...u}:u&&(n=u),c&&r?r={...r,...c}:c&&(r=c);const f=!n&&!r;f&&(n={color:0});let m,g,p,y,b,x,S,T,A,R,E,B,U,q,L,N,K;switch(s.nodeName.toLowerCase()){case"path":q=s.getAttribute("d"),s.getAttribute("fill-rule")==="evenodd"&&Dt("SVG Evenodd fill rule not supported, your svg may render incorrectly"),L=new Gs(q,!0),t.context.path(L),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"circle":S=qt(s,"cx",0),T=qt(s,"cy",0),A=qt(s,"r",0),t.context.ellipse(S,T,A,A),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"rect":m=qt(s,"x",0),g=qt(s,"y",0),N=qt(s,"width",0),K=qt(s,"height",0),R=qt(s,"rx",0),E=qt(s,"ry",0),R||E?t.context.roundRect(m,g,N,K,R||E):t.context.rect(m,g,N,K),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"ellipse":S=qt(s,"cx",0),T=qt(s,"cy",0),R=qt(s,"rx",0),E=qt(s,"ry",0),t.context.beginPath(),t.context.ellipse(S,T,R,E),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"line":p=qt(s,"x1",0),y=qt(s,"y1",0),b=qt(s,"x2",0),x=qt(s,"y2",0),t.context.beginPath(),t.context.moveTo(p,y),t.context.lineTo(b,x),r&&t.context.stroke(r);break;case"polygon":U=s.getAttribute("points"),B=U.match(/\d+/g).map(Q=>parseInt(Q,10)),t.context.poly(B,!0),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"polyline":U=s.getAttribute("points"),B=U.match(/\d+/g).map(Q=>parseInt(Q,10)),t.context.poly(B,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Dt(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}f&&(n=null);for(let Q=0;Q<o.length;Q++)t0(o[Q],t,n,r)}function bS(s){return Zt.isColorLike(s)}function bp(s){return s instanceof Pl}function vp(s){return s instanceof Ui}function vS(s){return s instanceof bt}function SS(s,t,n){const r=Zt.shared.setValue(t??0);return s.color=r.toNumber(),s.alpha=r.alpha===1?n.alpha:r.alpha,s.texture=bt.WHITE,{...n,...s}}function AS(s,t,n){return s.texture=t,{...n,...s}}function Sp(s,t,n){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...n,...s}}function Ap(s,t,n){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...n,...s}}function wS(s,t){const n={...t,...s},r=Zt.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function kn(s,t){if(s==null)return null;const n={},r=s;return bS(s)?SS(n,s,t):vS(s)?AS(n,s,t):bp(s)?Sp(n,s,t):vp(s)?Ap(n,s,t):r.fill&&bp(r.fill)?Sp(r,r.fill,t):r.fill&&vp(r.fill)?Ap(r,r.fill,t):wS(r,t)}function kl(s,t){const{width:n,alignment:r,miterLimit:o,cap:u,join:c,pixelLine:f,...m}=t,g=kn(s,m);return g?{width:n,alignment:r,miterLimit:o,cap:u,join:c,pixelLine:f,...g}:null}const TS=new de,wp=new _t,_h=class ui extends ei{constructor(){super(...arguments),this.uid=Qt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Gs,this._transform=new _t,this._fillStyle={...ui.defaultFillStyle},this._strokeStyle={...ui.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new ti,this._boundsDirty=!0}clone(){const t=new ui;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=kn(t,ui.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=kl(t,ui.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=kn(t,ui.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=kn(t,ui.defaultStrokeStyle),this}texture(t,n,r,o,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:o||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?Zt.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Gs,this}fill(t,n){let r;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o&&o.action==="stroke"?r=o.data.path:r=this._activePath.clone(),r?(t!=null&&(n!==void 0&&typeof t=="number"&&(yt(Tt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=kn(t,ui.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(de.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=kl(t,ui.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,n,r,o,u,c){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*n+f.tx,f.b*t+f.d*n+f.ty,r,o,u,c),this}arcTo(t,n,r,o,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*n+c.tx,c.b*t+c.d*n+c.ty,c.a*r+c.c*o+c.tx,c.b*r+c.d*o+c.ty,u),this}arcToSvg(t,n,r,o,u,c,f){this._tick++;const m=this._transform;return this._activePath.arcToSvg(t,n,r,o,u,m.a*c+m.c*f+m.tx,m.b*c+m.d*f+m.ty),this}bezierCurveTo(t,n,r,o,u,c,f){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*t+m.c*n+m.tx,m.b*t+m.d*n+m.ty,m.a*r+m.c*o+m.tx,m.b*r+m.d*o+m.ty,m.a*u+m.c*c+m.tx,m.b*u+m.d*c+m.ty,f),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,n,r,o){return this._tick++,this._activePath.ellipse(t,n,r,o,this._transform.clone()),this}circle(t,n,r){return this._tick++,this._activePath.circle(t,n,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*n+r.tx,r.b*t+r.d*n+r.ty),this}moveTo(t,n){this._tick++;const r=this._transform,o=this._activePath.instructions,u=r.a*t+r.c*n+r.tx,c=r.b*t+r.d*n+r.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=u,o[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,n,r,o,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*n+c.tx,c.b*t+c.d*n+c.ty,c.a*r+c.c*o+c.tx,c.b*r+c.d*o+c.ty,u),this}rect(t,n,r,o){return this._tick++,this._activePath.rect(t,n,r,o,this._transform.clone()),this}roundRect(t,n,r,o,u){return this._tick++,this._activePath.roundRect(t,n,r,o,u,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,r,o,u=0,c){return this._tick++,this._activePath.regularPoly(t,n,r,o,u,c),this}roundPoly(t,n,r,o,u,c){return this._tick++,this._activePath.roundPoly(t,n,r,o,u,c),this}roundShape(t,n,r,o){return this._tick++,this._activePath.roundShape(t,n,r,o),this}filletRect(t,n,r,o,u){return this._tick++,this._activePath.filletRect(t,n,r,o,u),this}chamferRect(t,n,r,o,u,c){return this._tick++,this._activePath.chamferRect(t,n,r,o,u,c),this}star(t,n,r,o,u=0,c=0){return this._tick++,this._activePath.star(t,n,r,o,u,c,this._transform.clone()),this}svg(t){return this._tick++,xS(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,r,o,u,c){return t instanceof _t?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,r,o,u,c),this)}transform(t,n,r,o,u,c){return t instanceof _t?(this._transform.append(t),this):(wp.set(t,n,r,o,u,c),this._transform.append(wp),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],o=r.action;if(o==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(o==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(o==="stroke"){const u=r.data,c=u.style.alignment,f=u.style.width*(1-c),m=u.path.bounds;t.addFrame(m.minX-f,m.minY-f,m.maxX+f,m.maxY+f)}}return t}containsPoint(t){var o;if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let r=!1;for(let u=0;u<n.length;u++){const c=n[u],f=c.data,m=f.path;if(!c.action||!m)continue;const g=f.style,p=m.shapePath.shapePrimitives;for(let y=0;y<p.length;y++){const b=p[y].shape;if(!g||!b)continue;const x=p[y].transform,S=x?x.applyInverse(t,TS):t;if(c.action==="fill")r=b.contains(S.x,S.y);else{const A=g;r=b.strokeContains(S.x,S.y,A.width,A.alignment)}const T=f.hole;if(T){const A=(o=T.shapePath)==null?void 0:o.shapePrimitives;if(A)for(let R=0;R<A.length;R++)A[R].shape.contains(S.x,S.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(r)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(r))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_h.defaultFillStyle={color:16777215,alpha:1,texture:bt.WHITE,matrix:null,fill:null,textureSpace:"local"};_h.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:bt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let qe=_h;const Tp=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function MS(s){const t=[];let n=0;for(let r=0;r<Tp.length;r++){const o=`_${Tp[r]}`;t[n++]=s[o]}return n=e0(s._fill,t,n),n=ES(s._stroke,t,n),n=RS(s.dropShadow,t,n),n=CS(s.filters,t,n),t.join("-")}function CS(s,t,n){if(!s)return n;for(const r of s)t[n++]=r.uid;return n}function e0(s,t,n){var r;return s&&(t[n++]=s.color,t[n++]=s.alpha,t[n++]=(r=s.fill)==null?void 0:r.styleKey),n}function ES(s,t,n){return s&&(n=e0(s,t,n),t[n++]=s.width,t[n++]=s.alignment,t[n++]=s.cap,t[n++]=s.join,t[n++]=s.miterLimit),n}function RS(s,t,n){return s&&(t[n++]=s.alpha,t[n++]=s.angle,t[n++]=s.blur,t[n++]=s.distance,t[n++]=Zt.shared.setValue(s.color).toNumber()),n}const xh=class Es extends ei{constructor(t={}){super(),BS(t);const n={...Es.defaultTextStyle,...t};for(const r in n){const o=r;this[o]=n[r]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Es.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Es.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...qe.defaultFillStyle,...t},()=>{this._fill=kn({...this._originalFill},qe.defaultFillStyle)})),this._fill=kn(t===0?"black":t,qe.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...qe.defaultStrokeStyle,...t},()=>{this._stroke=kl({...this._originalStroke},qe.defaultStrokeStyle)})),this._stroke=kl(t,qe.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=MS(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Es.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Es({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let n=0;n<this._filters.length;n++)t+=this._filters[n].padding;return Math.max(this._padding,t)}destroy(t=!1){var r,o,u,c;if(this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const f=typeof t=="boolean"?t:t==null?void 0:t.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(f),(o=this._originalFill)!=null&&o.texture&&this._originalFill.texture.destroy(f),(u=this._stroke)!=null&&u.texture&&this._stroke.texture.destroy(f),(c=this._originalStroke)!=null&&c.texture&&this._originalStroke.texture.destroy(f)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(r,o,u)=>(r[o]=u,n==null||n(o,u),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(Zt.isColorLike(t)||t instanceof Ui||t instanceof Pl)}};xh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};xh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let er=xh;function BS(s){const t=s;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=er.defaultDropShadow;s.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){yt(Tt,"strokeThickness is now a part of stroke");const n=t.stroke;let r={};if(Zt.isColorLike(n))r.color=n;else if(n instanceof Ui||n instanceof Pl)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");s.stroke={...r,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(yt(Tt,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&Dt("The number of fill colors must match the number of fill gradient stops.");const n=new Ui({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=t.fillGradientStops.slice(),o=t.fill.map(u=>Zt.shared.setValue(u).toNumber());r.forEach((u,c)=>{n.addColorStop(u,o[c])}),s.fill={fill:n}}}class zS{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const r=Ut.get().createCanvas();r.width=t,r.height=n;const o=r.getContext("2d");return{canvas:r,context:o}}getOptimalCanvasAndContext(t,n,r=1){t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),t=zs(t),n=zs(n);const o=(t<<17)+(n<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let u=this._canvasPool[o].pop();return u||(u=this._createCanvasAndContext(t,n)),u}returnCanvasAndContext(t){const n=t.canvas,{width:r,height:o}=n,u=(r<<17)+(o<<1);t.context.resetTransform(),t.context.clearRect(0,0,r,o),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const Hl=new zS,Mp=1e5;function Nl(s,t,n,r=0){if(s.texture===bt.WHITE&&!s.fill)return Zt.shared.setValue(s.color).setAlpha(s.alpha??1).toHexa();if(s.fill){if(s.fill instanceof Pl){const o=s.fill,u=t.createPattern(o.texture.source.resource,"repeat"),c=o.transform.copyTo(_t.shared);return c.scale(o.texture.frame.width,o.texture.frame.height),u.setTransform(c),u}else if(s.fill instanceof Ui){const o=s.fill,u=o.type==="linear",c=o.textureSpace==="local";let f=1,m=1;c&&n&&(f=n.width+r,m=n.height+r);let g,p=!1;if(u){const{start:y,end:b}=o;g=t.createLinearGradient(y.x*f,y.y*m,b.x*f,b.y*m),p=Math.abs(b.x-y.x)<Math.abs((b.y-y.y)*.1)}else{const{center:y,innerRadius:b,outerCenter:x,outerRadius:S}=o;g=t.createRadialGradient(y.x*f,y.y*m,b*f,x.x*f,x.y*m,S*f)}if(p&&c&&n){const y=n.lineHeight/m;for(let b=0;b<n.lines.length;b++){const x=(b*n.lineHeight+r/2)/m;o.colorStops.forEach(S=>{const T=x+S.offset*y;g.addColorStop(Math.floor(T*Mp)/Mp,Zt.shared.setValue(S.color).toHex())})}}else o.colorStops.forEach(y=>{g.addColorStop(y.offset,Zt.shared.setValue(y.color).toHex())});return g}}else{const o=t.createPattern(s.texture.source.resource,"repeat"),u=s.matrix.copyTo(_t.shared);return u.scale(s.texture.frame.width,s.texture.frame.height),o.setTransform(u),o}return Dt("FillStyle not recognised",s),"red"}const i0=class n0 extends ky{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...n0.defaultOptions,...t};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=bt.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const o=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const u=Gl(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/o):r.fontSize=this.baseRenderedFontSize=o,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof Os?n.textureStyle:new Os(n.textureStyle)),this.fontMetrics=ci.measureFont(u),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(t){var A,R;const n=ci.graphemeSegmenter(t).filter(E=>!this._currentChars.includes(E)).filter((E,B,U)=>U.indexOf(E)===B);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:o,context:u}=r.canvasAndContext,c=r.texture.source;const f=this._style;let m=this._currentX,g=this._currentY,p=this._currentMaxCharHeight;const y=this.baseRenderedFontSize/this.baseMeasurementFontSize,b=this._padding*y;let x=!1;const S=o.width/this.resolution,T=o.height/this.resolution;for(let E=0;E<n.length;E++){const B=n[E],U=ci.measureText(B,f,o,!1);U.lineHeight=U.height;const q=U.width*y,L=Math.ceil((f.fontStyle==="italic"?2:1)*q),N=U.height*y,K=L+b*2,Q=N+b*2;if(x=!1,B!==`
`&&B!=="\r"&&B!=="	"&&B!==" "&&(x=!0,p=Math.ceil(Math.max(Q,p))),m+K>S&&(g+=p,p=Q,m=0,g+p>T)){c.update();const Z=this._nextPage();o=Z.canvasAndContext.canvas,u=Z.canvasAndContext.context,c=Z.texture.source,m=0,g=0,p=0}const F=q/y-(((A=f.dropShadow)==null?void 0:A.distance)??0)-(((R=f._stroke)==null?void 0:R.width)??0);if(this.chars[B]={id:B.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:F,kerning:{}},x){this._drawGlyph(u,U,m+b,g+b,y,f);const Z=c.width*y,ut=c.height*y,st=new Lt(m/Z*c.width,g/ut*c.height,K/Z*c.width,Q/ut*c.height);this.chars[B].texture=new bt({source:c,frame:st}),m+=Math.ceil(K)}}c.update(),this._currentX=m,this._currentY=g,this._currentMaxCharHeight=p,this._skipKerning&&this._applyKerning(n,u)}get pageTextures(){return yt(Tt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,n){const r=this._measureCache;for(let o=0;o<t.length;o++){const u=t[o];for(let c=0;c<this._currentChars.length;c++){const f=this._currentChars[c];let m=r[u];m||(m=r[u]=n.measureText(u).width);let g=r[f];g||(g=r[f]=n.measureText(f).width);let p=n.measureText(u+f).width,y=p-(m+g);y&&(this.chars[u].kerning[f]=y),p=n.measureText(u+f).width,y=p-(m+g),y&&(this.chars[f].kerning[u]=y)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,n=Hl.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(n.context,this._style,t);const r=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),o=new bt({source:new Ln({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(o.source.style=this._textureStyle);const u={canvasAndContext:n,texture:o};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,n,r){n.fontSize=this.baseRenderedFontSize,t.scale(r,r),t.font=Gl(n),n.fontSize=this.baseMeasurementFontSize,t.textBaseline=n.textBaseline;const o=n._stroke,u=(o==null?void 0:o.width)??0;if(o&&(t.lineWidth=u,t.lineJoin=o.join,t.miterLimit=o.miterLimit,t.strokeStyle=Nl(o,t)),n._fill&&(t.fillStyle=Nl(n._fill,t)),n.dropShadow){const c=n.dropShadow,f=Zt.shared.setValue(c.color).toArray(),m=c.blur*r,g=c.distance*r;t.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${c.alpha})`,t.shadowBlur=m,t.shadowOffsetX=Math.cos(c.angle)*g,t.shadowOffsetY=Math.sin(c.angle)*g}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,n,r,o,u,c){const f=n.text,m=n.fontProperties,g=c._stroke,p=((g==null?void 0:g.width)??0)*u,y=r+p/2,b=o-p/2,x=m.descent*u,S=n.lineHeight*u;let T=!1;c.stroke&&p&&(T=!0,t.strokeText(f,y,b+S-x));const{shadowBlur:A,shadowOffsetX:R,shadowOffsetY:E}=t;c._fill&&(T&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillText(f,y,b+S-x)),T&&(t.shadowBlur=A,t.shadowOffsetX=R,t.shadowOffsetY=E)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:n,texture:r}=this.pages[t];Hl.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};i0.defaultOptions={textureSize:512,style:new er,mipmap:!0};let Cp=i0;function OS(s,t,n,r){const o={width:0,height:0,offsetY:0,scale:t.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};o.offsetY=n.baseLineOffset;let u=o.lines[0],c=null,f=!0;const m={width:0,start:0,index:0,positions:[],chars:[]},g=n.baseMeasurementFontSize/t.fontSize,p=t.letterSpacing*g,y=t.wordWrapWidth*g,b=t.lineHeight?t.lineHeight*g:n.lineHeight,x=t.wordWrap&&t.breakWords,S=R=>{const E=u.width;for(let B=0;B<m.index;B++){const U=R.positions[B];u.chars.push(R.chars[B]),u.charPositions.push(U+E)}u.width+=R.width,f=!1,m.width=0,m.index=0,m.chars.length=0},T=()=>{let R=u.chars.length-1;if(r){let E=u.chars[R];for(;E===" ";)u.width-=n.chars[E].xAdvance,E=u.chars[--R]}o.width=Math.max(o.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},f=!0,o.lines.push(u),o.height+=b},A=R=>R-p>y;for(let R=0;R<s.length+1;R++){let E;const B=R===s.length;B||(E=s[R]);const U=n.chars[E]||n.chars[" "];if(/(?:\s)/.test(E)||E==="\r"||E===`
`||B){if(!f&&t.wordWrap&&A(u.width+m.width)?(T(),S(m),B||u.charPositions.push(0)):(m.start=u.width,S(m),B||u.charPositions.push(0)),E==="\r"||E===`
`)u.width!==0&&T();else if(!B){const K=U.xAdvance+(U.kerning[c]||0)+p;u.width+=K,u.spaceWidth=K,u.spacesIndex.push(u.charPositions.length),u.chars.push(E)}}else{const N=U.kerning[c]||0,K=U.xAdvance+N+p;x&&A(u.width+m.width+K)&&(S(m),T()),m.positions[m.index++]=m.width+N,m.chars.push(E),m.width+=K}c=E}return T(),t.align==="center"?DS(o):t.align==="right"?US(o):t.align==="justify"&&GS(o),o}function DS(s){for(let t=0;t<s.lines.length;t++){const n=s.lines[t],r=s.width/2-n.width/2;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function US(s){for(let t=0;t<s.lines.length;t++){const n=s.lines[t],r=s.width-n.width;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function GS(s){const t=s.width;for(let n=0;n<s.lines.length;n++){const r=s.lines[n];let o=0,u=r.spacesIndex[o++],c=0;const f=r.spacesIndex.length,g=(t-r.width)/f;for(let p=0;p<r.charPositions.length;p++)p===u&&(u=r.spacesIndex[o++],c+=g),r.charPositions[p]+=c}}function kS(s){if(s==="")return[];typeof s=="string"&&(s=[s]);const t=[];for(let n=0,r=s.length;n<r;n++){const o=s[n];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);if(o[0].length===0||o[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=o[0].charCodeAt(0),c=o[1].charCodeAt(0);if(c<u)throw new Error("[BitmapFont]: Invalid character range.");for(let f=u,m=c;f<=m;f++)t.push(String.fromCharCode(f))}else t.push(...Array.from(o))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let Bl=0;class HS{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,n){var c;let r=`${n.fontFamily}-bitmap`,o=!0;if(n._fill.fill&&!n._stroke)r+=n._fill.fill.styleKey,o=!1;else if(n._stroke||n.dropShadow){let f=n.styleKey;f=f.substring(0,f.lastIndexOf("-")),r=`${f}-bitmap`,o=!1}if(!Gt.has(r)){const f=Object.create(n);f.lineHeight=0;const m=new Cp({style:f,overrideFill:o,overrideSize:!0,...this.defaultOptions});Bl++,Bl>50&&Dt("BitmapText",`You have dynamically created ${Bl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),m.once("destroy",()=>{Bl--,Gt.remove(r)}),Gt.set(r,m)}const u=Gt.get(r);return(c=u.ensureCharacters)==null||c.call(u,t),u}getLayout(t,n,r=!0){const o=this.getFont(t,n),u=ci.graphemeSegmenter(t);return OS(u,n,o,r)}measureText(t,n,r=!0){return this.getLayout(t,n,r)}install(...t){var g,p,y,b;let n=t[0];typeof n=="string"&&(n={name:n,style:t[1],chars:(g=t[2])==null?void 0:g.chars,resolution:(p=t[2])==null?void 0:p.resolution,padding:(y=t[2])==null?void 0:y.padding,skipKerning:(b=t[2])==null?void 0:b.skipKerning},yt(Tt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n==null?void 0:n.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const o=n.style,u=o instanceof er?o:new er(o),c=n.dynamicFill??this._canUseTintForStyle(u),f=new Cp({style:u,overrideFill:c,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),m=kS(n.chars);return f.ensureCharacters(m.join("")),Gt.set(`${r}-bitmap`,f),f.once("destroy",()=>Gt.remove(`${r}-bitmap`)),f}uninstall(t){const n=`${t}-bitmap`,r=Gt.get(n);r&&r.destroy()}_canUseTintForStyle(t){return!t._stroke&&(!t.dropShadow||t.dropShadow.color===0)&&!t._fill.fill&&t._fill.color===16777215}}const Ep=new HS;class s0 extends ky{constructor(t,n){super();const{textures:r,data:o}=t;Object.keys(o.pages).forEach(u=>{const c=o.pages[parseInt(u,10)],f=r[c.id];this.pages.push({texture:f})}),Object.keys(o.chars).forEach(u=>{const c=o.chars[u],{frame:f,source:m,rotate:g}=r[c.page],p=Rt.transformRectCoords(c,f,g,new Lt),y=new bt({frame:p,orig:new Lt(0,0,c.width,c.height),source:m,rotate:g});this.chars[u]={id:u.codePointAt(0),xOffset:c.xOffset,yOffset:c.yOffset,xAdvance:c.xAdvance,kerning:c.kerning??{},texture:y}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:n}=this.pages[t];n.destroy(!0)}this.pages=null}static install(t){Ep.install(t)}static uninstall(t){Ep.uninstall(t)}}const kc={test(s){return typeof s=="string"&&s.startsWith("info face=")},parse(s){const t=s.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const y in t){const b=t[y].match(/^[a-z]+/gm)[0],x=t[y].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),S={};for(const T in x){const A=x[T].split("="),R=A[0],E=A[1].replace(/"/gm,""),B=parseFloat(E),U=isNaN(B)?E:B;S[R]=U}n[b].push(S)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=n.info,[u]=n.common,[c]=n.distanceField??[];c&&(r.distanceField={range:parseInt(c.distanceRange,10),type:c.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(u.lineHeight,10);const f=n.page;for(let y=0;y<f.length;y++)r.pages.push({id:parseInt(f[y].id,10)||0,file:f[y].file});const m={};r.baseLineOffset=r.lineHeight-parseInt(u.base,10);const g=n.char;for(let y=0;y<g.length;y++){const b=g[y],x=parseInt(b.id,10);let S=b.letter??b.char??String.fromCharCode(x);S==="space"&&(S=" "),m[x]=S,r.chars[S]={id:x,page:parseInt(b.page,10)||0,x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xOffset:parseInt(b.xoffset,10),yOffset:parseInt(b.yoffset,10),xAdvance:parseInt(b.xadvance,10),kerning:{}}}const p=n.kerning||[];for(let y=0;y<p.length;y++){const b=parseInt(p[y].first,10),x=parseInt(p[y].second,10),S=parseInt(p[y].amount,10);r.chars[m[x]].kerning[m[b]]=S}return r}},Rp={test(s){const t=s;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(s){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=s.getElementsByTagName("info")[0],r=s.getElementsByTagName("common")[0],o=s.getElementsByTagName("distanceField")[0];o&&(t.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});const u=s.getElementsByTagName("page"),c=s.getElementsByTagName("char"),f=s.getElementsByTagName("kerning");t.fontSize=parseInt(n.getAttribute("size"),10),t.fontFamily=n.getAttribute("face"),t.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let g=0;g<u.length;g++)t.pages.push({id:parseInt(u[g].getAttribute("id"),10)||0,file:u[g].getAttribute("file")});const m={};t.baseLineOffset=t.lineHeight-parseInt(r.getAttribute("base"),10);for(let g=0;g<c.length;g++){const p=c[g],y=parseInt(p.getAttribute("id"),10);let b=p.getAttribute("letter")??p.getAttribute("char")??String.fromCharCode(y);b==="space"&&(b=" "),m[y]=b,t.chars[b]={id:y,page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xOffset:parseInt(p.getAttribute("xoffset"),10),yOffset:parseInt(p.getAttribute("yoffset"),10),xAdvance:parseInt(p.getAttribute("xadvance"),10),kerning:{}}}for(let g=0;g<f.length;g++){const p=parseInt(f[g].getAttribute("first"),10),y=parseInt(f[g].getAttribute("second"),10),b=parseInt(f[g].getAttribute("amount"),10);t.chars[m[y]].kerning[m[p]]=b}return t}},Bp={test(s){return typeof s=="string"&&s.includes("<font>")?Rp.test(Ut.get().parseXML(s)):!1},parse(s){return Rp.parse(Ut.get().parseXML(s))}},NS=[".xml",".fnt"],LS={extension:{type:et.CacheParser,name:"cacheBitmapFont"},test:s=>s instanceof s0,getCacheableAssets(s,t){const n={};return s.forEach(r=>{n[r]=t,n[`${r}-bitmap`]=t}),n[`${t.fontFamily}-bitmap`]=t,n}},YS={extension:{type:et.LoadParser,priority:cn.Normal},name:"loadBitmapFont",id:"bitmap-font",test(s){return NS.includes(Ue.extname(s).toLowerCase())},async testParse(s){return kc.test(s)||Bp.test(s)},async parse(s,t,n){const r=kc.test(s)?kc.parse(s):Bp.parse(s),{src:o}=t,{pages:u}=r,c=[],f=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let y=0;y<u.length;++y){const b=u[y].file;let x=Ue.join(Ue.dirname(o),b);x=Qc(x,o),c.push({src:x,data:f})}const m=await n.load(c),g=c.map(y=>m[y.src]);return new s0({data:r,textures:g},o)},async load(s,t){return await(await Ut.get().fetch(s)).text()},async unload(s,t,n){await Promise.all(s.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),s.destroy()}};class PS{constructor(t,n=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(t){t.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const XS={extension:{type:et.CacheParser,name:"cacheTextureArray"},test:s=>Array.isArray(s)&&s.every(t=>t instanceof bt),getCacheableAssets:(s,t)=>{const n={};return s.forEach(r=>{t.forEach((o,u)=>{n[r+(u===0?"":u+1)]=o})}),n}};async function a0(s){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const VS={extension:{type:et.DetectionParser,priority:1},test:async()=>a0("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")},zp=["png","jpg","jpeg"],qS={extension:{type:et.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...zp],remove:async s=>s.filter(t=>!zp.includes(t))},jS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Vl(s){return jS?!1:document.createElement("video").canPlayType(s)!==""}const FS={extension:{type:et.DetectionParser,priority:0},test:async()=>Vl("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")},QS={extension:{type:et.DetectionParser,priority:0},test:async()=>Vl("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")},ZS={extension:{type:et.DetectionParser,priority:0},test:async()=>Vl("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")},IS={extension:{type:et.DetectionParser,priority:0},test:async()=>a0("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};class WS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,n,r)=>(this._parsersValidated=!1,t[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,n){const r={promise:null,parser:null};return r.promise=(async()=>{var c,f;let o=null,u=null;if((n.parser||n.loadParser)&&(u=this._parserHash[n.parser||n.loadParser],n.loadParser&&Dt(`[Assets] "loadParser" is deprecated, use "parser" instead for ${t}`),u||Dt(`[Assets] specified load parser "${n.parser||n.loadParser}" not found while loading ${t}`)),!u){for(let m=0;m<this.parsers.length;m++){const g=this.parsers[m];if(g.load&&((c=g.test)!=null&&c.call(g,t,n,this))){u=g;break}}if(!u)return Dt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await u.load(t,n,this),r.parser=u;for(let m=0;m<this.parsers.length;m++){const g=this.parsers[m];g.parse&&g.parse&&await((f=g.testParse)==null?void 0:f.call(g,o,n,this))&&(o=await g.parse(o,n,this)||o,r.parser=g)}return o})(),r}async load(t,n){this._parsersValidated||this._validateParsers();let r=0;const o={},u=Ul(t),c=Je(t,g=>({alias:[g],src:g,data:{}})),f=c.length,m=c.map(async g=>{const p=Ue.toAbsolute(g.src);if(!o[g.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,g)),o[g.src]=await this.promiseCache[p].promise,n&&n(++r/f)}catch(y){throw delete this.promiseCache[p],delete o[g.src],new Error(`[Loader.load] Failed to load ${p}.
${y}`)}});return await Promise.all(m),u?o[c[0].src]:o}async unload(t){const r=Je(t,o=>({alias:[o],src:o})).map(async o=>{var f,m;const u=Ue.toAbsolute(o.src),c=this.promiseCache[u];if(c){const g=await c.promise;delete this.promiseCache[u],await((m=(f=c.parser)==null?void 0:f.unload)==null?void 0:m.call(f,g,o,this))}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name||t.id).reduce((t,n)=>(!n.name&&!n.id?Dt("[Assets] parser should have an id"):(t[n.name]||t[n.id])&&Dt(`[Assets] parser id conflict "${n.id}"`),t[n.name]=n,n.id&&(t[n.id]=n),t),{})}}function Hs(s,t){if(Array.isArray(t)){for(const n of t)if(s.startsWith(`data:${n}`))return!0;return!1}return s.startsWith(`data:${t}`)}function Ns(s,t){const n=s.split("?")[0],r=Ue.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const KS=".json",$S="application/json",JS={extension:{type:et.LoadParser,priority:cn.Low},name:"loadJson",id:"json",test(s){return Hs(s,$S)||Ns(s,KS)},async load(s){return await(await Ut.get().fetch(s)).json()}},tA=".txt",eA="text/plain",iA={name:"loadTxt",id:"text",extension:{type:et.LoadParser,priority:cn.Low,name:"loadTxt"},test(s){return Hs(s,eA)||Ns(s,tA)},async load(s){return await(await Ut.get().fetch(s)).text()}},nA=["normal","bold","100","200","300","400","500","600","700","800","900"],sA=[".ttf",".otf",".woff",".woff2"],aA=["font/ttf","font/otf","font/woff","font/woff2"],rA=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function lA(s){const t=Ue.extname(s),o=Ue.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1));let u=o.length>0;for(const f of o)if(!f.match(rA)){u=!1;break}let c=o.join(" ");return u||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const oA=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function uA(s){return oA.test(s)?s:encodeURI(s)}const cA={extension:{type:et.LoadParser,priority:cn.Low},name:"loadWebFont",id:"web-font",test(s){return Hs(s,aA)||Ns(s,sA)},async load(s,t){var r,o,u;const n=Ut.get().getFontFaceSet();if(n){const c=[],f=((r=t.data)==null?void 0:r.family)??lA(s),m=((u=(o=t.data)==null?void 0:o.weights)==null?void 0:u.filter(p=>nA.includes(p)))??["normal"],g=t.data??{};for(let p=0;p<m.length;p++){const y=m[p],b=new FontFace(f,`url(${uA(s)})`,{...g,weight:y});await b.load(),n.add(b),c.push(b)}return Gt.has(`${f}-and-url`)?Gt.get(`${f}-and-url`).entries.push({url:s,faces:c}):Gt.set(`${f}-and-url`,{entries:[{url:s,faces:c}]}),c.length===1?c[0]:c}return Dt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){const t=Array.isArray(s)?s:[s],n=t[0].family,r=Gt.get(`${n}-and-url`),o=r.entries.find(u=>u.faces.some(c=>t.indexOf(c)!==-1));o.faces=o.faces.filter(u=>t.indexOf(u)===-1),o.faces.length===0&&(r.entries=r.entries.filter(u=>u!==o)),t.forEach(u=>{Ut.get().getFontFaceSet().delete(u)}),r.entries.length===0&&Gt.remove(`${n}-and-url`)}};function bh(s,t=1){var r;const n=(r=ks.RETINA_PREFIX)==null?void 0:r.exec(s);return n?parseFloat(n[1]):t}function vh(s,t,n){s.label=n,s._sourceOrigin=n;const r=new bt({source:s,label:n}),o=()=>{delete t.promiseCache[n],Gt.has(n)&&Gt.remove(n)};return r.source.once("destroy",()=>{t.promiseCache[n]&&(Dt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{s.destroyed||(Dt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const hA=".svg",fA="image/svg+xml",dA={extension:{type:et.LoadParser,priority:cn.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(s){return Hs(s,fA)||Ns(s,hA)},async load(s,t,n){var r;return((r=t.data)==null?void 0:r.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?gA(s):mA(s,t,n,this.config.crossOrigin)},unload(s){s.destroy(!0)}};async function mA(s,t,n,r){var A,R,E;const u=await(await Ut.get().fetch(s)).blob(),c=URL.createObjectURL(u),f=Ut.get().createImage();f.src=c,f.crossOrigin=r,await f.decode(),URL.revokeObjectURL(c);const m=((A=t.data)==null?void 0:A.width)??f.width,g=((R=t.data)==null?void 0:R.height)??f.height,p=((E=t.data)==null?void 0:E.resolution)||bh(s),y=Ut.get().createCanvas(m*p,g*p);y.getContext("2d").drawImage(f,0,0,m*p,g*p);const{parseAsGraphicsContext:x,...S}=t.data??{},T=new Ln({resource:y,alphaMode:"premultiply-alpha-on-upload",resolution:p,...S});return vh(T,n,s)}async function gA(s){const n=await(await Ut.get().fetch(s)).text(),r=new qe;return r.svg(n),r}const pA=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Rs=null,ah=class{constructor(){Rs||(Rs=URL.createObjectURL(new Blob([pA],{type:"application/javascript"}))),this.worker=new Worker(Rs)}};ah.revokeObjectURL=function(){Rs&&(URL.revokeObjectURL(Rs),Rs=null)};const yA=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Bs=null;class r0{constructor(){Bs||(Bs=URL.createObjectURL(new Blob([yA],{type:"application/javascript"}))),this.worker=new Worker(Bs)}}r0.revokeObjectURL=function(){Bs&&(URL.revokeObjectURL(Bs),Bs=null)};let Op=0,Hc;class _A{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:n}=new ah;n.addEventListener("message",r=>{n.terminate(),ah.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,n){var r;return this._run("loadImageBitmap",[t,(r=n==null?void 0:n.data)==null?void 0:r.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Hc===void 0&&(Hc=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Hc&&(this._createdWorkers++,t=new r0().worker,t.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,n){await this._initWorkers();const r=new Promise((o,u)=>{this._queue.push({id:t,arguments:n,resolve:o,reject:u})});return this._next(),r}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const n=this._queue.pop(),r=n.id;this._resolveHash[Op]={resolve:n.resolve,reject:n.reject},t.postMessage({data:n.arguments,uuid:Op++,id:r})}reset(){this._workerPool.forEach(t=>t.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:t})=>{t==null||t(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const Dp=new _A,xA=[".jpeg",".jpg",".png",".webp",".avif"],bA=["image/jpeg","image/png","image/webp","image/avif"];async function vA(s,t){var o;const n=await Ut.get().fetch(s);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${n.status} ${n.statusText}`);const r=await n.blob();return((o=t==null?void 0:t.data)==null?void 0:o.alphaMode)==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const l0={name:"loadTextures",id:"texture",extension:{type:et.LoadParser,priority:cn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return Hs(s,bA)||Ns(s,xA)},async load(s,t,n){var u;let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Dp.isImageBitmapSupported()?r=await Dp.loadImageBitmap(s,t):r=await vA(s,t):r=await new Promise((c,f)=>{r=Ut.get().createImage(),r.crossOrigin=this.config.crossOrigin,r.src=s,r.complete?c(r):(r.onload=()=>{c(r)},r.onerror=f)});const o=new Ln({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:((u=t.data)==null?void 0:u.resolution)||bh(s),...t.data});return vh(o,n,s)},unload(s){s.destroy(!0)}},SA=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let Nc,Lc;function AA(s,t,n){n===void 0&&!t.startsWith("data:")?s.crossOrigin=TA(t):n!==!1&&(s.crossOrigin=typeof n=="string"?n:"anonymous")}function wA(s){return new Promise((t,n)=>{s.addEventListener("canplaythrough",r),s.addEventListener("error",o),s.load();function r(){u(),t()}function o(c){u(),n(c)}function u(){s.removeEventListener("canplaythrough",r),s.removeEventListener("error",o)}})}function TA(s,t=globalThis.location){if(s.startsWith("data:"))return"";t||(t=globalThis.location);const n=new URL(s,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}function MA(){const s=[],t=[];for(const n of SA){const r=Qa.MIME_TYPES[n.substring(1)]||`video/${n.substring(1)}`;Vl(r)&&(s.push(n),t.includes(r)||t.push(r))}return{validVideoExtensions:s,validVideoMime:t}}const CA={name:"loadVideo",id:"video",extension:{type:et.LoadParser,name:"loadVideo"},test(s){if(!Nc||!Lc){const{validVideoExtensions:r,validVideoMime:o}=MA();Nc=r,Lc=o}const t=Hs(s,Lc),n=Ns(s,Nc);return t||n},async load(s,t,n){var m,g;const r={...Qa.defaultOptions,resolution:((m=t.data)==null?void 0:m.resolution)||bh(s),alphaMode:((g=t.data)==null?void 0:g.alphaMode)||await hy(),...t.data},o=document.createElement("video"),u={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(u).forEach(p=>{const y=u[p];y!==void 0&&o.setAttribute(p,y)}),r.muted===!0&&(o.muted=!0),AA(o,s,r.crossorigin);const c=document.createElement("source");let f;if(r.mime)f=r.mime;else if(s.startsWith("data:"))f=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){const p=s.split("?")[0].slice(s.lastIndexOf(".")+1).toLowerCase();f=Qa.MIME_TYPES[p]||`video/${p}`}return c.src=s,f&&(c.type=f),new Promise(p=>{const y=async()=>{const b=new Qa({...r,resource:o});o.removeEventListener("canplay",y),t.data.preload&&await wA(o),p(vh(b,n,s))};r.preload&&!r.autoPlay&&o.load(),o.addEventListener("canplay",y),o.appendChild(c)})},unload(s){s.destroy(!0)}},o0={extension:{type:et.ResolveParser,name:"resolveTexture"},test:l0.test,parse:s=>{var t;return{resolution:parseFloat(((t=ks.RETINA_PREFIX.exec(s))==null?void 0:t[1])??"1"),format:s.split(".").pop(),src:s}}},EA={extension:{type:et.ResolveParser,priority:-2,name:"resolveJson"},test:s=>ks.RETINA_PREFIX.test(s)&&s.endsWith(".json"),parse:o0.parse};class RA{constructor(){this._detections=[],this._initialized=!1,this.resolver=new ks,this.loader=new WS,this.cache=Gt,this._backgroundLoader=new PS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var u,c;if(this._initialized){Dt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let f=t.manifest;typeof f=="string"&&(f=await this.load(f)),this.resolver.addManifest(f)}const n=((u=t.texturePreference)==null?void 0:u.resolution)??1,r=typeof n=="number"?[n]:n,o=await this._detectFormats({preferredFormats:(c=t.texturePreference)==null?void 0:c.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,n){this._initialized||await this.init();const r=Ul(t),o=Je(t).map(f=>{if(typeof f!="string"){const m=this.resolver.getAlias(f);return m.some(g=>!this.resolver.hasKey(g))&&this.add(f),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),u=this.resolver.resolve(o),c=await this._mapLoadToResolve(u,n);return r?c[o[0]]:c}addBundle(t,n){this.resolver.addBundle(t,n)}async loadBundle(t,n){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const o=this.resolver.resolveBundle(t),u={},c=Object.keys(o);let f=0,m=0;const g=()=>{n==null||n(++f/m)},p=c.map(y=>{const b=o[y],x=Object.values(b),S=[...new Set(x.flat())];return m+=S.length,this._mapLoadToResolve(b,g).then(T=>{u[y]=T})});return await Promise.all(p),r?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolveBundle(t);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Gt.get(t);const n={};for(let r=0;r<t.length;r++)n[r]=Gt.get(t[r]);return n}async _mapLoadToResolve(t,n){const r=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const o=await this.loader.load(r,n);this._backgroundLoader.active=!0;const u={};return r.forEach(c=>{const f=o[c.src],m=[c.src];c.alias&&m.push(...c.alias),m.forEach(g=>{u[g]=f}),Gt.set(m,f)}),u}async unload(t){this._initialized||await this.init();const n=Je(t).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=Je(t);const n=this.resolver.resolveBundle(t),r=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));await Promise.all(r)}async _unloadFromResolved(t){const n=Object.values(t);n.forEach(r=>{Gt.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(t){let n=[];t.preferredFormats&&(n=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?n=await r.add(n):t.skipDetections||(n=await r.remove(n));return n=n.filter((r,o)=>n.indexOf(r)===o),n}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in t).forEach(r=>{n.config[r]=t[r]})})}}const zi=new RA;oe.handleByList(et.LoadParser,zi.loader.parsers).handleByList(et.ResolveParser,zi.resolver.parsers).handleByList(et.CacheParser,zi.cache.parsers).handleByList(et.DetectionParser,zi.detections);oe.add(XS,qS,VS,IS,FS,QS,ZS,JS,iA,cA,dA,l0,CA,YS,LS,o0,EA);const Up={loader:et.LoadParser,resolver:et.ResolveParser,cache:et.CacheParser,detection:et.DetectionParser};oe.handle(et.Asset,s=>{const t=s.ref;Object.entries(Up).filter(([n])=>!!t[n]).forEach(([n,r])=>oe.add(Object.assign(t[n],{extension:t[n].extension??r})))},s=>{const t=s.ref;Object.keys(Up).filter(n=>!!t[n]).forEach(n=>oe.remove(t[n]))});class Hn extends ch{constructor(t){t instanceof qe&&(t={context:t});const{context:n,roundPixels:r,...o}=t||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new qe,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Hn(this._context.clone()):(this._ownedContext=null,new Hn(this._context))}lineStyle(t,n,r){yt(Tt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return t&&(o.width=t),n&&(o.color=n),r&&(o.alpha=r),this.context.strokeStyle=o,this}beginFill(t,n){yt(Tt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){yt(Tt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==qe.defaultStrokeStyle.width||t.color!==qe.defaultStrokeStyle.color||t.alpha!==qe.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return yt(Tt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return yt(Tt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return yt(Tt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return yt(Tt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return yt(Tt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return yt(Tt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class BA extends ch{constructor(t,n){const{text:r,resolution:o,style:u,anchor:c,width:f,height:m,roundPixels:g,...p}=t;super({...p}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=r??"",this.style=u,this.resolution=o??null,this.allowChildren=!1,this._anchor=new le({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=g??!1,f!==void 0&&(this.width=f),m!==void 0&&(this.height=m)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){var n;t||(t={}),(n=this._style)==null||n.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(t){const n=this.bounds.width,r=this.bounds.height,o=-n*this.anchor.x;let u=0;return t.x>=o&&t.x<=o+n&&(u=-r*this.anchor.y,t.y>=u&&t.y<=u+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t!=null&&t.style)&&this._style.destroy(t),this._style=null,this._text=null}}function zA(s,t){let n=s[0]??{};return(typeof n=="string"||s[1])&&(yt(Tt,`use new ${t}({ text: "hi!", style }) instead`),n={text:n,style:s[1]}),n}let Bn=null,Bi=null;function OA(s,t){Bn||(Bn=Ut.get().createCanvas(256,128),Bi=Bn.getContext("2d",{willReadFrequently:!0}),Bi.globalCompositeOperation="copy",Bi.globalAlpha=1),(Bn.width<s||Bn.height<t)&&(Bn.width=zs(s),Bn.height=zs(t))}function Gp(s,t,n){for(let r=0,o=4*n*t;r<t;++r,o+=4)if(s[o+3]!==0)return!1;return!0}function kp(s,t,n,r,o){const u=4*t;for(let c=r,f=r*u+4*n;c<=o;++c,f+=u)if(s[f+3]!==0)return!1;return!0}function DA(...s){let t=s[0];t.canvas||(t={canvas:s[0],resolution:s[1]});const{canvas:n}=t,r=Math.min(t.resolution??1,1),o=t.width??n.width,u=t.height??n.height;let c=t.output;if(OA(o,u),!Bi)throw new TypeError("Failed to get canvas 2D context");Bi.drawImage(n,0,0,o,u,0,0,o*r,u*r);const m=Bi.getImageData(0,0,o,u).data;let g=0,p=0,y=o-1,b=u-1;for(;p<u&&Gp(m,o,p);)++p;if(p===u)return Lt.EMPTY;for(;Gp(m,o,b);)--b;for(;kp(m,o,g,p,b);)++g;for(;kp(m,o,y,p,b);)--y;return++y,++b,Bi.globalCompositeOperation="source-over",Bi.strokeRect(g,p,y-g,b-p),Bi.globalCompositeOperation="copy",c??(c=new Lt),c.set(g/r,p/r,(y-g)/r,(b-p)/r),c}const Hp=new Lt;class UA{getCanvasAndContext(t){const{text:n,style:r,resolution:o=1}=t,u=r._getFinalPadding(),c=ci.measureText(n||" ",r),f=Math.ceil(Math.ceil(Math.max(1,c.width)+u*2)*o),m=Math.ceil(Math.ceil(Math.max(1,c.height)+u*2)*o),g=Hl.getOptimalCanvasAndContext(f,m);this._renderTextToCanvas(n,r,u,o,g);const p=r.trim?DA({canvas:g.canvas,width:f,height:m,resolution:1,output:Hp}):Hp.set(0,0,f,m);return{canvasAndContext:g,frame:p}}returnCanvasAndContext(t){Hl.returnCanvasAndContext(t)}_renderTextToCanvas(t,n,r,o,u){var B,U,q,L;const{canvas:c,context:f}=u,m=Gl(n),g=ci.measureText(t||" ",n),p=g.lines,y=g.lineHeight,b=g.lineWidths,x=g.maxLineWidth,S=g.fontProperties,T=c.height;if(f.resetTransform(),f.scale(o,o),f.textBaseline=n.textBaseline,(B=n._stroke)!=null&&B.width){const N=n._stroke;f.lineWidth=N.width,f.miterLimit=N.miterLimit,f.lineJoin=N.join,f.lineCap=N.cap}f.font=m;let A,R;const E=n.dropShadow?2:1;for(let N=0;N<E;++N){const K=n.dropShadow&&N===0,Q=K?Math.ceil(Math.max(1,T)+r*2):0,F=Q*o;if(K){f.fillStyle="black",f.strokeStyle="black";const st=n.dropShadow,kt=st.color,Ht=st.alpha;f.shadowColor=Zt.shared.setValue(kt).setAlpha(Ht).toRgbaString();const O=st.blur*o,X=st.distance*o;f.shadowBlur=O,f.shadowOffsetX=Math.cos(st.angle)*X,f.shadowOffsetY=Math.sin(st.angle)*X+F}else{if(f.fillStyle=n._fill?Nl(n._fill,f,g,r*2):null,(U=n._stroke)!=null&&U.width){const st=n._stroke.width*.5+r*2;f.strokeStyle=Nl(n._stroke,f,g,st)}f.shadowColor="black"}let Z=(y-S.fontSize)/2;y-S.fontSize<0&&(Z=0);const ut=((q=n._stroke)==null?void 0:q.width)??0;for(let st=0;st<p.length;st++)A=ut/2,R=ut/2+st*y+S.ascent+Z,n.align==="right"?A+=x-b[st]:n.align==="center"&&(A+=(x-b[st])/2),(L=n._stroke)!=null&&L.width&&this._drawLetterSpacing(p[st],n,u,A+r,R+r-Q,!0),n._fill!==void 0&&this._drawLetterSpacing(p[st],n,u,A+r,R+r-Q)}}_drawLetterSpacing(t,n,r,o,u,c=!1){const{context:f}=r,m=n.letterSpacing;let g=!1;if(ci.experimentalLetterSpacingSupported&&(ci.experimentalLetterSpacing?(f.letterSpacing=`${m}px`,f.textLetterSpacing=`${m}px`,g=!0):(f.letterSpacing="0px",f.textLetterSpacing="0px")),m===0||g){c?f.strokeText(t,o,u):f.fillText(t,o,u);return}let p=o;const y=ci.graphemeSegmenter(t);let b=f.measureText(t).width,x=0;for(let S=0;S<y.length;++S){const T=y[S];c?f.strokeText(T,p,u):f.fillText(T,p,u);let A="";for(let R=S+1;R<y.length;++R)A+=y[R];x=f.measureText(A).width,p+=b-x+m,b=x}}}const Np=new UA;class GA extends BA{constructor(...t){const n=zA(t,"Text");super(n,er),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof Os?n.textureStyle:new Os(n.textureStyle))}updateBounds(){const t=this._bounds,n=this._anchor;let r=0,o=0;if(this._style.trim){const{frame:u,canvasAndContext:c}=Np.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Np.returnCanvasAndContext(c),r=u.width,o=u.height}else{const u=ci.measureText(this._text,this._style);r=u.width,o=u.height}t.minX=-n._x*r,t.maxX=t.minX+r,t.minY=-n._y*o,t.maxY=t.minY+o}}oe.add(Yx,Px);const kA=""+new URL("pixel_art_background-CYLdTdZ3.png",import.meta.url).href,HA=""+new URL("girl_idle-DOkRCijd.png",import.meta.url).href,NA=""+new URL("girl_sitting_up-_f2FmHxQ.png",import.meta.url).href,LA=""+new URL("girl_sitting-CnggQYOR.png",import.meta.url).href,YA=""+new URL("girl_reading-CfQkQUoM.png",import.meta.url).href,PA=()=>{const s=zn.useRef(null),t=zn.useRef(null),[n,r]=zn.useState(!1),[o,u]=zn.useState(!1),[c,f]=zn.useState(0),m=["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.","Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt."];zn.useEffect(()=>((async()=>{try{const y=new Gy;await y.init({width:window.innerWidth,height:window.innerHeight,backgroundColor:1710638,resizeTo:window}),t.current=y,s.current&&s.current.appendChild(y.canvas);const b=new un;y.stage.addChild(b);const x=await zi.load(kA),S=new Nn(x);S.width=y.screen.width,S.height=y.screen.height,b.addChild(S);const T=await zi.load(HA),A=await zi.load(NA),R=await zi.load(LA),E=await zi.load(YA),B=new Nn(T);B.anchor.set(.5,1),B.x=y.screen.width*.5,B.y=y.screen.height*.8,B.scale.set(2),b.addChild(B);const U=[];for(let Q=0;Q<50;Q++){const F=new Hn;F.beginFill(16777215),F.drawCircle(0,0,Math.random()*2+1),F.endFill(),F.x=Math.random()*y.screen.width,F.y=Math.random()*y.screen.height*.6,F.alpha=Math.random()*.8+.2,b.addChild(F),U.push(F)}y.ticker.add(()=>{U.forEach((Q,F)=>{Q.alpha=.2+Math.sin(Date.now()*.001+F)*.3})}),setInterval(()=>{const Q=new Hn;Q.beginFill(16777215),Q.drawCircle(0,0,2),Q.endFill(),Q.x=Math.random()*y.screen.width,Q.y=Math.random()*y.screen.height*.3;const F=new Hn;F.lineStyle(2,16777215,.5),F.moveTo(0,0),F.lineTo(-20,-10),Q.addChild(F),b.addChild(Q);const Z=3+Math.random()*2,ut=Math.PI/4+Math.random()*Math.PI/4,st=()=>{Q.x+=Math.cos(ut)*Z,Q.y+=Math.sin(ut)*Z,Q.alpha-=.01,Q.alpha<=0||Q.x>y.screen.width||Q.y>y.screen.height?b.removeChild(Q):requestAnimationFrame(st)};st()},3e3+Math.random()*5e3);const L=new Hn;L.beginFill(7030465),L.drawRoundedRect(0,0,200,50,10),L.endFill(),L.x=y.screen.width/2-100,L.y=y.screen.height-100,L.interactive=!0,L.cursor="pointer";const N=new GA("Levantar e Ler",{fontFamily:"Arial",fontSize:16,fill:16777215,align:"center"});N.anchor.set(.5),N.x=100,N.y=25,L.addChild(N),b.addChild(L);const K=async()=>{if(n)return;r(!0);const Q=[T,A,R,E];for(let F=0;F<Q.length;F++)B.texture=Q[F],await new Promise(Z=>setTimeout(Z,800));b.removeChild(L),u(!0),r(!1)};L.on("pointerdown",K)}catch(y){console.error("Erro ao inicializar PixiJS:",y)}})(),()=>{t.current&&t.current.destroy(!0)}),[]);const g=()=>{f(p=>(p+1)%m.length)};return Ri.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[Ri.jsx("div",{ref:s,className:"w-full h-full"}),o&&Ri.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center",children:Ri.jsxs("div",{className:"bg-yellow-100 p-8 rounded-lg max-w-md mx-4 relative",children:[Ri.jsx("div",{className:"text-gray-800 text-sm leading-relaxed mb-4",children:m[c]}),Ri.jsx("button",{onClick:g,className:"absolute bottom-4 right-4 text-2xl text-gray-600 hover:text-gray-800",children:""}),Ri.jsxs("div",{className:"absolute top-4 right-4 text-xs text-gray-500",children:[c+1," / ",m.length]})]})})]})};Hx.createRoot(document.getElementById("root")).render(Ri.jsx(zn.StrictMode,{children:Ri.jsx(PA,{})}));export{Oy as $,zy as A,ve as B,un as C,Ut as D,et as E,Rb as F,Yl as G,Lg as H,Nn as I,Jb as J,o1 as K,Qt as L,_t as M,Lt as N,M1 as O,de as P,Pg as Q,Ic as R,q1 as S,Sl as T,jc as U,bc as V,Xg as W,Ob as X,Os as Y,Zt as Z,Jp as _,ei as a,yt as a0,Tt as a1,z1 as a2,tv as a3,Q1 as a4,xv as a5,vv as a6,Mv as a7,Ev as a8,Rv as a9,Qy as aa,np as ab,ep as ac,Ep as ad,ci as ae,OS as af,Gt as ag,Hn as ah,Jx as ai,er as aj,Np as ak,Wy as al,Ja as b,Ol as c,hh as d,oe as e,ip as f,P1 as g,Ey as h,uy as i,ii as j,Ay as k,Hl as l,_v as m,bv as n,wv as o,Cv as p,fh as q,fb as r,bt as s,xy as t,$x as u,zv as v,Dt as w,Oi as x,Wp as y,ti as z};
